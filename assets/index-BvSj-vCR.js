(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))r(o);new MutationObserver(o=>{for(const c of o)if(c.type==="childList")for(const d of c.addedNodes)d.tagName==="LINK"&&d.rel==="modulepreload"&&r(d)}).observe(document,{childList:!0,subtree:!0});function i(o){const c={};return o.integrity&&(c.integrity=o.integrity),o.referrerPolicy&&(c.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?c.credentials="include":o.crossOrigin==="anonymous"?c.credentials="omit":c.credentials="same-origin",c}function r(o){if(o.ep)return;o.ep=!0;const c=i(o);fetch(o.href,c)}})();function y0(s){return s&&s.__esModule&&Object.prototype.hasOwnProperty.call(s,"default")?s.default:s}var xd={exports:{}},po={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var D_;function E1(){if(D_)return po;D_=1;var s=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function i(r,o,c){var d=null;if(c!==void 0&&(d=""+c),o.key!==void 0&&(d=""+o.key),"key"in o){c={};for(var p in o)p!=="key"&&(c[p]=o[p])}else c=o;return o=c.ref,{$$typeof:s,type:r,key:d,ref:o!==void 0?o:null,props:c}}return po.Fragment=e,po.jsx=i,po.jsxs=i,po}var O_;function b1(){return O_||(O_=1,xd.exports=E1()),xd.exports}var b=b1(),Cd={exports:{}},ve={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var M_;function T1(){if(M_)return ve;M_=1;var s=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),i=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),c=Symbol.for("react.consumer"),d=Symbol.for("react.context"),p=Symbol.for("react.forward_ref"),_=Symbol.for("react.suspense"),y=Symbol.for("react.memo"),T=Symbol.for("react.lazy"),A=Symbol.for("react.activity"),x=Symbol.iterator;function B(M){return M===null||typeof M!="object"?null:(M=x&&M[x]||M["@@iterator"],typeof M=="function"?M:null)}var K={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},Z=Object.assign,W={};function ae(M,X,ne){this.props=M,this.context=X,this.refs=W,this.updater=ne||K}ae.prototype.isReactComponent={},ae.prototype.setState=function(M,X){if(typeof M!="object"&&typeof M!="function"&&M!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,M,X,"setState")},ae.prototype.forceUpdate=function(M){this.updater.enqueueForceUpdate(this,M,"forceUpdate")};function ue(){}ue.prototype=ae.prototype;function he(M,X,ne){this.props=M,this.context=X,this.refs=W,this.updater=ne||K}var ke=he.prototype=new ue;ke.constructor=he,Z(ke,ae.prototype),ke.isPureReactComponent=!0;var ze=Array.isArray;function Le(){}var w={H:null,A:null,T:null,S:null},R=Object.prototype.hasOwnProperty;function N(M,X,ne){var se=ne.ref;return{$$typeof:s,type:M,key:X,ref:se!==void 0?se:null,props:ne}}function V(M,X){return N(M.type,X,M.props)}function O(M){return typeof M=="object"&&M!==null&&M.$$typeof===s}function L(M){var X={"=":"=0",":":"=2"};return"$"+M.replace(/[=:]/g,function(ne){return X[ne]})}var C=/\/+/g;function st(M,X){return typeof M=="object"&&M!==null&&M.key!=null?L(""+M.key):X.toString(36)}function Ct(M){switch(M.status){case"fulfilled":return M.value;case"rejected":throw M.reason;default:switch(typeof M.status=="string"?M.then(Le,Le):(M.status="pending",M.then(function(X){M.status==="pending"&&(M.status="fulfilled",M.value=X)},function(X){M.status==="pending"&&(M.status="rejected",M.reason=X)})),M.status){case"fulfilled":return M.value;case"rejected":throw M.reason}}throw M}function G(M,X,ne,se,ye){var Se=typeof M;(Se==="undefined"||Se==="boolean")&&(M=null);var Me=!1;if(M===null)Me=!0;else switch(Se){case"bigint":case"string":case"number":Me=!0;break;case"object":switch(M.$$typeof){case s:case e:Me=!0;break;case T:return Me=M._init,G(Me(M._payload),X,ne,se,ye)}}if(Me)return ye=ye(M),Me=se===""?"."+st(M,0):se,ze(ye)?(ne="",Me!=null&&(ne=Me.replace(C,"$&/")+"/"),G(ye,X,ne,"",function(sr){return sr})):ye!=null&&(O(ye)&&(ye=V(ye,ne+(ye.key==null||M&&M.key===ye.key?"":(""+ye.key).replace(C,"$&/")+"/")+Me)),X.push(ye)),1;Me=0;var It=se===""?".":se+":";if(ze(M))for(var rt=0;rt<M.length;rt++)se=M[rt],Se=It+st(se,rt),Me+=G(se,X,ne,Se,ye);else if(rt=B(M),typeof rt=="function")for(M=rt.call(M),rt=0;!(se=M.next()).done;)se=se.value,Se=It+st(se,rt++),Me+=G(se,X,ne,Se,ye);else if(Se==="object"){if(typeof M.then=="function")return G(Ct(M),X,ne,se,ye);throw X=String(M),Error("Objects are not valid as a React child (found: "+(X==="[object Object]"?"object with keys {"+Object.keys(M).join(", ")+"}":X)+"). If you meant to render a collection of children, use an array instead.")}return Me}function te(M,X,ne){if(M==null)return M;var se=[],ye=0;return G(M,se,"","",function(Se){return X.call(ne,Se,ye++)}),se}function fe(M){if(M._status===-1){var X=M._result;X=X(),X.then(function(ne){(M._status===0||M._status===-1)&&(M._status=1,M._result=ne)},function(ne){(M._status===0||M._status===-1)&&(M._status=2,M._result=ne)}),M._status===-1&&(M._status=0,M._result=X)}if(M._status===1)return M._result.default;throw M._result}var Ue=typeof reportError=="function"?reportError:function(M){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var X=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof M=="object"&&M!==null&&typeof M.message=="string"?String(M.message):String(M),error:M});if(!window.dispatchEvent(X))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",M);return}console.error(M)},Fe={map:te,forEach:function(M,X,ne){te(M,function(){X.apply(this,arguments)},ne)},count:function(M){var X=0;return te(M,function(){X++}),X},toArray:function(M){return te(M,function(X){return X})||[]},only:function(M){if(!O(M))throw Error("React.Children.only expected to receive a single React element child.");return M}};return ve.Activity=A,ve.Children=Fe,ve.Component=ae,ve.Fragment=i,ve.Profiler=o,ve.PureComponent=he,ve.StrictMode=r,ve.Suspense=_,ve.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=w,ve.__COMPILER_RUNTIME={__proto__:null,c:function(M){return w.H.useMemoCache(M)}},ve.cache=function(M){return function(){return M.apply(null,arguments)}},ve.cacheSignal=function(){return null},ve.cloneElement=function(M,X,ne){if(M==null)throw Error("The argument must be a React element, but you passed "+M+".");var se=Z({},M.props),ye=M.key;if(X!=null)for(Se in X.key!==void 0&&(ye=""+X.key),X)!R.call(X,Se)||Se==="key"||Se==="__self"||Se==="__source"||Se==="ref"&&X.ref===void 0||(se[Se]=X[Se]);var Se=arguments.length-2;if(Se===1)se.children=ne;else if(1<Se){for(var Me=Array(Se),It=0;It<Se;It++)Me[It]=arguments[It+2];se.children=Me}return N(M.type,ye,se)},ve.createContext=function(M){return M={$$typeof:d,_currentValue:M,_currentValue2:M,_threadCount:0,Provider:null,Consumer:null},M.Provider=M,M.Consumer={$$typeof:c,_context:M},M},ve.createElement=function(M,X,ne){var se,ye={},Se=null;if(X!=null)for(se in X.key!==void 0&&(Se=""+X.key),X)R.call(X,se)&&se!=="key"&&se!=="__self"&&se!=="__source"&&(ye[se]=X[se]);var Me=arguments.length-2;if(Me===1)ye.children=ne;else if(1<Me){for(var It=Array(Me),rt=0;rt<Me;rt++)It[rt]=arguments[rt+2];ye.children=It}if(M&&M.defaultProps)for(se in Me=M.defaultProps,Me)ye[se]===void 0&&(ye[se]=Me[se]);return N(M,Se,ye)},ve.createRef=function(){return{current:null}},ve.forwardRef=function(M){return{$$typeof:p,render:M}},ve.isValidElement=O,ve.lazy=function(M){return{$$typeof:T,_payload:{_status:-1,_result:M},_init:fe}},ve.memo=function(M,X){return{$$typeof:y,type:M,compare:X===void 0?null:X}},ve.startTransition=function(M){var X=w.T,ne={};w.T=ne;try{var se=M(),ye=w.S;ye!==null&&ye(ne,se),typeof se=="object"&&se!==null&&typeof se.then=="function"&&se.then(Le,Ue)}catch(Se){Ue(Se)}finally{X!==null&&ne.types!==null&&(X.types=ne.types),w.T=X}},ve.unstable_useCacheRefresh=function(){return w.H.useCacheRefresh()},ve.use=function(M){return w.H.use(M)},ve.useActionState=function(M,X,ne){return w.H.useActionState(M,X,ne)},ve.useCallback=function(M,X){return w.H.useCallback(M,X)},ve.useContext=function(M){return w.H.useContext(M)},ve.useDebugValue=function(){},ve.useDeferredValue=function(M,X){return w.H.useDeferredValue(M,X)},ve.useEffect=function(M,X){return w.H.useEffect(M,X)},ve.useEffectEvent=function(M){return w.H.useEffectEvent(M)},ve.useId=function(){return w.H.useId()},ve.useImperativeHandle=function(M,X,ne){return w.H.useImperativeHandle(M,X,ne)},ve.useInsertionEffect=function(M,X){return w.H.useInsertionEffect(M,X)},ve.useLayoutEffect=function(M,X){return w.H.useLayoutEffect(M,X)},ve.useMemo=function(M,X){return w.H.useMemo(M,X)},ve.useOptimistic=function(M,X){return w.H.useOptimistic(M,X)},ve.useReducer=function(M,X,ne){return w.H.useReducer(M,X,ne)},ve.useRef=function(M){return w.H.useRef(M)},ve.useState=function(M){return w.H.useState(M)},ve.useSyncExternalStore=function(M,X,ne){return w.H.useSyncExternalStore(M,X,ne)},ve.useTransition=function(){return w.H.useTransition()},ve.version="19.2.4",ve}var V_;function bm(){return V_||(V_=1,Cd.exports=T1()),Cd.exports}var We=bm();const Qd=y0(We);var Id={exports:{}},go={},Nd={exports:{}},Dd={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var k_;function S1(){return k_||(k_=1,(function(s){function e(G,te){var fe=G.length;G.push(te);e:for(;0<fe;){var Ue=fe-1>>>1,Fe=G[Ue];if(0<o(Fe,te))G[Ue]=te,G[fe]=Fe,fe=Ue;else break e}}function i(G){return G.length===0?null:G[0]}function r(G){if(G.length===0)return null;var te=G[0],fe=G.pop();if(fe!==te){G[0]=fe;e:for(var Ue=0,Fe=G.length,M=Fe>>>1;Ue<M;){var X=2*(Ue+1)-1,ne=G[X],se=X+1,ye=G[se];if(0>o(ne,fe))se<Fe&&0>o(ye,ne)?(G[Ue]=ye,G[se]=fe,Ue=se):(G[Ue]=ne,G[X]=fe,Ue=X);else if(se<Fe&&0>o(ye,fe))G[Ue]=ye,G[se]=fe,Ue=se;else break e}}return te}function o(G,te){var fe=G.sortIndex-te.sortIndex;return fe!==0?fe:G.id-te.id}if(s.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var c=performance;s.unstable_now=function(){return c.now()}}else{var d=Date,p=d.now();s.unstable_now=function(){return d.now()-p}}var _=[],y=[],T=1,A=null,x=3,B=!1,K=!1,Z=!1,W=!1,ae=typeof setTimeout=="function"?setTimeout:null,ue=typeof clearTimeout=="function"?clearTimeout:null,he=typeof setImmediate<"u"?setImmediate:null;function ke(G){for(var te=i(y);te!==null;){if(te.callback===null)r(y);else if(te.startTime<=G)r(y),te.sortIndex=te.expirationTime,e(_,te);else break;te=i(y)}}function ze(G){if(Z=!1,ke(G),!K)if(i(_)!==null)K=!0,Le||(Le=!0,L());else{var te=i(y);te!==null&&Ct(ze,te.startTime-G)}}var Le=!1,w=-1,R=5,N=-1;function V(){return W?!0:!(s.unstable_now()-N<R)}function O(){if(W=!1,Le){var G=s.unstable_now();N=G;var te=!0;try{e:{K=!1,Z&&(Z=!1,ue(w),w=-1),B=!0;var fe=x;try{t:{for(ke(G),A=i(_);A!==null&&!(A.expirationTime>G&&V());){var Ue=A.callback;if(typeof Ue=="function"){A.callback=null,x=A.priorityLevel;var Fe=Ue(A.expirationTime<=G);if(G=s.unstable_now(),typeof Fe=="function"){A.callback=Fe,ke(G),te=!0;break t}A===i(_)&&r(_),ke(G)}else r(_);A=i(_)}if(A!==null)te=!0;else{var M=i(y);M!==null&&Ct(ze,M.startTime-G),te=!1}}break e}finally{A=null,x=fe,B=!1}te=void 0}}finally{te?L():Le=!1}}}var L;if(typeof he=="function")L=function(){he(O)};else if(typeof MessageChannel<"u"){var C=new MessageChannel,st=C.port2;C.port1.onmessage=O,L=function(){st.postMessage(null)}}else L=function(){ae(O,0)};function Ct(G,te){w=ae(function(){G(s.unstable_now())},te)}s.unstable_IdlePriority=5,s.unstable_ImmediatePriority=1,s.unstable_LowPriority=4,s.unstable_NormalPriority=3,s.unstable_Profiling=null,s.unstable_UserBlockingPriority=2,s.unstable_cancelCallback=function(G){G.callback=null},s.unstable_forceFrameRate=function(G){0>G||125<G?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):R=0<G?Math.floor(1e3/G):5},s.unstable_getCurrentPriorityLevel=function(){return x},s.unstable_next=function(G){switch(x){case 1:case 2:case 3:var te=3;break;default:te=x}var fe=x;x=te;try{return G()}finally{x=fe}},s.unstable_requestPaint=function(){W=!0},s.unstable_runWithPriority=function(G,te){switch(G){case 1:case 2:case 3:case 4:case 5:break;default:G=3}var fe=x;x=G;try{return te()}finally{x=fe}},s.unstable_scheduleCallback=function(G,te,fe){var Ue=s.unstable_now();switch(typeof fe=="object"&&fe!==null?(fe=fe.delay,fe=typeof fe=="number"&&0<fe?Ue+fe:Ue):fe=Ue,G){case 1:var Fe=-1;break;case 2:Fe=250;break;case 5:Fe=1073741823;break;case 4:Fe=1e4;break;default:Fe=5e3}return Fe=fe+Fe,G={id:T++,callback:te,priorityLevel:G,startTime:fe,expirationTime:Fe,sortIndex:-1},fe>Ue?(G.sortIndex=fe,e(y,G),i(_)===null&&G===i(y)&&(Z?(ue(w),w=-1):Z=!0,Ct(ze,fe-Ue))):(G.sortIndex=Fe,e(_,G),K||B||(K=!0,Le||(Le=!0,L()))),G},s.unstable_shouldYield=V,s.unstable_wrapCallback=function(G){var te=x;return function(){var fe=x;x=te;try{return G.apply(this,arguments)}finally{x=fe}}}})(Dd)),Dd}var L_;function A1(){return L_||(L_=1,Nd.exports=S1()),Nd.exports}var Od={exports:{}},Xt={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var U_;function w1(){if(U_)return Xt;U_=1;var s=bm();function e(_){var y="https://react.dev/errors/"+_;if(1<arguments.length){y+="?args[]="+encodeURIComponent(arguments[1]);for(var T=2;T<arguments.length;T++)y+="&args[]="+encodeURIComponent(arguments[T])}return"Minified React error #"+_+"; visit "+y+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function i(){}var r={d:{f:i,r:function(){throw Error(e(522))},D:i,C:i,L:i,m:i,X:i,S:i,M:i},p:0,findDOMNode:null},o=Symbol.for("react.portal");function c(_,y,T){var A=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:o,key:A==null?null:""+A,children:_,containerInfo:y,implementation:T}}var d=s.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function p(_,y){if(_==="font")return"";if(typeof y=="string")return y==="use-credentials"?y:""}return Xt.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=r,Xt.createPortal=function(_,y){var T=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!y||y.nodeType!==1&&y.nodeType!==9&&y.nodeType!==11)throw Error(e(299));return c(_,y,null,T)},Xt.flushSync=function(_){var y=d.T,T=r.p;try{if(d.T=null,r.p=2,_)return _()}finally{d.T=y,r.p=T,r.d.f()}},Xt.preconnect=function(_,y){typeof _=="string"&&(y?(y=y.crossOrigin,y=typeof y=="string"?y==="use-credentials"?y:"":void 0):y=null,r.d.C(_,y))},Xt.prefetchDNS=function(_){typeof _=="string"&&r.d.D(_)},Xt.preinit=function(_,y){if(typeof _=="string"&&y&&typeof y.as=="string"){var T=y.as,A=p(T,y.crossOrigin),x=typeof y.integrity=="string"?y.integrity:void 0,B=typeof y.fetchPriority=="string"?y.fetchPriority:void 0;T==="style"?r.d.S(_,typeof y.precedence=="string"?y.precedence:void 0,{crossOrigin:A,integrity:x,fetchPriority:B}):T==="script"&&r.d.X(_,{crossOrigin:A,integrity:x,fetchPriority:B,nonce:typeof y.nonce=="string"?y.nonce:void 0})}},Xt.preinitModule=function(_,y){if(typeof _=="string")if(typeof y=="object"&&y!==null){if(y.as==null||y.as==="script"){var T=p(y.as,y.crossOrigin);r.d.M(_,{crossOrigin:T,integrity:typeof y.integrity=="string"?y.integrity:void 0,nonce:typeof y.nonce=="string"?y.nonce:void 0})}}else y==null&&r.d.M(_)},Xt.preload=function(_,y){if(typeof _=="string"&&typeof y=="object"&&y!==null&&typeof y.as=="string"){var T=y.as,A=p(T,y.crossOrigin);r.d.L(_,T,{crossOrigin:A,integrity:typeof y.integrity=="string"?y.integrity:void 0,nonce:typeof y.nonce=="string"?y.nonce:void 0,type:typeof y.type=="string"?y.type:void 0,fetchPriority:typeof y.fetchPriority=="string"?y.fetchPriority:void 0,referrerPolicy:typeof y.referrerPolicy=="string"?y.referrerPolicy:void 0,imageSrcSet:typeof y.imageSrcSet=="string"?y.imageSrcSet:void 0,imageSizes:typeof y.imageSizes=="string"?y.imageSizes:void 0,media:typeof y.media=="string"?y.media:void 0})}},Xt.preloadModule=function(_,y){if(typeof _=="string")if(y){var T=p(y.as,y.crossOrigin);r.d.m(_,{as:typeof y.as=="string"&&y.as!=="script"?y.as:void 0,crossOrigin:T,integrity:typeof y.integrity=="string"?y.integrity:void 0})}else r.d.m(_)},Xt.requestFormReset=function(_){r.d.r(_)},Xt.unstable_batchedUpdates=function(_,y){return _(y)},Xt.useFormState=function(_,y,T){return d.H.useFormState(_,y,T)},Xt.useFormStatus=function(){return d.H.useHostTransitionStatus()},Xt.version="19.2.4",Xt}var j_;function R1(){if(j_)return Od.exports;j_=1;function s(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(s)}catch(e){console.error(e)}}return s(),Od.exports=w1(),Od.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var P_;function x1(){if(P_)return go;P_=1;var s=A1(),e=bm(),i=R1();function r(t){var n="https://react.dev/errors/"+t;if(1<arguments.length){n+="?args[]="+encodeURIComponent(arguments[1]);for(var a=2;a<arguments.length;a++)n+="&args[]="+encodeURIComponent(arguments[a])}return"Minified React error #"+t+"; visit "+n+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function o(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function c(t){var n=t,a=t;if(t.alternate)for(;n.return;)n=n.return;else{t=n;do n=t,(n.flags&4098)!==0&&(a=n.return),t=n.return;while(t)}return n.tag===3?a:null}function d(t){if(t.tag===13){var n=t.memoizedState;if(n===null&&(t=t.alternate,t!==null&&(n=t.memoizedState)),n!==null)return n.dehydrated}return null}function p(t){if(t.tag===31){var n=t.memoizedState;if(n===null&&(t=t.alternate,t!==null&&(n=t.memoizedState)),n!==null)return n.dehydrated}return null}function _(t){if(c(t)!==t)throw Error(r(188))}function y(t){var n=t.alternate;if(!n){if(n=c(t),n===null)throw Error(r(188));return n!==t?null:t}for(var a=t,l=n;;){var h=a.return;if(h===null)break;var f=h.alternate;if(f===null){if(l=h.return,l!==null){a=l;continue}break}if(h.child===f.child){for(f=h.child;f;){if(f===a)return _(h),t;if(f===l)return _(h),n;f=f.sibling}throw Error(r(188))}if(a.return!==l.return)a=h,l=f;else{for(var g=!1,E=h.child;E;){if(E===a){g=!0,a=h,l=f;break}if(E===l){g=!0,l=h,a=f;break}E=E.sibling}if(!g){for(E=f.child;E;){if(E===a){g=!0,a=f,l=h;break}if(E===l){g=!0,l=f,a=h;break}E=E.sibling}if(!g)throw Error(r(189))}}if(a.alternate!==l)throw Error(r(190))}if(a.tag!==3)throw Error(r(188));return a.stateNode.current===a?t:n}function T(t){var n=t.tag;if(n===5||n===26||n===27||n===6)return t;for(t=t.child;t!==null;){if(n=T(t),n!==null)return n;t=t.sibling}return null}var A=Object.assign,x=Symbol.for("react.element"),B=Symbol.for("react.transitional.element"),K=Symbol.for("react.portal"),Z=Symbol.for("react.fragment"),W=Symbol.for("react.strict_mode"),ae=Symbol.for("react.profiler"),ue=Symbol.for("react.consumer"),he=Symbol.for("react.context"),ke=Symbol.for("react.forward_ref"),ze=Symbol.for("react.suspense"),Le=Symbol.for("react.suspense_list"),w=Symbol.for("react.memo"),R=Symbol.for("react.lazy"),N=Symbol.for("react.activity"),V=Symbol.for("react.memo_cache_sentinel"),O=Symbol.iterator;function L(t){return t===null||typeof t!="object"?null:(t=O&&t[O]||t["@@iterator"],typeof t=="function"?t:null)}var C=Symbol.for("react.client.reference");function st(t){if(t==null)return null;if(typeof t=="function")return t.$$typeof===C?null:t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case Z:return"Fragment";case ae:return"Profiler";case W:return"StrictMode";case ze:return"Suspense";case Le:return"SuspenseList";case N:return"Activity"}if(typeof t=="object")switch(t.$$typeof){case K:return"Portal";case he:return t.displayName||"Context";case ue:return(t._context.displayName||"Context")+".Consumer";case ke:var n=t.render;return t=t.displayName,t||(t=n.displayName||n.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case w:return n=t.displayName||null,n!==null?n:st(t.type)||"Memo";case R:n=t._payload,t=t._init;try{return st(t(n))}catch{}}return null}var Ct=Array.isArray,G=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,te=i.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,fe={pending:!1,data:null,method:null,action:null},Ue=[],Fe=-1;function M(t){return{current:t}}function X(t){0>Fe||(t.current=Ue[Fe],Ue[Fe]=null,Fe--)}function ne(t,n){Fe++,Ue[Fe]=t.current,t.current=n}var se=M(null),ye=M(null),Se=M(null),Me=M(null);function It(t,n){switch(ne(Se,n),ne(ye,t),ne(se,null),n.nodeType){case 9:case 11:t=(t=n.documentElement)&&(t=t.namespaceURI)?e_(t):0;break;default:if(t=n.tagName,n=n.namespaceURI)n=e_(n),t=t_(n,t);else switch(t){case"svg":t=1;break;case"math":t=2;break;default:t=0}}X(se),ne(se,t)}function rt(){X(se),X(ye),X(Se)}function sr(t){t.memoizedState!==null&&ne(Me,t);var n=se.current,a=t_(n,t.type);n!==a&&(ne(ye,t),ne(se,a))}function Yr(t){ye.current===t&&(X(se),X(ye)),Me.current===t&&(X(Me),co._currentValue=fe)}var Xr,Jr;function ei(t){if(Xr===void 0)try{throw Error()}catch(a){var n=a.stack.trim().match(/\n( *(at )?)/);Xr=n&&n[1]||"",Jr=-1<a.stack.indexOf(`
    at`)?" (<anonymous>)":-1<a.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Xr+t+Jr}var cl=!1;function rr(t,n){if(!t||cl)return"";cl=!0;var a=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var l={DetermineComponentFrameRoot:function(){try{if(n){var Y=function(){throw Error()};if(Object.defineProperty(Y.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(Y,[])}catch(H){var z=H}Reflect.construct(t,[],Y)}else{try{Y.call()}catch(H){z=H}t.call(Y.prototype)}}else{try{throw Error()}catch(H){z=H}(Y=t())&&typeof Y.catch=="function"&&Y.catch(function(){})}}catch(H){if(H&&z&&typeof H.stack=="string")return[H.stack,z.stack]}return[null,null]}};l.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var h=Object.getOwnPropertyDescriptor(l.DetermineComponentFrameRoot,"name");h&&h.configurable&&Object.defineProperty(l.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var f=l.DetermineComponentFrameRoot(),g=f[0],E=f[1];if(g&&E){var I=g.split(`
`),P=E.split(`
`);for(h=l=0;l<I.length&&!I[l].includes("DetermineComponentFrameRoot");)l++;for(;h<P.length&&!P[h].includes("DetermineComponentFrameRoot");)h++;if(l===I.length||h===P.length)for(l=I.length-1,h=P.length-1;1<=l&&0<=h&&I[l]!==P[h];)h--;for(;1<=l&&0<=h;l--,h--)if(I[l]!==P[h]){if(l!==1||h!==1)do if(l--,h--,0>h||I[l]!==P[h]){var F=`
`+I[l].replace(" at new "," at ");return t.displayName&&F.includes("<anonymous>")&&(F=F.replace("<anonymous>",t.displayName)),F}while(1<=l&&0<=h);break}}}finally{cl=!1,Error.prepareStackTrace=a}return(a=t?t.displayName||t.name:"")?ei(a):""}function hl(t,n){switch(t.tag){case 26:case 27:case 5:return ei(t.type);case 16:return ei("Lazy");case 13:return t.child!==n&&n!==null?ei("Suspense Fallback"):ei("Suspense");case 19:return ei("SuspenseList");case 0:case 15:return rr(t.type,!1);case 11:return rr(t.type.render,!1);case 1:return rr(t.type,!0);case 31:return ei("Activity");default:return""}}function fl(t){try{var n="",a=null;do n+=hl(t,a),a=t,t=t.return;while(t);return n}catch(l){return`
Error generating stack: `+l.message+`
`+l.stack}}var gt=Object.prototype.hasOwnProperty,Nt=s.unstable_scheduleCallback,as=s.unstable_cancelCallback,Ch=s.unstable_shouldYield,Zo=s.unstable_requestPaint,en=s.unstable_now,ar=s.unstable_getCurrentPriorityLevel,dl=s.unstable_ImmediatePriority,ml=s.unstable_UserBlockingPriority,ls=s.unstable_NormalPriority,Ih=s.unstable_LowPriority,Wo=s.unstable_IdlePriority,eu=s.log,tu=s.unstable_setDisableYieldValue,zn=null,Pt=null;function An(t){if(typeof eu=="function"&&tu(t),Pt&&typeof Pt.setStrictMode=="function")try{Pt.setStrictMode(zn,t)}catch{}}var ht=Math.clz32?Math.clz32:iu,nu=Math.log,$r=Math.LN2;function iu(t){return t>>>=0,t===0?32:31-(nu(t)/$r|0)|0}var ti=256,lr=262144,yt=4194304;function ni(t){var n=t&42;if(n!==0)return n;switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return t&261888;case 262144:case 524288:case 1048576:case 2097152:return t&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return t&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return t}}function ii(t,n,a){var l=t.pendingLanes;if(l===0)return 0;var h=0,f=t.suspendedLanes,g=t.pingedLanes;t=t.warmLanes;var E=l&134217727;return E!==0?(l=E&~f,l!==0?h=ni(l):(g&=E,g!==0?h=ni(g):a||(a=E&~t,a!==0&&(h=ni(a))))):(E=l&~f,E!==0?h=ni(E):g!==0?h=ni(g):a||(a=l&~t,a!==0&&(h=ni(a)))),h===0?0:n!==0&&n!==h&&(n&f)===0&&(f=h&-h,a=n&-n,f>=a||f===32&&(a&4194048)!==0)?n:h}function Bn(t,n){return(t.pendingLanes&~(t.suspendedLanes&~t.pingedLanes)&n)===0}function Nh(t,n){switch(t){case 1:case 2:case 4:case 8:case 64:return n+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return n+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function su(){var t=yt;return yt<<=1,(yt&62914560)===0&&(yt=4194304),t}function si(t){for(var n=[],a=0;31>a;a++)n.push(t);return n}function or(t,n){t.pendingLanes|=n,n!==268435456&&(t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0)}function Dh(t,n,a,l,h,f){var g=t.pendingLanes;t.pendingLanes=a,t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0,t.expiredLanes&=a,t.entangledLanes&=a,t.errorRecoveryDisabledLanes&=a,t.shellSuspendCounter=0;var E=t.entanglements,I=t.expirationTimes,P=t.hiddenUpdates;for(a=g&~a;0<a;){var F=31-ht(a),Y=1<<F;E[F]=0,I[F]=-1;var z=P[F];if(z!==null)for(P[F]=null,F=0;F<z.length;F++){var H=z[F];H!==null&&(H.lane&=-536870913)}a&=~Y}l!==0&&ur(t,l,0),f!==0&&h===0&&t.tag!==0&&(t.suspendedLanes|=f&~(g&~n))}function ur(t,n,a){t.pendingLanes|=n,t.suspendedLanes&=~n;var l=31-ht(n);t.entangledLanes|=n,t.entanglements[l]=t.entanglements[l]|1073741824|a&261930}function pl(t,n){var a=t.entangledLanes|=n;for(t=t.entanglements;a;){var l=31-ht(a),h=1<<l;h&n|t[l]&n&&(t[l]|=n),a&=~h}}function gl(t,n){var a=n&-n;return a=(a&42)!==0?1:cr(a),(a&(t.suspendedLanes|n))!==0?0:a}function cr(t){switch(t){case 2:t=1;break;case 8:t=4;break;case 32:t=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:t=128;break;case 268435456:t=134217728;break;default:t=0}return t}function Di(t){return t&=-t,2<t?8<t?(t&134217727)!==0?32:268435456:8:2}function ru(){var t=te.p;return t!==0?t:(t=window.event,t===void 0?32:A_(t.type))}function qn(t,n){var a=te.p;try{return te.p=t,n()}finally{te.p=a}}var Hn=Math.random().toString(36).slice(2),_t="__reactFiber$"+Hn,kt="__reactProps$"+Hn,ri="__reactContainer$"+Hn,Zr="__reactEvents$"+Hn,Oh="__reactListeners$"+Hn,au="__reactHandles$"+Hn,lu="__reactResources$"+Hn,ai="__reactMarker$"+Hn;function Wr(t){delete t[_t],delete t[kt],delete t[Zr],delete t[Oh],delete t[au]}function li(t){var n=t[_t];if(n)return n;for(var a=t.parentNode;a;){if(n=a[ri]||a[_t]){if(a=n.alternate,n.child!==null||a!==null&&a.child!==null)for(t=o_(t);t!==null;){if(a=t[_t])return a;t=o_(t)}return n}t=a,a=t.parentNode}return null}function wn(t){if(t=t[_t]||t[ri]){var n=t.tag;if(n===5||n===6||n===13||n===31||n===26||n===27||n===3)return t}return null}function mn(t){var n=t.tag;if(n===5||n===26||n===27||n===6)return t.stateNode;throw Error(r(33))}function oi(t){var n=t[lu];return n||(n=t[lu]={hoistableStyles:new Map,hoistableScripts:new Map}),n}function vt(t){t[ai]=!0}var yl=new Set,_l={};function ui(t,n){ci(t,n),ci(t+"Capture",n)}function ci(t,n){for(_l[t]=n,t=0;t<n.length;t++)yl.add(n[t])}var vl=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),El={},bl={};function ou(t){return gt.call(bl,t)?!0:gt.call(El,t)?!1:vl.test(t)?bl[t]=!0:(El[t]=!0,!1)}function ea(t,n,a){if(ou(n))if(a===null)t.removeAttribute(n);else{switch(typeof a){case"undefined":case"function":case"symbol":t.removeAttribute(n);return;case"boolean":var l=n.toLowerCase().slice(0,5);if(l!=="data-"&&l!=="aria-"){t.removeAttribute(n);return}}t.setAttribute(n,""+a)}}function pn(t,n,a){if(a===null)t.removeAttribute(n);else{switch(typeof a){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(n);return}t.setAttribute(n,""+a)}}function Et(t,n,a,l){if(l===null)t.removeAttribute(a);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(a);return}t.setAttributeNS(n,a,""+l)}}function Lt(t){switch(typeof t){case"bigint":case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function os(t){var n=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(n==="checkbox"||n==="radio")}function Tl(t,n,a){var l=Object.getOwnPropertyDescriptor(t.constructor.prototype,n);if(!t.hasOwnProperty(n)&&typeof l<"u"&&typeof l.get=="function"&&typeof l.set=="function"){var h=l.get,f=l.set;return Object.defineProperty(t,n,{configurable:!0,get:function(){return h.call(this)},set:function(g){a=""+g,f.call(this,g)}}),Object.defineProperty(t,n,{enumerable:l.enumerable}),{getValue:function(){return a},setValue:function(g){a=""+g},stopTracking:function(){t._valueTracker=null,delete t[n]}}}}function Ge(t){if(!t._valueTracker){var n=os(t)?"checked":"value";t._valueTracker=Tl(t,n,""+t[n])}}function hr(t){if(!t)return!1;var n=t._valueTracker;if(!n)return!0;var a=n.getValue(),l="";return t&&(l=os(t)?t.checked?"true":"false":t.value),t=l,t!==a?(n.setValue(t),!0):!1}function hi(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}var fr=/[\n"\\]/g;function rn(t){return t.replace(fr,function(n){return"\\"+n.charCodeAt(0).toString(16)+" "})}function ta(t,n,a,l,h,f,g,E){t.name="",g!=null&&typeof g!="function"&&typeof g!="symbol"&&typeof g!="boolean"?t.type=g:t.removeAttribute("type"),n!=null?g==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+Lt(n)):t.value!==""+Lt(n)&&(t.value=""+Lt(n)):g!=="submit"&&g!=="reset"||t.removeAttribute("value"),n!=null?Sl(t,g,Lt(n)):a!=null?Sl(t,g,Lt(a)):l!=null&&t.removeAttribute("value"),h==null&&f!=null&&(t.defaultChecked=!!f),h!=null&&(t.checked=h&&typeof h!="function"&&typeof h!="symbol"),E!=null&&typeof E!="function"&&typeof E!="symbol"&&typeof E!="boolean"?t.name=""+Lt(E):t.removeAttribute("name")}function uu(t,n,a,l,h,f,g,E){if(f!=null&&typeof f!="function"&&typeof f!="symbol"&&typeof f!="boolean"&&(t.type=f),n!=null||a!=null){if(!(f!=="submit"&&f!=="reset"||n!=null)){Ge(t);return}a=a!=null?""+Lt(a):"",n=n!=null?""+Lt(n):a,E||n===t.value||(t.value=n),t.defaultValue=n}l=l??h,l=typeof l!="function"&&typeof l!="symbol"&&!!l,t.checked=E?t.checked:!!l,t.defaultChecked=!!l,g!=null&&typeof g!="function"&&typeof g!="symbol"&&typeof g!="boolean"&&(t.name=g),Ge(t)}function Sl(t,n,a){n==="number"&&hi(t.ownerDocument)===t||t.defaultValue===""+a||(t.defaultValue=""+a)}function us(t,n,a,l){if(t=t.options,n){n={};for(var h=0;h<a.length;h++)n["$"+a[h]]=!0;for(a=0;a<t.length;a++)h=n.hasOwnProperty("$"+t[a].value),t[a].selected!==h&&(t[a].selected=h),h&&l&&(t[a].defaultSelected=!0)}else{for(a=""+Lt(a),n=null,h=0;h<t.length;h++){if(t[h].value===a){t[h].selected=!0,l&&(t[h].defaultSelected=!0);return}n!==null||t[h].disabled||(n=t[h])}n!==null&&(n.selected=!0)}}function cu(t,n,a){if(n!=null&&(n=""+Lt(n),n!==t.value&&(t.value=n),a==null)){t.defaultValue!==n&&(t.defaultValue=n);return}t.defaultValue=a!=null?""+Lt(a):""}function cs(t,n,a,l){if(n==null){if(l!=null){if(a!=null)throw Error(r(92));if(Ct(l)){if(1<l.length)throw Error(r(93));l=l[0]}a=l}a==null&&(a=""),n=a}a=Lt(n),t.defaultValue=a,l=t.textContent,l===a&&l!==""&&l!==null&&(t.value=l),Ge(t)}function an(t,n){if(n){var a=t.firstChild;if(a&&a===t.lastChild&&a.nodeType===3){a.nodeValue=n;return}}t.textContent=n}var hu=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Al(t,n,a){var l=n.indexOf("--")===0;a==null||typeof a=="boolean"||a===""?l?t.setProperty(n,""):n==="float"?t.cssFloat="":t[n]="":l?t.setProperty(n,a):typeof a!="number"||a===0||hu.has(n)?n==="float"?t.cssFloat=a:t[n]=(""+a).trim():t[n]=a+"px"}function wl(t,n,a){if(n!=null&&typeof n!="object")throw Error(r(62));if(t=t.style,a!=null){for(var l in a)!a.hasOwnProperty(l)||n!=null&&n.hasOwnProperty(l)||(l.indexOf("--")===0?t.setProperty(l,""):l==="float"?t.cssFloat="":t[l]="");for(var h in n)l=n[h],n.hasOwnProperty(h)&&a[h]!==l&&Al(t,h,l)}else for(var f in n)n.hasOwnProperty(f)&&Al(t,f,n[f])}function na(t){if(t.indexOf("-")===-1)return!1;switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var fu=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),hs=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function ia(t){return hs.test(""+t)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":t}function Fn(){}var Rl=null;function Rn(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var fs=null,fi=null;function dr(t){var n=wn(t);if(n&&(t=n.stateNode)){var a=t[kt]||null;e:switch(t=n.stateNode,n.type){case"input":if(ta(t,a.value,a.defaultValue,a.defaultValue,a.checked,a.defaultChecked,a.type,a.name),n=a.name,a.type==="radio"&&n!=null){for(a=t;a.parentNode;)a=a.parentNode;for(a=a.querySelectorAll('input[name="'+rn(""+n)+'"][type="radio"]'),n=0;n<a.length;n++){var l=a[n];if(l!==t&&l.form===t.form){var h=l[kt]||null;if(!h)throw Error(r(90));ta(l,h.value,h.defaultValue,h.defaultValue,h.checked,h.defaultChecked,h.type,h.name)}}for(n=0;n<a.length;n++)l=a[n],l.form===t.form&&hr(l)}break e;case"textarea":cu(t,a.value,a.defaultValue);break e;case"select":n=a.value,n!=null&&us(t,!!a.multiple,n,!1)}}}var sa=!1;function ds(t,n,a){if(sa)return t(n,a);sa=!0;try{var l=t(n);return l}finally{if(sa=!1,(fs!==null||fi!==null)&&(rc(),fs&&(n=fs,t=fi,fi=fs=null,dr(n),t)))for(n=0;n<t.length;n++)dr(t[n])}}function Gn(t,n){var a=t.stateNode;if(a===null)return null;var l=a[kt]||null;if(l===null)return null;a=l[n];e:switch(n){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(l=!l.disabled)||(t=t.type,l=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!l;break e;default:t=!1}if(t)return null;if(a&&typeof a!="function")throw Error(r(231,n,typeof a));return a}var xn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),mr=!1;if(xn)try{var Ye={};Object.defineProperty(Ye,"passive",{get:function(){mr=!0}}),window.addEventListener("test",Ye,Ye),window.removeEventListener("test",Ye,Ye)}catch{mr=!1}var di=null,xl=null,pr=null;function Cl(){if(pr)return pr;var t,n=xl,a=n.length,l,h="value"in di?di.value:di.textContent,f=h.length;for(t=0;t<a&&n[t]===h[t];t++);var g=a-t;for(l=1;l<=g&&n[a-l]===h[f-l];l++);return pr=h.slice(t,1<l?1-l:void 0)}function gr(t){var n=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&n===13&&(t=13)):t=n,t===10&&(t=13),32<=t||t===13?t:0}function Oi(){return!0}function Kn(){return!1}function zt(t){function n(a,l,h,f,g){this._reactName=a,this._targetInst=h,this.type=l,this.nativeEvent=f,this.target=g,this.currentTarget=null;for(var E in t)t.hasOwnProperty(E)&&(a=t[E],this[E]=a?a(f):f[E]);return this.isDefaultPrevented=(f.defaultPrevented!=null?f.defaultPrevented:f.returnValue===!1)?Oi:Kn,this.isPropagationStopped=Kn,this}return A(n.prototype,{preventDefault:function(){this.defaultPrevented=!0;var a=this.nativeEvent;a&&(a.preventDefault?a.preventDefault():typeof a.returnValue!="unknown"&&(a.returnValue=!1),this.isDefaultPrevented=Oi)},stopPropagation:function(){var a=this.nativeEvent;a&&(a.stopPropagation?a.stopPropagation():typeof a.cancelBubble!="unknown"&&(a.cancelBubble=!0),this.isPropagationStopped=Oi)},persist:function(){},isPersistent:Oi}),n}var Mi={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},mi=zt(Mi),ms=A({},Mi,{view:0,detail:0}),Il=zt(ms),ps,ra,pi,aa=A({},ms,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:gs,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==pi&&(pi&&t.type==="mousemove"?(ps=t.screenX-pi.screenX,ra=t.screenY-pi.screenY):ra=ps=0,pi=t),ps)},movementY:function(t){return"movementY"in t?t.movementY:ra}}),Nl=zt(aa),yr=A({},aa,{dataTransfer:0}),du=zt(yr),mu=A({},ms,{relatedTarget:0}),_r=zt(mu),Dl=A({},Mi,{animationName:0,elapsedTime:0,pseudoElement:0}),pu=zt(Dl),la=A({},Mi,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),gu=zt(la),yu=A({},Mi,{data:0}),gi=zt(yu),_u={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},vu={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Eu={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function bu(t){var n=this.nativeEvent;return n.getModifierState?n.getModifierState(t):(t=Eu[t])?!!n[t]:!1}function gs(){return bu}var tn=A({},ms,{key:function(t){if(t.key){var n=_u[t.key]||t.key;if(n!=="Unidentified")return n}return t.type==="keypress"?(t=gr(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?vu[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:gs,charCode:function(t){return t.type==="keypress"?gr(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?gr(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),Tu=zt(tn),Su=A({},aa,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Vi=zt(Su),u=A({},ms,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:gs}),m=zt(u),v=A({},Mi,{propertyName:0,elapsedTime:0,pseudoElement:0}),S=zt(v),U=A({},aa,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),q=zt(U),ee=A({},Mi,{newState:0,oldState:0}),be=zt(ee),ft=[9,13,27,32],Be=xn&&"CompositionEvent"in window,at=null;xn&&"documentMode"in document&&(at=document.documentMode);var Cn=xn&&"TextEvent"in window&&!at,yi=xn&&(!Be||at&&8<at&&11>=at),Qn=" ",Yn=!1;function vr(t,n){switch(t){case"keyup":return ft.indexOf(n.keyCode)!==-1;case"keydown":return n.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function oa(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var ua=!1;function Fb(t,n){switch(t){case"compositionend":return oa(n);case"keypress":return n.which!==32?null:(Yn=!0,Qn);case"textInput":return t=n.data,t===Qn&&Yn?null:t;default:return null}}function Gb(t,n){if(ua)return t==="compositionend"||!Be&&vr(t,n)?(t=Cl(),pr=xl=di=null,ua=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(n.ctrlKey||n.altKey||n.metaKey)||n.ctrlKey&&n.altKey){if(n.char&&1<n.char.length)return n.char;if(n.which)return String.fromCharCode(n.which)}return null;case"compositionend":return yi&&n.locale!=="ko"?null:n.data;default:return null}}var Kb={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function hp(t){var n=t&&t.nodeName&&t.nodeName.toLowerCase();return n==="input"?!!Kb[t.type]:n==="textarea"}function fp(t,n,a,l){fs?fi?fi.push(l):fi=[l]:fs=l,n=fc(n,"onChange"),0<n.length&&(a=new mi("onChange","change",null,a,l),t.push({event:a,listeners:n}))}var Ol=null,Ml=null;function Qb(t){Yy(t,0)}function Au(t){var n=mn(t);if(hr(n))return t}function dp(t,n){if(t==="change")return n}var mp=!1;if(xn){var Mh;if(xn){var Vh="oninput"in document;if(!Vh){var pp=document.createElement("div");pp.setAttribute("oninput","return;"),Vh=typeof pp.oninput=="function"}Mh=Vh}else Mh=!1;mp=Mh&&(!document.documentMode||9<document.documentMode)}function gp(){Ol&&(Ol.detachEvent("onpropertychange",yp),Ml=Ol=null)}function yp(t){if(t.propertyName==="value"&&Au(Ml)){var n=[];fp(n,Ml,t,Rn(t)),ds(Qb,n)}}function Yb(t,n,a){t==="focusin"?(gp(),Ol=n,Ml=a,Ol.attachEvent("onpropertychange",yp)):t==="focusout"&&gp()}function Xb(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return Au(Ml)}function Jb(t,n){if(t==="click")return Au(n)}function $b(t,n){if(t==="input"||t==="change")return Au(n)}function Zb(t,n){return t===n&&(t!==0||1/t===1/n)||t!==t&&n!==n}var gn=typeof Object.is=="function"?Object.is:Zb;function Vl(t,n){if(gn(t,n))return!0;if(typeof t!="object"||t===null||typeof n!="object"||n===null)return!1;var a=Object.keys(t),l=Object.keys(n);if(a.length!==l.length)return!1;for(l=0;l<a.length;l++){var h=a[l];if(!gt.call(n,h)||!gn(t[h],n[h]))return!1}return!0}function _p(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function vp(t,n){var a=_p(t);t=0;for(var l;a;){if(a.nodeType===3){if(l=t+a.textContent.length,t<=n&&l>=n)return{node:a,offset:n-t};t=l}e:{for(;a;){if(a.nextSibling){a=a.nextSibling;break e}a=a.parentNode}a=void 0}a=_p(a)}}function Ep(t,n){return t&&n?t===n?!0:t&&t.nodeType===3?!1:n&&n.nodeType===3?Ep(t,n.parentNode):"contains"in t?t.contains(n):t.compareDocumentPosition?!!(t.compareDocumentPosition(n)&16):!1:!1}function bp(t){t=t!=null&&t.ownerDocument!=null&&t.ownerDocument.defaultView!=null?t.ownerDocument.defaultView:window;for(var n=hi(t.document);n instanceof t.HTMLIFrameElement;){try{var a=typeof n.contentWindow.location.href=="string"}catch{a=!1}if(a)t=n.contentWindow;else break;n=hi(t.document)}return n}function kh(t){var n=t&&t.nodeName&&t.nodeName.toLowerCase();return n&&(n==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||n==="textarea"||t.contentEditable==="true")}var Wb=xn&&"documentMode"in document&&11>=document.documentMode,ca=null,Lh=null,kl=null,Uh=!1;function Tp(t,n,a){var l=a.window===a?a.document:a.nodeType===9?a:a.ownerDocument;Uh||ca==null||ca!==hi(l)||(l=ca,"selectionStart"in l&&kh(l)?l={start:l.selectionStart,end:l.selectionEnd}:(l=(l.ownerDocument&&l.ownerDocument.defaultView||window).getSelection(),l={anchorNode:l.anchorNode,anchorOffset:l.anchorOffset,focusNode:l.focusNode,focusOffset:l.focusOffset}),kl&&Vl(kl,l)||(kl=l,l=fc(Lh,"onSelect"),0<l.length&&(n=new mi("onSelect","select",null,n,a),t.push({event:n,listeners:l}),n.target=ca)))}function Er(t,n){var a={};return a[t.toLowerCase()]=n.toLowerCase(),a["Webkit"+t]="webkit"+n,a["Moz"+t]="moz"+n,a}var ha={animationend:Er("Animation","AnimationEnd"),animationiteration:Er("Animation","AnimationIteration"),animationstart:Er("Animation","AnimationStart"),transitionrun:Er("Transition","TransitionRun"),transitionstart:Er("Transition","TransitionStart"),transitioncancel:Er("Transition","TransitionCancel"),transitionend:Er("Transition","TransitionEnd")},jh={},Sp={};xn&&(Sp=document.createElement("div").style,"AnimationEvent"in window||(delete ha.animationend.animation,delete ha.animationiteration.animation,delete ha.animationstart.animation),"TransitionEvent"in window||delete ha.transitionend.transition);function br(t){if(jh[t])return jh[t];if(!ha[t])return t;var n=ha[t],a;for(a in n)if(n.hasOwnProperty(a)&&a in Sp)return jh[t]=n[a];return t}var Ap=br("animationend"),wp=br("animationiteration"),Rp=br("animationstart"),eT=br("transitionrun"),tT=br("transitionstart"),nT=br("transitioncancel"),xp=br("transitionend"),Cp=new Map,Ph="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Ph.push("scrollEnd");function Xn(t,n){Cp.set(t,n),ui(n,[t])}var wu=typeof reportError=="function"?reportError:function(t){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var n=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof t=="object"&&t!==null&&typeof t.message=="string"?String(t.message):String(t),error:t});if(!window.dispatchEvent(n))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",t);return}console.error(t)},In=[],fa=0,zh=0;function Ru(){for(var t=fa,n=zh=fa=0;n<t;){var a=In[n];In[n++]=null;var l=In[n];In[n++]=null;var h=In[n];In[n++]=null;var f=In[n];if(In[n++]=null,l!==null&&h!==null){var g=l.pending;g===null?h.next=h:(h.next=g.next,g.next=h),l.pending=h}f!==0&&Ip(a,h,f)}}function xu(t,n,a,l){In[fa++]=t,In[fa++]=n,In[fa++]=a,In[fa++]=l,zh|=l,t.lanes|=l,t=t.alternate,t!==null&&(t.lanes|=l)}function Bh(t,n,a,l){return xu(t,n,a,l),Cu(t)}function Tr(t,n){return xu(t,null,null,n),Cu(t)}function Ip(t,n,a){t.lanes|=a;var l=t.alternate;l!==null&&(l.lanes|=a);for(var h=!1,f=t.return;f!==null;)f.childLanes|=a,l=f.alternate,l!==null&&(l.childLanes|=a),f.tag===22&&(t=f.stateNode,t===null||t._visibility&1||(h=!0)),t=f,f=f.return;return t.tag===3?(f=t.stateNode,h&&n!==null&&(h=31-ht(a),t=f.hiddenUpdates,l=t[h],l===null?t[h]=[n]:l.push(n),n.lane=a|536870912),f):null}function Cu(t){if(50<io)throw io=0,$f=null,Error(r(185));for(var n=t.return;n!==null;)t=n,n=t.return;return t.tag===3?t.stateNode:null}var da={};function iT(t,n,a,l){this.tag=t,this.key=a,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=n,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=l,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function yn(t,n,a,l){return new iT(t,n,a,l)}function qh(t){return t=t.prototype,!(!t||!t.isReactComponent)}function ki(t,n){var a=t.alternate;return a===null?(a=yn(t.tag,n,t.key,t.mode),a.elementType=t.elementType,a.type=t.type,a.stateNode=t.stateNode,a.alternate=t,t.alternate=a):(a.pendingProps=n,a.type=t.type,a.flags=0,a.subtreeFlags=0,a.deletions=null),a.flags=t.flags&65011712,a.childLanes=t.childLanes,a.lanes=t.lanes,a.child=t.child,a.memoizedProps=t.memoizedProps,a.memoizedState=t.memoizedState,a.updateQueue=t.updateQueue,n=t.dependencies,a.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext},a.sibling=t.sibling,a.index=t.index,a.ref=t.ref,a.refCleanup=t.refCleanup,a}function Np(t,n){t.flags&=65011714;var a=t.alternate;return a===null?(t.childLanes=0,t.lanes=n,t.child=null,t.subtreeFlags=0,t.memoizedProps=null,t.memoizedState=null,t.updateQueue=null,t.dependencies=null,t.stateNode=null):(t.childLanes=a.childLanes,t.lanes=a.lanes,t.child=a.child,t.subtreeFlags=0,t.deletions=null,t.memoizedProps=a.memoizedProps,t.memoizedState=a.memoizedState,t.updateQueue=a.updateQueue,t.type=a.type,n=a.dependencies,t.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext}),t}function Iu(t,n,a,l,h,f){var g=0;if(l=t,typeof t=="function")qh(t)&&(g=1);else if(typeof t=="string")g=o1(t,a,se.current)?26:t==="html"||t==="head"||t==="body"?27:5;else e:switch(t){case N:return t=yn(31,a,n,h),t.elementType=N,t.lanes=f,t;case Z:return Sr(a.children,h,f,n);case W:g=8,h|=24;break;case ae:return t=yn(12,a,n,h|2),t.elementType=ae,t.lanes=f,t;case ze:return t=yn(13,a,n,h),t.elementType=ze,t.lanes=f,t;case Le:return t=yn(19,a,n,h),t.elementType=Le,t.lanes=f,t;default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case he:g=10;break e;case ue:g=9;break e;case ke:g=11;break e;case w:g=14;break e;case R:g=16,l=null;break e}g=29,a=Error(r(130,t===null?"null":typeof t,"")),l=null}return n=yn(g,a,n,h),n.elementType=t,n.type=l,n.lanes=f,n}function Sr(t,n,a,l){return t=yn(7,t,l,n),t.lanes=a,t}function Hh(t,n,a){return t=yn(6,t,null,n),t.lanes=a,t}function Dp(t){var n=yn(18,null,null,0);return n.stateNode=t,n}function Fh(t,n,a){return n=yn(4,t.children!==null?t.children:[],t.key,n),n.lanes=a,n.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},n}var Op=new WeakMap;function Nn(t,n){if(typeof t=="object"&&t!==null){var a=Op.get(t);return a!==void 0?a:(n={value:t,source:n,stack:fl(n)},Op.set(t,n),n)}return{value:t,source:n,stack:fl(n)}}var ma=[],pa=0,Nu=null,Ll=0,Dn=[],On=0,ys=null,_i=1,vi="";function Li(t,n){ma[pa++]=Ll,ma[pa++]=Nu,Nu=t,Ll=n}function Mp(t,n,a){Dn[On++]=_i,Dn[On++]=vi,Dn[On++]=ys,ys=t;var l=_i;t=vi;var h=32-ht(l)-1;l&=~(1<<h),a+=1;var f=32-ht(n)+h;if(30<f){var g=h-h%5;f=(l&(1<<g)-1).toString(32),l>>=g,h-=g,_i=1<<32-ht(n)+h|a<<h|l,vi=f+t}else _i=1<<f|a<<h|l,vi=t}function Gh(t){t.return!==null&&(Li(t,1),Mp(t,1,0))}function Kh(t){for(;t===Nu;)Nu=ma[--pa],ma[pa]=null,Ll=ma[--pa],ma[pa]=null;for(;t===ys;)ys=Dn[--On],Dn[On]=null,vi=Dn[--On],Dn[On]=null,_i=Dn[--On],Dn[On]=null}function Vp(t,n){Dn[On++]=_i,Dn[On++]=vi,Dn[On++]=ys,_i=n.id,vi=n.overflow,ys=t}var Bt=null,et=null,Oe=!1,_s=null,Mn=!1,Qh=Error(r(519));function vs(t){var n=Error(r(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw Ul(Nn(n,t)),Qh}function kp(t){var n=t.stateNode,a=t.type,l=t.memoizedProps;switch(n[_t]=t,n[kt]=l,a){case"dialog":Re("cancel",n),Re("close",n);break;case"iframe":case"object":case"embed":Re("load",n);break;case"video":case"audio":for(a=0;a<ro.length;a++)Re(ro[a],n);break;case"source":Re("error",n);break;case"img":case"image":case"link":Re("error",n),Re("load",n);break;case"details":Re("toggle",n);break;case"input":Re("invalid",n),uu(n,l.value,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name,!0);break;case"select":Re("invalid",n);break;case"textarea":Re("invalid",n),cs(n,l.value,l.defaultValue,l.children)}a=l.children,typeof a!="string"&&typeof a!="number"&&typeof a!="bigint"||n.textContent===""+a||l.suppressHydrationWarning===!0||Zy(n.textContent,a)?(l.popover!=null&&(Re("beforetoggle",n),Re("toggle",n)),l.onScroll!=null&&Re("scroll",n),l.onScrollEnd!=null&&Re("scrollend",n),l.onClick!=null&&(n.onclick=Fn),n=!0):n=!1,n||vs(t,!0)}function Lp(t){for(Bt=t.return;Bt;)switch(Bt.tag){case 5:case 31:case 13:Mn=!1;return;case 27:case 3:Mn=!0;return;default:Bt=Bt.return}}function ga(t){if(t!==Bt)return!1;if(!Oe)return Lp(t),Oe=!0,!1;var n=t.tag,a;if((a=n!==3&&n!==27)&&((a=n===5)&&(a=t.type,a=!(a!=="form"&&a!=="button")||fd(t.type,t.memoizedProps)),a=!a),a&&et&&vs(t),Lp(t),n===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(r(317));et=l_(t)}else if(n===31){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(r(317));et=l_(t)}else n===27?(n=et,Ms(t.type)?(t=yd,yd=null,et=t):et=n):et=Bt?kn(t.stateNode.nextSibling):null;return!0}function Ar(){et=Bt=null,Oe=!1}function Yh(){var t=_s;return t!==null&&(cn===null?cn=t:cn.push.apply(cn,t),_s=null),t}function Ul(t){_s===null?_s=[t]:_s.push(t)}var Xh=M(null),wr=null,Ui=null;function Es(t,n,a){ne(Xh,n._currentValue),n._currentValue=a}function ji(t){t._currentValue=Xh.current,X(Xh)}function Jh(t,n,a){for(;t!==null;){var l=t.alternate;if((t.childLanes&n)!==n?(t.childLanes|=n,l!==null&&(l.childLanes|=n)):l!==null&&(l.childLanes&n)!==n&&(l.childLanes|=n),t===a)break;t=t.return}}function $h(t,n,a,l){var h=t.child;for(h!==null&&(h.return=t);h!==null;){var f=h.dependencies;if(f!==null){var g=h.child;f=f.firstContext;e:for(;f!==null;){var E=f;f=h;for(var I=0;I<n.length;I++)if(E.context===n[I]){f.lanes|=a,E=f.alternate,E!==null&&(E.lanes|=a),Jh(f.return,a,t),l||(g=null);break e}f=E.next}}else if(h.tag===18){if(g=h.return,g===null)throw Error(r(341));g.lanes|=a,f=g.alternate,f!==null&&(f.lanes|=a),Jh(g,a,t),g=null}else g=h.child;if(g!==null)g.return=h;else for(g=h;g!==null;){if(g===t){g=null;break}if(h=g.sibling,h!==null){h.return=g.return,g=h;break}g=g.return}h=g}}function ya(t,n,a,l){t=null;for(var h=n,f=!1;h!==null;){if(!f){if((h.flags&524288)!==0)f=!0;else if((h.flags&262144)!==0)break}if(h.tag===10){var g=h.alternate;if(g===null)throw Error(r(387));if(g=g.memoizedProps,g!==null){var E=h.type;gn(h.pendingProps.value,g.value)||(t!==null?t.push(E):t=[E])}}else if(h===Me.current){if(g=h.alternate,g===null)throw Error(r(387));g.memoizedState.memoizedState!==h.memoizedState.memoizedState&&(t!==null?t.push(co):t=[co])}h=h.return}t!==null&&$h(n,t,a,l),n.flags|=262144}function Du(t){for(t=t.firstContext;t!==null;){if(!gn(t.context._currentValue,t.memoizedValue))return!0;t=t.next}return!1}function Rr(t){wr=t,Ui=null,t=t.dependencies,t!==null&&(t.firstContext=null)}function qt(t){return Up(wr,t)}function Ou(t,n){return wr===null&&Rr(t),Up(t,n)}function Up(t,n){var a=n._currentValue;if(n={context:n,memoizedValue:a,next:null},Ui===null){if(t===null)throw Error(r(308));Ui=n,t.dependencies={lanes:0,firstContext:n},t.flags|=524288}else Ui=Ui.next=n;return a}var sT=typeof AbortController<"u"?AbortController:function(){var t=[],n=this.signal={aborted:!1,addEventListener:function(a,l){t.push(l)}};this.abort=function(){n.aborted=!0,t.forEach(function(a){return a()})}},rT=s.unstable_scheduleCallback,aT=s.unstable_NormalPriority,bt={$$typeof:he,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Zh(){return{controller:new sT,data:new Map,refCount:0}}function jl(t){t.refCount--,t.refCount===0&&rT(aT,function(){t.controller.abort()})}var Pl=null,Wh=0,_a=0,va=null;function lT(t,n){if(Pl===null){var a=Pl=[];Wh=0,_a=id(),va={status:"pending",value:void 0,then:function(l){a.push(l)}}}return Wh++,n.then(jp,jp),n}function jp(){if(--Wh===0&&Pl!==null){va!==null&&(va.status="fulfilled");var t=Pl;Pl=null,_a=0,va=null;for(var n=0;n<t.length;n++)(0,t[n])()}}function oT(t,n){var a=[],l={status:"pending",value:null,reason:null,then:function(h){a.push(h)}};return t.then(function(){l.status="fulfilled",l.value=n;for(var h=0;h<a.length;h++)(0,a[h])(n)},function(h){for(l.status="rejected",l.reason=h,h=0;h<a.length;h++)(0,a[h])(void 0)}),l}var Pp=G.S;G.S=function(t,n){Ty=en(),typeof n=="object"&&n!==null&&typeof n.then=="function"&&lT(t,n),Pp!==null&&Pp(t,n)};var xr=M(null);function ef(){var t=xr.current;return t!==null?t:Ze.pooledCache}function Mu(t,n){n===null?ne(xr,xr.current):ne(xr,n.pool)}function zp(){var t=ef();return t===null?null:{parent:bt._currentValue,pool:t}}var Ea=Error(r(460)),tf=Error(r(474)),Vu=Error(r(542)),ku={then:function(){}};function Bp(t){return t=t.status,t==="fulfilled"||t==="rejected"}function qp(t,n,a){switch(a=t[a],a===void 0?t.push(n):a!==n&&(n.then(Fn,Fn),n=a),n.status){case"fulfilled":return n.value;case"rejected":throw t=n.reason,Fp(t),t;default:if(typeof n.status=="string")n.then(Fn,Fn);else{if(t=Ze,t!==null&&100<t.shellSuspendCounter)throw Error(r(482));t=n,t.status="pending",t.then(function(l){if(n.status==="pending"){var h=n;h.status="fulfilled",h.value=l}},function(l){if(n.status==="pending"){var h=n;h.status="rejected",h.reason=l}})}switch(n.status){case"fulfilled":return n.value;case"rejected":throw t=n.reason,Fp(t),t}throw Ir=n,Ea}}function Cr(t){try{var n=t._init;return n(t._payload)}catch(a){throw a!==null&&typeof a=="object"&&typeof a.then=="function"?(Ir=a,Ea):a}}var Ir=null;function Hp(){if(Ir===null)throw Error(r(459));var t=Ir;return Ir=null,t}function Fp(t){if(t===Ea||t===Vu)throw Error(r(483))}var ba=null,zl=0;function Lu(t){var n=zl;return zl+=1,ba===null&&(ba=[]),qp(ba,t,n)}function Bl(t,n){n=n.props.ref,t.ref=n!==void 0?n:null}function Uu(t,n){throw n.$$typeof===x?Error(r(525)):(t=Object.prototype.toString.call(n),Error(r(31,t==="[object Object]"?"object with keys {"+Object.keys(n).join(", ")+"}":t)))}function Gp(t){function n(k,D){if(t){var j=k.deletions;j===null?(k.deletions=[D],k.flags|=16):j.push(D)}}function a(k,D){if(!t)return null;for(;D!==null;)n(k,D),D=D.sibling;return null}function l(k){for(var D=new Map;k!==null;)k.key!==null?D.set(k.key,k):D.set(k.index,k),k=k.sibling;return D}function h(k,D){return k=ki(k,D),k.index=0,k.sibling=null,k}function f(k,D,j){return k.index=j,t?(j=k.alternate,j!==null?(j=j.index,j<D?(k.flags|=67108866,D):j):(k.flags|=67108866,D)):(k.flags|=1048576,D)}function g(k){return t&&k.alternate===null&&(k.flags|=67108866),k}function E(k,D,j,Q){return D===null||D.tag!==6?(D=Hh(j,k.mode,Q),D.return=k,D):(D=h(D,j),D.return=k,D)}function I(k,D,j,Q){var ce=j.type;return ce===Z?F(k,D,j.props.children,Q,j.key):D!==null&&(D.elementType===ce||typeof ce=="object"&&ce!==null&&ce.$$typeof===R&&Cr(ce)===D.type)?(D=h(D,j.props),Bl(D,j),D.return=k,D):(D=Iu(j.type,j.key,j.props,null,k.mode,Q),Bl(D,j),D.return=k,D)}function P(k,D,j,Q){return D===null||D.tag!==4||D.stateNode.containerInfo!==j.containerInfo||D.stateNode.implementation!==j.implementation?(D=Fh(j,k.mode,Q),D.return=k,D):(D=h(D,j.children||[]),D.return=k,D)}function F(k,D,j,Q,ce){return D===null||D.tag!==7?(D=Sr(j,k.mode,Q,ce),D.return=k,D):(D=h(D,j),D.return=k,D)}function Y(k,D,j){if(typeof D=="string"&&D!==""||typeof D=="number"||typeof D=="bigint")return D=Hh(""+D,k.mode,j),D.return=k,D;if(typeof D=="object"&&D!==null){switch(D.$$typeof){case B:return j=Iu(D.type,D.key,D.props,null,k.mode,j),Bl(j,D),j.return=k,j;case K:return D=Fh(D,k.mode,j),D.return=k,D;case R:return D=Cr(D),Y(k,D,j)}if(Ct(D)||L(D))return D=Sr(D,k.mode,j,null),D.return=k,D;if(typeof D.then=="function")return Y(k,Lu(D),j);if(D.$$typeof===he)return Y(k,Ou(k,D),j);Uu(k,D)}return null}function z(k,D,j,Q){var ce=D!==null?D.key:null;if(typeof j=="string"&&j!==""||typeof j=="number"||typeof j=="bigint")return ce!==null?null:E(k,D,""+j,Q);if(typeof j=="object"&&j!==null){switch(j.$$typeof){case B:return j.key===ce?I(k,D,j,Q):null;case K:return j.key===ce?P(k,D,j,Q):null;case R:return j=Cr(j),z(k,D,j,Q)}if(Ct(j)||L(j))return ce!==null?null:F(k,D,j,Q,null);if(typeof j.then=="function")return z(k,D,Lu(j),Q);if(j.$$typeof===he)return z(k,D,Ou(k,j),Q);Uu(k,j)}return null}function H(k,D,j,Q,ce){if(typeof Q=="string"&&Q!==""||typeof Q=="number"||typeof Q=="bigint")return k=k.get(j)||null,E(D,k,""+Q,ce);if(typeof Q=="object"&&Q!==null){switch(Q.$$typeof){case B:return k=k.get(Q.key===null?j:Q.key)||null,I(D,k,Q,ce);case K:return k=k.get(Q.key===null?j:Q.key)||null,P(D,k,Q,ce);case R:return Q=Cr(Q),H(k,D,j,Q,ce)}if(Ct(Q)||L(Q))return k=k.get(j)||null,F(D,k,Q,ce,null);if(typeof Q.then=="function")return H(k,D,j,Lu(Q),ce);if(Q.$$typeof===he)return H(k,D,j,Ou(D,Q),ce);Uu(D,Q)}return null}function re(k,D,j,Q){for(var ce=null,je=null,le=D,Ae=D=0,Ce=null;le!==null&&Ae<j.length;Ae++){le.index>Ae?(Ce=le,le=null):Ce=le.sibling;var Pe=z(k,le,j[Ae],Q);if(Pe===null){le===null&&(le=Ce);break}t&&le&&Pe.alternate===null&&n(k,le),D=f(Pe,D,Ae),je===null?ce=Pe:je.sibling=Pe,je=Pe,le=Ce}if(Ae===j.length)return a(k,le),Oe&&Li(k,Ae),ce;if(le===null){for(;Ae<j.length;Ae++)le=Y(k,j[Ae],Q),le!==null&&(D=f(le,D,Ae),je===null?ce=le:je.sibling=le,je=le);return Oe&&Li(k,Ae),ce}for(le=l(le);Ae<j.length;Ae++)Ce=H(le,k,Ae,j[Ae],Q),Ce!==null&&(t&&Ce.alternate!==null&&le.delete(Ce.key===null?Ae:Ce.key),D=f(Ce,D,Ae),je===null?ce=Ce:je.sibling=Ce,je=Ce);return t&&le.forEach(function(js){return n(k,js)}),Oe&&Li(k,Ae),ce}function me(k,D,j,Q){if(j==null)throw Error(r(151));for(var ce=null,je=null,le=D,Ae=D=0,Ce=null,Pe=j.next();le!==null&&!Pe.done;Ae++,Pe=j.next()){le.index>Ae?(Ce=le,le=null):Ce=le.sibling;var js=z(k,le,Pe.value,Q);if(js===null){le===null&&(le=Ce);break}t&&le&&js.alternate===null&&n(k,le),D=f(js,D,Ae),je===null?ce=js:je.sibling=js,je=js,le=Ce}if(Pe.done)return a(k,le),Oe&&Li(k,Ae),ce;if(le===null){for(;!Pe.done;Ae++,Pe=j.next())Pe=Y(k,Pe.value,Q),Pe!==null&&(D=f(Pe,D,Ae),je===null?ce=Pe:je.sibling=Pe,je=Pe);return Oe&&Li(k,Ae),ce}for(le=l(le);!Pe.done;Ae++,Pe=j.next())Pe=H(le,k,Ae,Pe.value,Q),Pe!==null&&(t&&Pe.alternate!==null&&le.delete(Pe.key===null?Ae:Pe.key),D=f(Pe,D,Ae),je===null?ce=Pe:je.sibling=Pe,je=Pe);return t&&le.forEach(function(v1){return n(k,v1)}),Oe&&Li(k,Ae),ce}function $e(k,D,j,Q){if(typeof j=="object"&&j!==null&&j.type===Z&&j.key===null&&(j=j.props.children),typeof j=="object"&&j!==null){switch(j.$$typeof){case B:e:{for(var ce=j.key;D!==null;){if(D.key===ce){if(ce=j.type,ce===Z){if(D.tag===7){a(k,D.sibling),Q=h(D,j.props.children),Q.return=k,k=Q;break e}}else if(D.elementType===ce||typeof ce=="object"&&ce!==null&&ce.$$typeof===R&&Cr(ce)===D.type){a(k,D.sibling),Q=h(D,j.props),Bl(Q,j),Q.return=k,k=Q;break e}a(k,D);break}else n(k,D);D=D.sibling}j.type===Z?(Q=Sr(j.props.children,k.mode,Q,j.key),Q.return=k,k=Q):(Q=Iu(j.type,j.key,j.props,null,k.mode,Q),Bl(Q,j),Q.return=k,k=Q)}return g(k);case K:e:{for(ce=j.key;D!==null;){if(D.key===ce)if(D.tag===4&&D.stateNode.containerInfo===j.containerInfo&&D.stateNode.implementation===j.implementation){a(k,D.sibling),Q=h(D,j.children||[]),Q.return=k,k=Q;break e}else{a(k,D);break}else n(k,D);D=D.sibling}Q=Fh(j,k.mode,Q),Q.return=k,k=Q}return g(k);case R:return j=Cr(j),$e(k,D,j,Q)}if(Ct(j))return re(k,D,j,Q);if(L(j)){if(ce=L(j),typeof ce!="function")throw Error(r(150));return j=ce.call(j),me(k,D,j,Q)}if(typeof j.then=="function")return $e(k,D,Lu(j),Q);if(j.$$typeof===he)return $e(k,D,Ou(k,j),Q);Uu(k,j)}return typeof j=="string"&&j!==""||typeof j=="number"||typeof j=="bigint"?(j=""+j,D!==null&&D.tag===6?(a(k,D.sibling),Q=h(D,j),Q.return=k,k=Q):(a(k,D),Q=Hh(j,k.mode,Q),Q.return=k,k=Q),g(k)):a(k,D)}return function(k,D,j,Q){try{zl=0;var ce=$e(k,D,j,Q);return ba=null,ce}catch(le){if(le===Ea||le===Vu)throw le;var je=yn(29,le,null,k.mode);return je.lanes=Q,je.return=k,je}finally{}}}var Nr=Gp(!0),Kp=Gp(!1),bs=!1;function nf(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function sf(t,n){t=t.updateQueue,n.updateQueue===t&&(n.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,callbacks:null})}function Ts(t){return{lane:t,tag:0,payload:null,callback:null,next:null}}function Ss(t,n,a){var l=t.updateQueue;if(l===null)return null;if(l=l.shared,(qe&2)!==0){var h=l.pending;return h===null?n.next=n:(n.next=h.next,h.next=n),l.pending=n,n=Cu(t),Ip(t,null,a),n}return xu(t,l,n,a),Cu(t)}function ql(t,n,a){if(n=n.updateQueue,n!==null&&(n=n.shared,(a&4194048)!==0)){var l=n.lanes;l&=t.pendingLanes,a|=l,n.lanes=a,pl(t,a)}}function rf(t,n){var a=t.updateQueue,l=t.alternate;if(l!==null&&(l=l.updateQueue,a===l)){var h=null,f=null;if(a=a.firstBaseUpdate,a!==null){do{var g={lane:a.lane,tag:a.tag,payload:a.payload,callback:null,next:null};f===null?h=f=g:f=f.next=g,a=a.next}while(a!==null);f===null?h=f=n:f=f.next=n}else h=f=n;a={baseState:l.baseState,firstBaseUpdate:h,lastBaseUpdate:f,shared:l.shared,callbacks:l.callbacks},t.updateQueue=a;return}t=a.lastBaseUpdate,t===null?a.firstBaseUpdate=n:t.next=n,a.lastBaseUpdate=n}var af=!1;function Hl(){if(af){var t=va;if(t!==null)throw t}}function Fl(t,n,a,l){af=!1;var h=t.updateQueue;bs=!1;var f=h.firstBaseUpdate,g=h.lastBaseUpdate,E=h.shared.pending;if(E!==null){h.shared.pending=null;var I=E,P=I.next;I.next=null,g===null?f=P:g.next=P,g=I;var F=t.alternate;F!==null&&(F=F.updateQueue,E=F.lastBaseUpdate,E!==g&&(E===null?F.firstBaseUpdate=P:E.next=P,F.lastBaseUpdate=I))}if(f!==null){var Y=h.baseState;g=0,F=P=I=null,E=f;do{var z=E.lane&-536870913,H=z!==E.lane;if(H?(xe&z)===z:(l&z)===z){z!==0&&z===_a&&(af=!0),F!==null&&(F=F.next={lane:0,tag:E.tag,payload:E.payload,callback:null,next:null});e:{var re=t,me=E;z=n;var $e=a;switch(me.tag){case 1:if(re=me.payload,typeof re=="function"){Y=re.call($e,Y,z);break e}Y=re;break e;case 3:re.flags=re.flags&-65537|128;case 0:if(re=me.payload,z=typeof re=="function"?re.call($e,Y,z):re,z==null)break e;Y=A({},Y,z);break e;case 2:bs=!0}}z=E.callback,z!==null&&(t.flags|=64,H&&(t.flags|=8192),H=h.callbacks,H===null?h.callbacks=[z]:H.push(z))}else H={lane:z,tag:E.tag,payload:E.payload,callback:E.callback,next:null},F===null?(P=F=H,I=Y):F=F.next=H,g|=z;if(E=E.next,E===null){if(E=h.shared.pending,E===null)break;H=E,E=H.next,H.next=null,h.lastBaseUpdate=H,h.shared.pending=null}}while(!0);F===null&&(I=Y),h.baseState=I,h.firstBaseUpdate=P,h.lastBaseUpdate=F,f===null&&(h.shared.lanes=0),Cs|=g,t.lanes=g,t.memoizedState=Y}}function Qp(t,n){if(typeof t!="function")throw Error(r(191,t));t.call(n)}function Yp(t,n){var a=t.callbacks;if(a!==null)for(t.callbacks=null,t=0;t<a.length;t++)Qp(a[t],n)}var Ta=M(null),ju=M(0);function Xp(t,n){t=Qi,ne(ju,t),ne(Ta,n),Qi=t|n.baseLanes}function lf(){ne(ju,Qi),ne(Ta,Ta.current)}function of(){Qi=ju.current,X(Ta),X(ju)}var _n=M(null),Vn=null;function As(t){var n=t.alternate;ne(dt,dt.current&1),ne(_n,t),Vn===null&&(n===null||Ta.current!==null||n.memoizedState!==null)&&(Vn=t)}function uf(t){ne(dt,dt.current),ne(_n,t),Vn===null&&(Vn=t)}function Jp(t){t.tag===22?(ne(dt,dt.current),ne(_n,t),Vn===null&&(Vn=t)):ws()}function ws(){ne(dt,dt.current),ne(_n,_n.current)}function vn(t){X(_n),Vn===t&&(Vn=null),X(dt)}var dt=M(0);function Pu(t){for(var n=t;n!==null;){if(n.tag===13){var a=n.memoizedState;if(a!==null&&(a=a.dehydrated,a===null||pd(a)||gd(a)))return n}else if(n.tag===19&&(n.memoizedProps.revealOrder==="forwards"||n.memoizedProps.revealOrder==="backwards"||n.memoizedProps.revealOrder==="unstable_legacy-backwards"||n.memoizedProps.revealOrder==="together")){if((n.flags&128)!==0)return n}else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return null;n=n.return}n.sibling.return=n.return,n=n.sibling}return null}var Pi=0,Te=null,Xe=null,Tt=null,zu=!1,Sa=!1,Dr=!1,Bu=0,Gl=0,Aa=null,uT=0;function ut(){throw Error(r(321))}function cf(t,n){if(n===null)return!1;for(var a=0;a<n.length&&a<t.length;a++)if(!gn(t[a],n[a]))return!1;return!0}function hf(t,n,a,l,h,f){return Pi=f,Te=n,n.memoizedState=null,n.updateQueue=null,n.lanes=0,G.H=t===null||t.memoizedState===null?Mg:Rf,Dr=!1,f=a(l,h),Dr=!1,Sa&&(f=Zp(n,a,l,h)),$p(t),f}function $p(t){G.H=Yl;var n=Xe!==null&&Xe.next!==null;if(Pi=0,Tt=Xe=Te=null,zu=!1,Gl=0,Aa=null,n)throw Error(r(300));t===null||St||(t=t.dependencies,t!==null&&Du(t)&&(St=!0))}function Zp(t,n,a,l){Te=t;var h=0;do{if(Sa&&(Aa=null),Gl=0,Sa=!1,25<=h)throw Error(r(301));if(h+=1,Tt=Xe=null,t.updateQueue!=null){var f=t.updateQueue;f.lastEffect=null,f.events=null,f.stores=null,f.memoCache!=null&&(f.memoCache.index=0)}G.H=Vg,f=n(a,l)}while(Sa);return f}function cT(){var t=G.H,n=t.useState()[0];return n=typeof n.then=="function"?Kl(n):n,t=t.useState()[0],(Xe!==null?Xe.memoizedState:null)!==t&&(Te.flags|=1024),n}function ff(){var t=Bu!==0;return Bu=0,t}function df(t,n,a){n.updateQueue=t.updateQueue,n.flags&=-2053,t.lanes&=~a}function mf(t){if(zu){for(t=t.memoizedState;t!==null;){var n=t.queue;n!==null&&(n.pending=null),t=t.next}zu=!1}Pi=0,Tt=Xe=Te=null,Sa=!1,Gl=Bu=0,Aa=null}function nn(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Tt===null?Te.memoizedState=Tt=t:Tt=Tt.next=t,Tt}function mt(){if(Xe===null){var t=Te.alternate;t=t!==null?t.memoizedState:null}else t=Xe.next;var n=Tt===null?Te.memoizedState:Tt.next;if(n!==null)Tt=n,Xe=t;else{if(t===null)throw Te.alternate===null?Error(r(467)):Error(r(310));Xe=t,t={memoizedState:Xe.memoizedState,baseState:Xe.baseState,baseQueue:Xe.baseQueue,queue:Xe.queue,next:null},Tt===null?Te.memoizedState=Tt=t:Tt=Tt.next=t}return Tt}function qu(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Kl(t){var n=Gl;return Gl+=1,Aa===null&&(Aa=[]),t=qp(Aa,t,n),n=Te,(Tt===null?n.memoizedState:Tt.next)===null&&(n=n.alternate,G.H=n===null||n.memoizedState===null?Mg:Rf),t}function Hu(t){if(t!==null&&typeof t=="object"){if(typeof t.then=="function")return Kl(t);if(t.$$typeof===he)return qt(t)}throw Error(r(438,String(t)))}function pf(t){var n=null,a=Te.updateQueue;if(a!==null&&(n=a.memoCache),n==null){var l=Te.alternate;l!==null&&(l=l.updateQueue,l!==null&&(l=l.memoCache,l!=null&&(n={data:l.data.map(function(h){return h.slice()}),index:0})))}if(n==null&&(n={data:[],index:0}),a===null&&(a=qu(),Te.updateQueue=a),a.memoCache=n,a=n.data[n.index],a===void 0)for(a=n.data[n.index]=Array(t),l=0;l<t;l++)a[l]=V;return n.index++,a}function zi(t,n){return typeof n=="function"?n(t):n}function Fu(t){var n=mt();return gf(n,Xe,t)}function gf(t,n,a){var l=t.queue;if(l===null)throw Error(r(311));l.lastRenderedReducer=a;var h=t.baseQueue,f=l.pending;if(f!==null){if(h!==null){var g=h.next;h.next=f.next,f.next=g}n.baseQueue=h=f,l.pending=null}if(f=t.baseState,h===null)t.memoizedState=f;else{n=h.next;var E=g=null,I=null,P=n,F=!1;do{var Y=P.lane&-536870913;if(Y!==P.lane?(xe&Y)===Y:(Pi&Y)===Y){var z=P.revertLane;if(z===0)I!==null&&(I=I.next={lane:0,revertLane:0,gesture:null,action:P.action,hasEagerState:P.hasEagerState,eagerState:P.eagerState,next:null}),Y===_a&&(F=!0);else if((Pi&z)===z){P=P.next,z===_a&&(F=!0);continue}else Y={lane:0,revertLane:P.revertLane,gesture:null,action:P.action,hasEagerState:P.hasEagerState,eagerState:P.eagerState,next:null},I===null?(E=I=Y,g=f):I=I.next=Y,Te.lanes|=z,Cs|=z;Y=P.action,Dr&&a(f,Y),f=P.hasEagerState?P.eagerState:a(f,Y)}else z={lane:Y,revertLane:P.revertLane,gesture:P.gesture,action:P.action,hasEagerState:P.hasEagerState,eagerState:P.eagerState,next:null},I===null?(E=I=z,g=f):I=I.next=z,Te.lanes|=Y,Cs|=Y;P=P.next}while(P!==null&&P!==n);if(I===null?g=f:I.next=E,!gn(f,t.memoizedState)&&(St=!0,F&&(a=va,a!==null)))throw a;t.memoizedState=f,t.baseState=g,t.baseQueue=I,l.lastRenderedState=f}return h===null&&(l.lanes=0),[t.memoizedState,l.dispatch]}function yf(t){var n=mt(),a=n.queue;if(a===null)throw Error(r(311));a.lastRenderedReducer=t;var l=a.dispatch,h=a.pending,f=n.memoizedState;if(h!==null){a.pending=null;var g=h=h.next;do f=t(f,g.action),g=g.next;while(g!==h);gn(f,n.memoizedState)||(St=!0),n.memoizedState=f,n.baseQueue===null&&(n.baseState=f),a.lastRenderedState=f}return[f,l]}function Wp(t,n,a){var l=Te,h=mt(),f=Oe;if(f){if(a===void 0)throw Error(r(407));a=a()}else a=n();var g=!gn((Xe||h).memoizedState,a);if(g&&(h.memoizedState=a,St=!0),h=h.queue,Ef(ng.bind(null,l,h,t),[t]),h.getSnapshot!==n||g||Tt!==null&&Tt.memoizedState.tag&1){if(l.flags|=2048,wa(9,{destroy:void 0},tg.bind(null,l,h,a,n),null),Ze===null)throw Error(r(349));f||(Pi&127)!==0||eg(l,n,a)}return a}function eg(t,n,a){t.flags|=16384,t={getSnapshot:n,value:a},n=Te.updateQueue,n===null?(n=qu(),Te.updateQueue=n,n.stores=[t]):(a=n.stores,a===null?n.stores=[t]:a.push(t))}function tg(t,n,a,l){n.value=a,n.getSnapshot=l,ig(n)&&sg(t)}function ng(t,n,a){return a(function(){ig(n)&&sg(t)})}function ig(t){var n=t.getSnapshot;t=t.value;try{var a=n();return!gn(t,a)}catch{return!0}}function sg(t){var n=Tr(t,2);n!==null&&hn(n,t,2)}function _f(t){var n=nn();if(typeof t=="function"){var a=t;if(t=a(),Dr){An(!0);try{a()}finally{An(!1)}}}return n.memoizedState=n.baseState=t,n.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:zi,lastRenderedState:t},n}function rg(t,n,a,l){return t.baseState=a,gf(t,Xe,typeof l=="function"?l:zi)}function hT(t,n,a,l,h){if(Qu(t))throw Error(r(485));if(t=n.action,t!==null){var f={payload:h,action:t,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(g){f.listeners.push(g)}};G.T!==null?a(!0):f.isTransition=!1,l(f),a=n.pending,a===null?(f.next=n.pending=f,ag(n,f)):(f.next=a.next,n.pending=a.next=f)}}function ag(t,n){var a=n.action,l=n.payload,h=t.state;if(n.isTransition){var f=G.T,g={};G.T=g;try{var E=a(h,l),I=G.S;I!==null&&I(g,E),lg(t,n,E)}catch(P){vf(t,n,P)}finally{f!==null&&g.types!==null&&(f.types=g.types),G.T=f}}else try{f=a(h,l),lg(t,n,f)}catch(P){vf(t,n,P)}}function lg(t,n,a){a!==null&&typeof a=="object"&&typeof a.then=="function"?a.then(function(l){og(t,n,l)},function(l){return vf(t,n,l)}):og(t,n,a)}function og(t,n,a){n.status="fulfilled",n.value=a,ug(n),t.state=a,n=t.pending,n!==null&&(a=n.next,a===n?t.pending=null:(a=a.next,n.next=a,ag(t,a)))}function vf(t,n,a){var l=t.pending;if(t.pending=null,l!==null){l=l.next;do n.status="rejected",n.reason=a,ug(n),n=n.next;while(n!==l)}t.action=null}function ug(t){t=t.listeners;for(var n=0;n<t.length;n++)(0,t[n])()}function cg(t,n){return n}function hg(t,n){if(Oe){var a=Ze.formState;if(a!==null){e:{var l=Te;if(Oe){if(et){t:{for(var h=et,f=Mn;h.nodeType!==8;){if(!f){h=null;break t}if(h=kn(h.nextSibling),h===null){h=null;break t}}f=h.data,h=f==="F!"||f==="F"?h:null}if(h){et=kn(h.nextSibling),l=h.data==="F!";break e}}vs(l)}l=!1}l&&(n=a[0])}}return a=nn(),a.memoizedState=a.baseState=n,l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:cg,lastRenderedState:n},a.queue=l,a=Ng.bind(null,Te,l),l.dispatch=a,l=_f(!1),f=wf.bind(null,Te,!1,l.queue),l=nn(),h={state:n,dispatch:null,action:t,pending:null},l.queue=h,a=hT.bind(null,Te,h,f,a),h.dispatch=a,l.memoizedState=t,[n,a,!1]}function fg(t){var n=mt();return dg(n,Xe,t)}function dg(t,n,a){if(n=gf(t,n,cg)[0],t=Fu(zi)[0],typeof n=="object"&&n!==null&&typeof n.then=="function")try{var l=Kl(n)}catch(g){throw g===Ea?Vu:g}else l=n;n=mt();var h=n.queue,f=h.dispatch;return a!==n.memoizedState&&(Te.flags|=2048,wa(9,{destroy:void 0},fT.bind(null,h,a),null)),[l,f,t]}function fT(t,n){t.action=n}function mg(t){var n=mt(),a=Xe;if(a!==null)return dg(n,a,t);mt(),n=n.memoizedState,a=mt();var l=a.queue.dispatch;return a.memoizedState=t,[n,l,!1]}function wa(t,n,a,l){return t={tag:t,create:a,deps:l,inst:n,next:null},n=Te.updateQueue,n===null&&(n=qu(),Te.updateQueue=n),a=n.lastEffect,a===null?n.lastEffect=t.next=t:(l=a.next,a.next=t,t.next=l,n.lastEffect=t),t}function pg(){return mt().memoizedState}function Gu(t,n,a,l){var h=nn();Te.flags|=t,h.memoizedState=wa(1|n,{destroy:void 0},a,l===void 0?null:l)}function Ku(t,n,a,l){var h=mt();l=l===void 0?null:l;var f=h.memoizedState.inst;Xe!==null&&l!==null&&cf(l,Xe.memoizedState.deps)?h.memoizedState=wa(n,f,a,l):(Te.flags|=t,h.memoizedState=wa(1|n,f,a,l))}function gg(t,n){Gu(8390656,8,t,n)}function Ef(t,n){Ku(2048,8,t,n)}function dT(t){Te.flags|=4;var n=Te.updateQueue;if(n===null)n=qu(),Te.updateQueue=n,n.events=[t];else{var a=n.events;a===null?n.events=[t]:a.push(t)}}function yg(t){var n=mt().memoizedState;return dT({ref:n,nextImpl:t}),function(){if((qe&2)!==0)throw Error(r(440));return n.impl.apply(void 0,arguments)}}function _g(t,n){return Ku(4,2,t,n)}function vg(t,n){return Ku(4,4,t,n)}function Eg(t,n){if(typeof n=="function"){t=t();var a=n(t);return function(){typeof a=="function"?a():n(null)}}if(n!=null)return t=t(),n.current=t,function(){n.current=null}}function bg(t,n,a){a=a!=null?a.concat([t]):null,Ku(4,4,Eg.bind(null,n,t),a)}function bf(){}function Tg(t,n){var a=mt();n=n===void 0?null:n;var l=a.memoizedState;return n!==null&&cf(n,l[1])?l[0]:(a.memoizedState=[t,n],t)}function Sg(t,n){var a=mt();n=n===void 0?null:n;var l=a.memoizedState;if(n!==null&&cf(n,l[1]))return l[0];if(l=t(),Dr){An(!0);try{t()}finally{An(!1)}}return a.memoizedState=[l,n],l}function Tf(t,n,a){return a===void 0||(Pi&1073741824)!==0&&(xe&261930)===0?t.memoizedState=n:(t.memoizedState=a,t=Ay(),Te.lanes|=t,Cs|=t,a)}function Ag(t,n,a,l){return gn(a,n)?a:Ta.current!==null?(t=Tf(t,a,l),gn(t,n)||(St=!0),t):(Pi&42)===0||(Pi&1073741824)!==0&&(xe&261930)===0?(St=!0,t.memoizedState=a):(t=Ay(),Te.lanes|=t,Cs|=t,n)}function wg(t,n,a,l,h){var f=te.p;te.p=f!==0&&8>f?f:8;var g=G.T,E={};G.T=E,wf(t,!1,n,a);try{var I=h(),P=G.S;if(P!==null&&P(E,I),I!==null&&typeof I=="object"&&typeof I.then=="function"){var F=oT(I,l);Ql(t,n,F,Tn(t))}else Ql(t,n,l,Tn(t))}catch(Y){Ql(t,n,{then:function(){},status:"rejected",reason:Y},Tn())}finally{te.p=f,g!==null&&E.types!==null&&(g.types=E.types),G.T=g}}function mT(){}function Sf(t,n,a,l){if(t.tag!==5)throw Error(r(476));var h=Rg(t).queue;wg(t,h,n,fe,a===null?mT:function(){return xg(t),a(l)})}function Rg(t){var n=t.memoizedState;if(n!==null)return n;n={memoizedState:fe,baseState:fe,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:zi,lastRenderedState:fe},next:null};var a={};return n.next={memoizedState:a,baseState:a,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:zi,lastRenderedState:a},next:null},t.memoizedState=n,t=t.alternate,t!==null&&(t.memoizedState=n),n}function xg(t){var n=Rg(t);n.next===null&&(n=t.alternate.memoizedState),Ql(t,n.next.queue,{},Tn())}function Af(){return qt(co)}function Cg(){return mt().memoizedState}function Ig(){return mt().memoizedState}function pT(t){for(var n=t.return;n!==null;){switch(n.tag){case 24:case 3:var a=Tn();t=Ts(a);var l=Ss(n,t,a);l!==null&&(hn(l,n,a),ql(l,n,a)),n={cache:Zh()},t.payload=n;return}n=n.return}}function gT(t,n,a){var l=Tn();a={lane:l,revertLane:0,gesture:null,action:a,hasEagerState:!1,eagerState:null,next:null},Qu(t)?Dg(n,a):(a=Bh(t,n,a,l),a!==null&&(hn(a,t,l),Og(a,n,l)))}function Ng(t,n,a){var l=Tn();Ql(t,n,a,l)}function Ql(t,n,a,l){var h={lane:l,revertLane:0,gesture:null,action:a,hasEagerState:!1,eagerState:null,next:null};if(Qu(t))Dg(n,h);else{var f=t.alternate;if(t.lanes===0&&(f===null||f.lanes===0)&&(f=n.lastRenderedReducer,f!==null))try{var g=n.lastRenderedState,E=f(g,a);if(h.hasEagerState=!0,h.eagerState=E,gn(E,g))return xu(t,n,h,0),Ze===null&&Ru(),!1}catch{}finally{}if(a=Bh(t,n,h,l),a!==null)return hn(a,t,l),Og(a,n,l),!0}return!1}function wf(t,n,a,l){if(l={lane:2,revertLane:id(),gesture:null,action:l,hasEagerState:!1,eagerState:null,next:null},Qu(t)){if(n)throw Error(r(479))}else n=Bh(t,a,l,2),n!==null&&hn(n,t,2)}function Qu(t){var n=t.alternate;return t===Te||n!==null&&n===Te}function Dg(t,n){Sa=zu=!0;var a=t.pending;a===null?n.next=n:(n.next=a.next,a.next=n),t.pending=n}function Og(t,n,a){if((a&4194048)!==0){var l=n.lanes;l&=t.pendingLanes,a|=l,n.lanes=a,pl(t,a)}}var Yl={readContext:qt,use:Hu,useCallback:ut,useContext:ut,useEffect:ut,useImperativeHandle:ut,useLayoutEffect:ut,useInsertionEffect:ut,useMemo:ut,useReducer:ut,useRef:ut,useState:ut,useDebugValue:ut,useDeferredValue:ut,useTransition:ut,useSyncExternalStore:ut,useId:ut,useHostTransitionStatus:ut,useFormState:ut,useActionState:ut,useOptimistic:ut,useMemoCache:ut,useCacheRefresh:ut};Yl.useEffectEvent=ut;var Mg={readContext:qt,use:Hu,useCallback:function(t,n){return nn().memoizedState=[t,n===void 0?null:n],t},useContext:qt,useEffect:gg,useImperativeHandle:function(t,n,a){a=a!=null?a.concat([t]):null,Gu(4194308,4,Eg.bind(null,n,t),a)},useLayoutEffect:function(t,n){return Gu(4194308,4,t,n)},useInsertionEffect:function(t,n){Gu(4,2,t,n)},useMemo:function(t,n){var a=nn();n=n===void 0?null:n;var l=t();if(Dr){An(!0);try{t()}finally{An(!1)}}return a.memoizedState=[l,n],l},useReducer:function(t,n,a){var l=nn();if(a!==void 0){var h=a(n);if(Dr){An(!0);try{a(n)}finally{An(!1)}}}else h=n;return l.memoizedState=l.baseState=h,t={pending:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:h},l.queue=t,t=t.dispatch=gT.bind(null,Te,t),[l.memoizedState,t]},useRef:function(t){var n=nn();return t={current:t},n.memoizedState=t},useState:function(t){t=_f(t);var n=t.queue,a=Ng.bind(null,Te,n);return n.dispatch=a,[t.memoizedState,a]},useDebugValue:bf,useDeferredValue:function(t,n){var a=nn();return Tf(a,t,n)},useTransition:function(){var t=_f(!1);return t=wg.bind(null,Te,t.queue,!0,!1),nn().memoizedState=t,[!1,t]},useSyncExternalStore:function(t,n,a){var l=Te,h=nn();if(Oe){if(a===void 0)throw Error(r(407));a=a()}else{if(a=n(),Ze===null)throw Error(r(349));(xe&127)!==0||eg(l,n,a)}h.memoizedState=a;var f={value:a,getSnapshot:n};return h.queue=f,gg(ng.bind(null,l,f,t),[t]),l.flags|=2048,wa(9,{destroy:void 0},tg.bind(null,l,f,a,n),null),a},useId:function(){var t=nn(),n=Ze.identifierPrefix;if(Oe){var a=vi,l=_i;a=(l&~(1<<32-ht(l)-1)).toString(32)+a,n="_"+n+"R_"+a,a=Bu++,0<a&&(n+="H"+a.toString(32)),n+="_"}else a=uT++,n="_"+n+"r_"+a.toString(32)+"_";return t.memoizedState=n},useHostTransitionStatus:Af,useFormState:hg,useActionState:hg,useOptimistic:function(t){var n=nn();n.memoizedState=n.baseState=t;var a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return n.queue=a,n=wf.bind(null,Te,!0,a),a.dispatch=n,[t,n]},useMemoCache:pf,useCacheRefresh:function(){return nn().memoizedState=pT.bind(null,Te)},useEffectEvent:function(t){var n=nn(),a={impl:t};return n.memoizedState=a,function(){if((qe&2)!==0)throw Error(r(440));return a.impl.apply(void 0,arguments)}}},Rf={readContext:qt,use:Hu,useCallback:Tg,useContext:qt,useEffect:Ef,useImperativeHandle:bg,useInsertionEffect:_g,useLayoutEffect:vg,useMemo:Sg,useReducer:Fu,useRef:pg,useState:function(){return Fu(zi)},useDebugValue:bf,useDeferredValue:function(t,n){var a=mt();return Ag(a,Xe.memoizedState,t,n)},useTransition:function(){var t=Fu(zi)[0],n=mt().memoizedState;return[typeof t=="boolean"?t:Kl(t),n]},useSyncExternalStore:Wp,useId:Cg,useHostTransitionStatus:Af,useFormState:fg,useActionState:fg,useOptimistic:function(t,n){var a=mt();return rg(a,Xe,t,n)},useMemoCache:pf,useCacheRefresh:Ig};Rf.useEffectEvent=yg;var Vg={readContext:qt,use:Hu,useCallback:Tg,useContext:qt,useEffect:Ef,useImperativeHandle:bg,useInsertionEffect:_g,useLayoutEffect:vg,useMemo:Sg,useReducer:yf,useRef:pg,useState:function(){return yf(zi)},useDebugValue:bf,useDeferredValue:function(t,n){var a=mt();return Xe===null?Tf(a,t,n):Ag(a,Xe.memoizedState,t,n)},useTransition:function(){var t=yf(zi)[0],n=mt().memoizedState;return[typeof t=="boolean"?t:Kl(t),n]},useSyncExternalStore:Wp,useId:Cg,useHostTransitionStatus:Af,useFormState:mg,useActionState:mg,useOptimistic:function(t,n){var a=mt();return Xe!==null?rg(a,Xe,t,n):(a.baseState=t,[t,a.queue.dispatch])},useMemoCache:pf,useCacheRefresh:Ig};Vg.useEffectEvent=yg;function xf(t,n,a,l){n=t.memoizedState,a=a(l,n),a=a==null?n:A({},n,a),t.memoizedState=a,t.lanes===0&&(t.updateQueue.baseState=a)}var Cf={enqueueSetState:function(t,n,a){t=t._reactInternals;var l=Tn(),h=Ts(l);h.payload=n,a!=null&&(h.callback=a),n=Ss(t,h,l),n!==null&&(hn(n,t,l),ql(n,t,l))},enqueueReplaceState:function(t,n,a){t=t._reactInternals;var l=Tn(),h=Ts(l);h.tag=1,h.payload=n,a!=null&&(h.callback=a),n=Ss(t,h,l),n!==null&&(hn(n,t,l),ql(n,t,l))},enqueueForceUpdate:function(t,n){t=t._reactInternals;var a=Tn(),l=Ts(a);l.tag=2,n!=null&&(l.callback=n),n=Ss(t,l,a),n!==null&&(hn(n,t,a),ql(n,t,a))}};function kg(t,n,a,l,h,f,g){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(l,f,g):n.prototype&&n.prototype.isPureReactComponent?!Vl(a,l)||!Vl(h,f):!0}function Lg(t,n,a,l){t=n.state,typeof n.componentWillReceiveProps=="function"&&n.componentWillReceiveProps(a,l),typeof n.UNSAFE_componentWillReceiveProps=="function"&&n.UNSAFE_componentWillReceiveProps(a,l),n.state!==t&&Cf.enqueueReplaceState(n,n.state,null)}function Or(t,n){var a=n;if("ref"in n){a={};for(var l in n)l!=="ref"&&(a[l]=n[l])}if(t=t.defaultProps){a===n&&(a=A({},a));for(var h in t)a[h]===void 0&&(a[h]=t[h])}return a}function Ug(t){wu(t)}function jg(t){console.error(t)}function Pg(t){wu(t)}function Yu(t,n){try{var a=t.onUncaughtError;a(n.value,{componentStack:n.stack})}catch(l){setTimeout(function(){throw l})}}function zg(t,n,a){try{var l=t.onCaughtError;l(a.value,{componentStack:a.stack,errorBoundary:n.tag===1?n.stateNode:null})}catch(h){setTimeout(function(){throw h})}}function If(t,n,a){return a=Ts(a),a.tag=3,a.payload={element:null},a.callback=function(){Yu(t,n)},a}function Bg(t){return t=Ts(t),t.tag=3,t}function qg(t,n,a,l){var h=a.type.getDerivedStateFromError;if(typeof h=="function"){var f=l.value;t.payload=function(){return h(f)},t.callback=function(){zg(n,a,l)}}var g=a.stateNode;g!==null&&typeof g.componentDidCatch=="function"&&(t.callback=function(){zg(n,a,l),typeof h!="function"&&(Is===null?Is=new Set([this]):Is.add(this));var E=l.stack;this.componentDidCatch(l.value,{componentStack:E!==null?E:""})})}function yT(t,n,a,l,h){if(a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){if(n=a.alternate,n!==null&&ya(n,a,h,!0),a=_n.current,a!==null){switch(a.tag){case 31:case 13:return Vn===null?ac():a.alternate===null&&ct===0&&(ct=3),a.flags&=-257,a.flags|=65536,a.lanes=h,l===ku?a.flags|=16384:(n=a.updateQueue,n===null?a.updateQueue=new Set([l]):n.add(l),ed(t,l,h)),!1;case 22:return a.flags|=65536,l===ku?a.flags|=16384:(n=a.updateQueue,n===null?(n={transitions:null,markerInstances:null,retryQueue:new Set([l])},a.updateQueue=n):(a=n.retryQueue,a===null?n.retryQueue=new Set([l]):a.add(l)),ed(t,l,h)),!1}throw Error(r(435,a.tag))}return ed(t,l,h),ac(),!1}if(Oe)return n=_n.current,n!==null?((n.flags&65536)===0&&(n.flags|=256),n.flags|=65536,n.lanes=h,l!==Qh&&(t=Error(r(422),{cause:l}),Ul(Nn(t,a)))):(l!==Qh&&(n=Error(r(423),{cause:l}),Ul(Nn(n,a))),t=t.current.alternate,t.flags|=65536,h&=-h,t.lanes|=h,l=Nn(l,a),h=If(t.stateNode,l,h),rf(t,h),ct!==4&&(ct=2)),!1;var f=Error(r(520),{cause:l});if(f=Nn(f,a),no===null?no=[f]:no.push(f),ct!==4&&(ct=2),n===null)return!0;l=Nn(l,a),a=n;do{switch(a.tag){case 3:return a.flags|=65536,t=h&-h,a.lanes|=t,t=If(a.stateNode,l,t),rf(a,t),!1;case 1:if(n=a.type,f=a.stateNode,(a.flags&128)===0&&(typeof n.getDerivedStateFromError=="function"||f!==null&&typeof f.componentDidCatch=="function"&&(Is===null||!Is.has(f))))return a.flags|=65536,h&=-h,a.lanes|=h,h=Bg(h),qg(h,t,a,l),rf(a,h),!1}a=a.return}while(a!==null);return!1}var Nf=Error(r(461)),St=!1;function Ht(t,n,a,l){n.child=t===null?Kp(n,null,a,l):Nr(n,t.child,a,l)}function Hg(t,n,a,l,h){a=a.render;var f=n.ref;if("ref"in l){var g={};for(var E in l)E!=="ref"&&(g[E]=l[E])}else g=l;return Rr(n),l=hf(t,n,a,g,f,h),E=ff(),t!==null&&!St?(df(t,n,h),Bi(t,n,h)):(Oe&&E&&Gh(n),n.flags|=1,Ht(t,n,l,h),n.child)}function Fg(t,n,a,l,h){if(t===null){var f=a.type;return typeof f=="function"&&!qh(f)&&f.defaultProps===void 0&&a.compare===null?(n.tag=15,n.type=f,Gg(t,n,f,l,h)):(t=Iu(a.type,null,l,n,n.mode,h),t.ref=n.ref,t.return=n,n.child=t)}if(f=t.child,!jf(t,h)){var g=f.memoizedProps;if(a=a.compare,a=a!==null?a:Vl,a(g,l)&&t.ref===n.ref)return Bi(t,n,h)}return n.flags|=1,t=ki(f,l),t.ref=n.ref,t.return=n,n.child=t}function Gg(t,n,a,l,h){if(t!==null){var f=t.memoizedProps;if(Vl(f,l)&&t.ref===n.ref)if(St=!1,n.pendingProps=l=f,jf(t,h))(t.flags&131072)!==0&&(St=!0);else return n.lanes=t.lanes,Bi(t,n,h)}return Df(t,n,a,l,h)}function Kg(t,n,a,l){var h=l.children,f=t!==null?t.memoizedState:null;if(t===null&&n.stateNode===null&&(n.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),l.mode==="hidden"){if((n.flags&128)!==0){if(f=f!==null?f.baseLanes|a:a,t!==null){for(l=n.child=t.child,h=0;l!==null;)h=h|l.lanes|l.childLanes,l=l.sibling;l=h&~f}else l=0,n.child=null;return Qg(t,n,f,a,l)}if((a&536870912)!==0)n.memoizedState={baseLanes:0,cachePool:null},t!==null&&Mu(n,f!==null?f.cachePool:null),f!==null?Xp(n,f):lf(),Jp(n);else return l=n.lanes=536870912,Qg(t,n,f!==null?f.baseLanes|a:a,a,l)}else f!==null?(Mu(n,f.cachePool),Xp(n,f),ws(),n.memoizedState=null):(t!==null&&Mu(n,null),lf(),ws());return Ht(t,n,h,a),n.child}function Xl(t,n){return t!==null&&t.tag===22||n.stateNode!==null||(n.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),n.sibling}function Qg(t,n,a,l,h){var f=ef();return f=f===null?null:{parent:bt._currentValue,pool:f},n.memoizedState={baseLanes:a,cachePool:f},t!==null&&Mu(n,null),lf(),Jp(n),t!==null&&ya(t,n,l,!0),n.childLanes=h,null}function Xu(t,n){return n=$u({mode:n.mode,children:n.children},t.mode),n.ref=t.ref,t.child=n,n.return=t,n}function Yg(t,n,a){return Nr(n,t.child,null,a),t=Xu(n,n.pendingProps),t.flags|=2,vn(n),n.memoizedState=null,t}function _T(t,n,a){var l=n.pendingProps,h=(n.flags&128)!==0;if(n.flags&=-129,t===null){if(Oe){if(l.mode==="hidden")return t=Xu(n,l),n.lanes=536870912,Xl(null,t);if(uf(n),(t=et)?(t=a_(t,Mn),t=t!==null&&t.data==="&"?t:null,t!==null&&(n.memoizedState={dehydrated:t,treeContext:ys!==null?{id:_i,overflow:vi}:null,retryLane:536870912,hydrationErrors:null},a=Dp(t),a.return=n,n.child=a,Bt=n,et=null)):t=null,t===null)throw vs(n);return n.lanes=536870912,null}return Xu(n,l)}var f=t.memoizedState;if(f!==null){var g=f.dehydrated;if(uf(n),h)if(n.flags&256)n.flags&=-257,n=Yg(t,n,a);else if(n.memoizedState!==null)n.child=t.child,n.flags|=128,n=null;else throw Error(r(558));else if(St||ya(t,n,a,!1),h=(a&t.childLanes)!==0,St||h){if(l=Ze,l!==null&&(g=gl(l,a),g!==0&&g!==f.retryLane))throw f.retryLane=g,Tr(t,g),hn(l,t,g),Nf;ac(),n=Yg(t,n,a)}else t=f.treeContext,et=kn(g.nextSibling),Bt=n,Oe=!0,_s=null,Mn=!1,t!==null&&Vp(n,t),n=Xu(n,l),n.flags|=4096;return n}return t=ki(t.child,{mode:l.mode,children:l.children}),t.ref=n.ref,n.child=t,t.return=n,t}function Ju(t,n){var a=n.ref;if(a===null)t!==null&&t.ref!==null&&(n.flags|=4194816);else{if(typeof a!="function"&&typeof a!="object")throw Error(r(284));(t===null||t.ref!==a)&&(n.flags|=4194816)}}function Df(t,n,a,l,h){return Rr(n),a=hf(t,n,a,l,void 0,h),l=ff(),t!==null&&!St?(df(t,n,h),Bi(t,n,h)):(Oe&&l&&Gh(n),n.flags|=1,Ht(t,n,a,h),n.child)}function Xg(t,n,a,l,h,f){return Rr(n),n.updateQueue=null,a=Zp(n,l,a,h),$p(t),l=ff(),t!==null&&!St?(df(t,n,f),Bi(t,n,f)):(Oe&&l&&Gh(n),n.flags|=1,Ht(t,n,a,f),n.child)}function Jg(t,n,a,l,h){if(Rr(n),n.stateNode===null){var f=da,g=a.contextType;typeof g=="object"&&g!==null&&(f=qt(g)),f=new a(l,f),n.memoizedState=f.state!==null&&f.state!==void 0?f.state:null,f.updater=Cf,n.stateNode=f,f._reactInternals=n,f=n.stateNode,f.props=l,f.state=n.memoizedState,f.refs={},nf(n),g=a.contextType,f.context=typeof g=="object"&&g!==null?qt(g):da,f.state=n.memoizedState,g=a.getDerivedStateFromProps,typeof g=="function"&&(xf(n,a,g,l),f.state=n.memoizedState),typeof a.getDerivedStateFromProps=="function"||typeof f.getSnapshotBeforeUpdate=="function"||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(g=f.state,typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount(),g!==f.state&&Cf.enqueueReplaceState(f,f.state,null),Fl(n,l,f,h),Hl(),f.state=n.memoizedState),typeof f.componentDidMount=="function"&&(n.flags|=4194308),l=!0}else if(t===null){f=n.stateNode;var E=n.memoizedProps,I=Or(a,E);f.props=I;var P=f.context,F=a.contextType;g=da,typeof F=="object"&&F!==null&&(g=qt(F));var Y=a.getDerivedStateFromProps;F=typeof Y=="function"||typeof f.getSnapshotBeforeUpdate=="function",E=n.pendingProps!==E,F||typeof f.UNSAFE_componentWillReceiveProps!="function"&&typeof f.componentWillReceiveProps!="function"||(E||P!==g)&&Lg(n,f,l,g),bs=!1;var z=n.memoizedState;f.state=z,Fl(n,l,f,h),Hl(),P=n.memoizedState,E||z!==P||bs?(typeof Y=="function"&&(xf(n,a,Y,l),P=n.memoizedState),(I=bs||kg(n,a,I,l,z,P,g))?(F||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount()),typeof f.componentDidMount=="function"&&(n.flags|=4194308)):(typeof f.componentDidMount=="function"&&(n.flags|=4194308),n.memoizedProps=l,n.memoizedState=P),f.props=l,f.state=P,f.context=g,l=I):(typeof f.componentDidMount=="function"&&(n.flags|=4194308),l=!1)}else{f=n.stateNode,sf(t,n),g=n.memoizedProps,F=Or(a,g),f.props=F,Y=n.pendingProps,z=f.context,P=a.contextType,I=da,typeof P=="object"&&P!==null&&(I=qt(P)),E=a.getDerivedStateFromProps,(P=typeof E=="function"||typeof f.getSnapshotBeforeUpdate=="function")||typeof f.UNSAFE_componentWillReceiveProps!="function"&&typeof f.componentWillReceiveProps!="function"||(g!==Y||z!==I)&&Lg(n,f,l,I),bs=!1,z=n.memoizedState,f.state=z,Fl(n,l,f,h),Hl();var H=n.memoizedState;g!==Y||z!==H||bs||t!==null&&t.dependencies!==null&&Du(t.dependencies)?(typeof E=="function"&&(xf(n,a,E,l),H=n.memoizedState),(F=bs||kg(n,a,F,l,z,H,I)||t!==null&&t.dependencies!==null&&Du(t.dependencies))?(P||typeof f.UNSAFE_componentWillUpdate!="function"&&typeof f.componentWillUpdate!="function"||(typeof f.componentWillUpdate=="function"&&f.componentWillUpdate(l,H,I),typeof f.UNSAFE_componentWillUpdate=="function"&&f.UNSAFE_componentWillUpdate(l,H,I)),typeof f.componentDidUpdate=="function"&&(n.flags|=4),typeof f.getSnapshotBeforeUpdate=="function"&&(n.flags|=1024)):(typeof f.componentDidUpdate!="function"||g===t.memoizedProps&&z===t.memoizedState||(n.flags|=4),typeof f.getSnapshotBeforeUpdate!="function"||g===t.memoizedProps&&z===t.memoizedState||(n.flags|=1024),n.memoizedProps=l,n.memoizedState=H),f.props=l,f.state=H,f.context=I,l=F):(typeof f.componentDidUpdate!="function"||g===t.memoizedProps&&z===t.memoizedState||(n.flags|=4),typeof f.getSnapshotBeforeUpdate!="function"||g===t.memoizedProps&&z===t.memoizedState||(n.flags|=1024),l=!1)}return f=l,Ju(t,n),l=(n.flags&128)!==0,f||l?(f=n.stateNode,a=l&&typeof a.getDerivedStateFromError!="function"?null:f.render(),n.flags|=1,t!==null&&l?(n.child=Nr(n,t.child,null,h),n.child=Nr(n,null,a,h)):Ht(t,n,a,h),n.memoizedState=f.state,t=n.child):t=Bi(t,n,h),t}function $g(t,n,a,l){return Ar(),n.flags|=256,Ht(t,n,a,l),n.child}var Of={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Mf(t){return{baseLanes:t,cachePool:zp()}}function Vf(t,n,a){return t=t!==null?t.childLanes&~a:0,n&&(t|=bn),t}function Zg(t,n,a){var l=n.pendingProps,h=!1,f=(n.flags&128)!==0,g;if((g=f)||(g=t!==null&&t.memoizedState===null?!1:(dt.current&2)!==0),g&&(h=!0,n.flags&=-129),g=(n.flags&32)!==0,n.flags&=-33,t===null){if(Oe){if(h?As(n):ws(),(t=et)?(t=a_(t,Mn),t=t!==null&&t.data!=="&"?t:null,t!==null&&(n.memoizedState={dehydrated:t,treeContext:ys!==null?{id:_i,overflow:vi}:null,retryLane:536870912,hydrationErrors:null},a=Dp(t),a.return=n,n.child=a,Bt=n,et=null)):t=null,t===null)throw vs(n);return gd(t)?n.lanes=32:n.lanes=536870912,null}var E=l.children;return l=l.fallback,h?(ws(),h=n.mode,E=$u({mode:"hidden",children:E},h),l=Sr(l,h,a,null),E.return=n,l.return=n,E.sibling=l,n.child=E,l=n.child,l.memoizedState=Mf(a),l.childLanes=Vf(t,g,a),n.memoizedState=Of,Xl(null,l)):(As(n),kf(n,E))}var I=t.memoizedState;if(I!==null&&(E=I.dehydrated,E!==null)){if(f)n.flags&256?(As(n),n.flags&=-257,n=Lf(t,n,a)):n.memoizedState!==null?(ws(),n.child=t.child,n.flags|=128,n=null):(ws(),E=l.fallback,h=n.mode,l=$u({mode:"visible",children:l.children},h),E=Sr(E,h,a,null),E.flags|=2,l.return=n,E.return=n,l.sibling=E,n.child=l,Nr(n,t.child,null,a),l=n.child,l.memoizedState=Mf(a),l.childLanes=Vf(t,g,a),n.memoizedState=Of,n=Xl(null,l));else if(As(n),gd(E)){if(g=E.nextSibling&&E.nextSibling.dataset,g)var P=g.dgst;g=P,l=Error(r(419)),l.stack="",l.digest=g,Ul({value:l,source:null,stack:null}),n=Lf(t,n,a)}else if(St||ya(t,n,a,!1),g=(a&t.childLanes)!==0,St||g){if(g=Ze,g!==null&&(l=gl(g,a),l!==0&&l!==I.retryLane))throw I.retryLane=l,Tr(t,l),hn(g,t,l),Nf;pd(E)||ac(),n=Lf(t,n,a)}else pd(E)?(n.flags|=192,n.child=t.child,n=null):(t=I.treeContext,et=kn(E.nextSibling),Bt=n,Oe=!0,_s=null,Mn=!1,t!==null&&Vp(n,t),n=kf(n,l.children),n.flags|=4096);return n}return h?(ws(),E=l.fallback,h=n.mode,I=t.child,P=I.sibling,l=ki(I,{mode:"hidden",children:l.children}),l.subtreeFlags=I.subtreeFlags&65011712,P!==null?E=ki(P,E):(E=Sr(E,h,a,null),E.flags|=2),E.return=n,l.return=n,l.sibling=E,n.child=l,Xl(null,l),l=n.child,E=t.child.memoizedState,E===null?E=Mf(a):(h=E.cachePool,h!==null?(I=bt._currentValue,h=h.parent!==I?{parent:I,pool:I}:h):h=zp(),E={baseLanes:E.baseLanes|a,cachePool:h}),l.memoizedState=E,l.childLanes=Vf(t,g,a),n.memoizedState=Of,Xl(t.child,l)):(As(n),a=t.child,t=a.sibling,a=ki(a,{mode:"visible",children:l.children}),a.return=n,a.sibling=null,t!==null&&(g=n.deletions,g===null?(n.deletions=[t],n.flags|=16):g.push(t)),n.child=a,n.memoizedState=null,a)}function kf(t,n){return n=$u({mode:"visible",children:n},t.mode),n.return=t,t.child=n}function $u(t,n){return t=yn(22,t,null,n),t.lanes=0,t}function Lf(t,n,a){return Nr(n,t.child,null,a),t=kf(n,n.pendingProps.children),t.flags|=2,n.memoizedState=null,t}function Wg(t,n,a){t.lanes|=n;var l=t.alternate;l!==null&&(l.lanes|=n),Jh(t.return,n,a)}function Uf(t,n,a,l,h,f){var g=t.memoizedState;g===null?t.memoizedState={isBackwards:n,rendering:null,renderingStartTime:0,last:l,tail:a,tailMode:h,treeForkCount:f}:(g.isBackwards=n,g.rendering=null,g.renderingStartTime=0,g.last=l,g.tail=a,g.tailMode=h,g.treeForkCount=f)}function ey(t,n,a){var l=n.pendingProps,h=l.revealOrder,f=l.tail;l=l.children;var g=dt.current,E=(g&2)!==0;if(E?(g=g&1|2,n.flags|=128):g&=1,ne(dt,g),Ht(t,n,l,a),l=Oe?Ll:0,!E&&t!==null&&(t.flags&128)!==0)e:for(t=n.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&Wg(t,a,n);else if(t.tag===19)Wg(t,a,n);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===n)break e;for(;t.sibling===null;){if(t.return===null||t.return===n)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}switch(h){case"forwards":for(a=n.child,h=null;a!==null;)t=a.alternate,t!==null&&Pu(t)===null&&(h=a),a=a.sibling;a=h,a===null?(h=n.child,n.child=null):(h=a.sibling,a.sibling=null),Uf(n,!1,h,a,f,l);break;case"backwards":case"unstable_legacy-backwards":for(a=null,h=n.child,n.child=null;h!==null;){if(t=h.alternate,t!==null&&Pu(t)===null){n.child=h;break}t=h.sibling,h.sibling=a,a=h,h=t}Uf(n,!0,a,null,f,l);break;case"together":Uf(n,!1,null,null,void 0,l);break;default:n.memoizedState=null}return n.child}function Bi(t,n,a){if(t!==null&&(n.dependencies=t.dependencies),Cs|=n.lanes,(a&n.childLanes)===0)if(t!==null){if(ya(t,n,a,!1),(a&n.childLanes)===0)return null}else return null;if(t!==null&&n.child!==t.child)throw Error(r(153));if(n.child!==null){for(t=n.child,a=ki(t,t.pendingProps),n.child=a,a.return=n;t.sibling!==null;)t=t.sibling,a=a.sibling=ki(t,t.pendingProps),a.return=n;a.sibling=null}return n.child}function jf(t,n){return(t.lanes&n)!==0?!0:(t=t.dependencies,!!(t!==null&&Du(t)))}function vT(t,n,a){switch(n.tag){case 3:It(n,n.stateNode.containerInfo),Es(n,bt,t.memoizedState.cache),Ar();break;case 27:case 5:sr(n);break;case 4:It(n,n.stateNode.containerInfo);break;case 10:Es(n,n.type,n.memoizedProps.value);break;case 31:if(n.memoizedState!==null)return n.flags|=128,uf(n),null;break;case 13:var l=n.memoizedState;if(l!==null)return l.dehydrated!==null?(As(n),n.flags|=128,null):(a&n.child.childLanes)!==0?Zg(t,n,a):(As(n),t=Bi(t,n,a),t!==null?t.sibling:null);As(n);break;case 19:var h=(t.flags&128)!==0;if(l=(a&n.childLanes)!==0,l||(ya(t,n,a,!1),l=(a&n.childLanes)!==0),h){if(l)return ey(t,n,a);n.flags|=128}if(h=n.memoizedState,h!==null&&(h.rendering=null,h.tail=null,h.lastEffect=null),ne(dt,dt.current),l)break;return null;case 22:return n.lanes=0,Kg(t,n,a,n.pendingProps);case 24:Es(n,bt,t.memoizedState.cache)}return Bi(t,n,a)}function ty(t,n,a){if(t!==null)if(t.memoizedProps!==n.pendingProps)St=!0;else{if(!jf(t,a)&&(n.flags&128)===0)return St=!1,vT(t,n,a);St=(t.flags&131072)!==0}else St=!1,Oe&&(n.flags&1048576)!==0&&Mp(n,Ll,n.index);switch(n.lanes=0,n.tag){case 16:e:{var l=n.pendingProps;if(t=Cr(n.elementType),n.type=t,typeof t=="function")qh(t)?(l=Or(t,l),n.tag=1,n=Jg(null,n,t,l,a)):(n.tag=0,n=Df(null,n,t,l,a));else{if(t!=null){var h=t.$$typeof;if(h===ke){n.tag=11,n=Hg(null,n,t,l,a);break e}else if(h===w){n.tag=14,n=Fg(null,n,t,l,a);break e}}throw n=st(t)||t,Error(r(306,n,""))}}return n;case 0:return Df(t,n,n.type,n.pendingProps,a);case 1:return l=n.type,h=Or(l,n.pendingProps),Jg(t,n,l,h,a);case 3:e:{if(It(n,n.stateNode.containerInfo),t===null)throw Error(r(387));l=n.pendingProps;var f=n.memoizedState;h=f.element,sf(t,n),Fl(n,l,null,a);var g=n.memoizedState;if(l=g.cache,Es(n,bt,l),l!==f.cache&&$h(n,[bt],a,!0),Hl(),l=g.element,f.isDehydrated)if(f={element:l,isDehydrated:!1,cache:g.cache},n.updateQueue.baseState=f,n.memoizedState=f,n.flags&256){n=$g(t,n,l,a);break e}else if(l!==h){h=Nn(Error(r(424)),n),Ul(h),n=$g(t,n,l,a);break e}else{switch(t=n.stateNode.containerInfo,t.nodeType){case 9:t=t.body;break;default:t=t.nodeName==="HTML"?t.ownerDocument.body:t}for(et=kn(t.firstChild),Bt=n,Oe=!0,_s=null,Mn=!0,a=Kp(n,null,l,a),n.child=a;a;)a.flags=a.flags&-3|4096,a=a.sibling}else{if(Ar(),l===h){n=Bi(t,n,a);break e}Ht(t,n,l,a)}n=n.child}return n;case 26:return Ju(t,n),t===null?(a=f_(n.type,null,n.pendingProps,null))?n.memoizedState=a:Oe||(a=n.type,t=n.pendingProps,l=dc(Se.current).createElement(a),l[_t]=n,l[kt]=t,Ft(l,a,t),vt(l),n.stateNode=l):n.memoizedState=f_(n.type,t.memoizedProps,n.pendingProps,t.memoizedState),null;case 27:return sr(n),t===null&&Oe&&(l=n.stateNode=u_(n.type,n.pendingProps,Se.current),Bt=n,Mn=!0,h=et,Ms(n.type)?(yd=h,et=kn(l.firstChild)):et=h),Ht(t,n,n.pendingProps.children,a),Ju(t,n),t===null&&(n.flags|=4194304),n.child;case 5:return t===null&&Oe&&((h=l=et)&&(l=XT(l,n.type,n.pendingProps,Mn),l!==null?(n.stateNode=l,Bt=n,et=kn(l.firstChild),Mn=!1,h=!0):h=!1),h||vs(n)),sr(n),h=n.type,f=n.pendingProps,g=t!==null?t.memoizedProps:null,l=f.children,fd(h,f)?l=null:g!==null&&fd(h,g)&&(n.flags|=32),n.memoizedState!==null&&(h=hf(t,n,cT,null,null,a),co._currentValue=h),Ju(t,n),Ht(t,n,l,a),n.child;case 6:return t===null&&Oe&&((t=a=et)&&(a=JT(a,n.pendingProps,Mn),a!==null?(n.stateNode=a,Bt=n,et=null,t=!0):t=!1),t||vs(n)),null;case 13:return Zg(t,n,a);case 4:return It(n,n.stateNode.containerInfo),l=n.pendingProps,t===null?n.child=Nr(n,null,l,a):Ht(t,n,l,a),n.child;case 11:return Hg(t,n,n.type,n.pendingProps,a);case 7:return Ht(t,n,n.pendingProps,a),n.child;case 8:return Ht(t,n,n.pendingProps.children,a),n.child;case 12:return Ht(t,n,n.pendingProps.children,a),n.child;case 10:return l=n.pendingProps,Es(n,n.type,l.value),Ht(t,n,l.children,a),n.child;case 9:return h=n.type._context,l=n.pendingProps.children,Rr(n),h=qt(h),l=l(h),n.flags|=1,Ht(t,n,l,a),n.child;case 14:return Fg(t,n,n.type,n.pendingProps,a);case 15:return Gg(t,n,n.type,n.pendingProps,a);case 19:return ey(t,n,a);case 31:return _T(t,n,a);case 22:return Kg(t,n,a,n.pendingProps);case 24:return Rr(n),l=qt(bt),t===null?(h=ef(),h===null&&(h=Ze,f=Zh(),h.pooledCache=f,f.refCount++,f!==null&&(h.pooledCacheLanes|=a),h=f),n.memoizedState={parent:l,cache:h},nf(n),Es(n,bt,h)):((t.lanes&a)!==0&&(sf(t,n),Fl(n,null,null,a),Hl()),h=t.memoizedState,f=n.memoizedState,h.parent!==l?(h={parent:l,cache:l},n.memoizedState=h,n.lanes===0&&(n.memoizedState=n.updateQueue.baseState=h),Es(n,bt,l)):(l=f.cache,Es(n,bt,l),l!==h.cache&&$h(n,[bt],a,!0))),Ht(t,n,n.pendingProps.children,a),n.child;case 29:throw n.pendingProps}throw Error(r(156,n.tag))}function qi(t){t.flags|=4}function Pf(t,n,a,l,h){if((n=(t.mode&32)!==0)&&(n=!1),n){if(t.flags|=16777216,(h&335544128)===h)if(t.stateNode.complete)t.flags|=8192;else if(Cy())t.flags|=8192;else throw Ir=ku,tf}else t.flags&=-16777217}function ny(t,n){if(n.type!=="stylesheet"||(n.state.loading&4)!==0)t.flags&=-16777217;else if(t.flags|=16777216,!y_(n))if(Cy())t.flags|=8192;else throw Ir=ku,tf}function Zu(t,n){n!==null&&(t.flags|=4),t.flags&16384&&(n=t.tag!==22?su():536870912,t.lanes|=n,Ia|=n)}function Jl(t,n){if(!Oe)switch(t.tailMode){case"hidden":n=t.tail;for(var a=null;n!==null;)n.alternate!==null&&(a=n),n=n.sibling;a===null?t.tail=null:a.sibling=null;break;case"collapsed":a=t.tail;for(var l=null;a!==null;)a.alternate!==null&&(l=a),a=a.sibling;l===null?n||t.tail===null?t.tail=null:t.tail.sibling=null:l.sibling=null}}function tt(t){var n=t.alternate!==null&&t.alternate.child===t.child,a=0,l=0;if(n)for(var h=t.child;h!==null;)a|=h.lanes|h.childLanes,l|=h.subtreeFlags&65011712,l|=h.flags&65011712,h.return=t,h=h.sibling;else for(h=t.child;h!==null;)a|=h.lanes|h.childLanes,l|=h.subtreeFlags,l|=h.flags,h.return=t,h=h.sibling;return t.subtreeFlags|=l,t.childLanes=a,n}function ET(t,n,a){var l=n.pendingProps;switch(Kh(n),n.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return tt(n),null;case 1:return tt(n),null;case 3:return a=n.stateNode,l=null,t!==null&&(l=t.memoizedState.cache),n.memoizedState.cache!==l&&(n.flags|=2048),ji(bt),rt(),a.pendingContext&&(a.context=a.pendingContext,a.pendingContext=null),(t===null||t.child===null)&&(ga(n)?qi(n):t===null||t.memoizedState.isDehydrated&&(n.flags&256)===0||(n.flags|=1024,Yh())),tt(n),null;case 26:var h=n.type,f=n.memoizedState;return t===null?(qi(n),f!==null?(tt(n),ny(n,f)):(tt(n),Pf(n,h,null,l,a))):f?f!==t.memoizedState?(qi(n),tt(n),ny(n,f)):(tt(n),n.flags&=-16777217):(t=t.memoizedProps,t!==l&&qi(n),tt(n),Pf(n,h,t,l,a)),null;case 27:if(Yr(n),a=Se.current,h=n.type,t!==null&&n.stateNode!=null)t.memoizedProps!==l&&qi(n);else{if(!l){if(n.stateNode===null)throw Error(r(166));return tt(n),null}t=se.current,ga(n)?kp(n):(t=u_(h,l,a),n.stateNode=t,qi(n))}return tt(n),null;case 5:if(Yr(n),h=n.type,t!==null&&n.stateNode!=null)t.memoizedProps!==l&&qi(n);else{if(!l){if(n.stateNode===null)throw Error(r(166));return tt(n),null}if(f=se.current,ga(n))kp(n);else{var g=dc(Se.current);switch(f){case 1:f=g.createElementNS("http://www.w3.org/2000/svg",h);break;case 2:f=g.createElementNS("http://www.w3.org/1998/Math/MathML",h);break;default:switch(h){case"svg":f=g.createElementNS("http://www.w3.org/2000/svg",h);break;case"math":f=g.createElementNS("http://www.w3.org/1998/Math/MathML",h);break;case"script":f=g.createElement("div"),f.innerHTML="<script><\/script>",f=f.removeChild(f.firstChild);break;case"select":f=typeof l.is=="string"?g.createElement("select",{is:l.is}):g.createElement("select"),l.multiple?f.multiple=!0:l.size&&(f.size=l.size);break;default:f=typeof l.is=="string"?g.createElement(h,{is:l.is}):g.createElement(h)}}f[_t]=n,f[kt]=l;e:for(g=n.child;g!==null;){if(g.tag===5||g.tag===6)f.appendChild(g.stateNode);else if(g.tag!==4&&g.tag!==27&&g.child!==null){g.child.return=g,g=g.child;continue}if(g===n)break e;for(;g.sibling===null;){if(g.return===null||g.return===n)break e;g=g.return}g.sibling.return=g.return,g=g.sibling}n.stateNode=f;e:switch(Ft(f,h,l),h){case"button":case"input":case"select":case"textarea":l=!!l.autoFocus;break e;case"img":l=!0;break e;default:l=!1}l&&qi(n)}}return tt(n),Pf(n,n.type,t===null?null:t.memoizedProps,n.pendingProps,a),null;case 6:if(t&&n.stateNode!=null)t.memoizedProps!==l&&qi(n);else{if(typeof l!="string"&&n.stateNode===null)throw Error(r(166));if(t=Se.current,ga(n)){if(t=n.stateNode,a=n.memoizedProps,l=null,h=Bt,h!==null)switch(h.tag){case 27:case 5:l=h.memoizedProps}t[_t]=n,t=!!(t.nodeValue===a||l!==null&&l.suppressHydrationWarning===!0||Zy(t.nodeValue,a)),t||vs(n,!0)}else t=dc(t).createTextNode(l),t[_t]=n,n.stateNode=t}return tt(n),null;case 31:if(a=n.memoizedState,t===null||t.memoizedState!==null){if(l=ga(n),a!==null){if(t===null){if(!l)throw Error(r(318));if(t=n.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(r(557));t[_t]=n}else Ar(),(n.flags&128)===0&&(n.memoizedState=null),n.flags|=4;tt(n),t=!1}else a=Yh(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=a),t=!0;if(!t)return n.flags&256?(vn(n),n):(vn(n),null);if((n.flags&128)!==0)throw Error(r(558))}return tt(n),null;case 13:if(l=n.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(h=ga(n),l!==null&&l.dehydrated!==null){if(t===null){if(!h)throw Error(r(318));if(h=n.memoizedState,h=h!==null?h.dehydrated:null,!h)throw Error(r(317));h[_t]=n}else Ar(),(n.flags&128)===0&&(n.memoizedState=null),n.flags|=4;tt(n),h=!1}else h=Yh(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=h),h=!0;if(!h)return n.flags&256?(vn(n),n):(vn(n),null)}return vn(n),(n.flags&128)!==0?(n.lanes=a,n):(a=l!==null,t=t!==null&&t.memoizedState!==null,a&&(l=n.child,h=null,l.alternate!==null&&l.alternate.memoizedState!==null&&l.alternate.memoizedState.cachePool!==null&&(h=l.alternate.memoizedState.cachePool.pool),f=null,l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(f=l.memoizedState.cachePool.pool),f!==h&&(l.flags|=2048)),a!==t&&a&&(n.child.flags|=8192),Zu(n,n.updateQueue),tt(n),null);case 4:return rt(),t===null&&ld(n.stateNode.containerInfo),tt(n),null;case 10:return ji(n.type),tt(n),null;case 19:if(X(dt),l=n.memoizedState,l===null)return tt(n),null;if(h=(n.flags&128)!==0,f=l.rendering,f===null)if(h)Jl(l,!1);else{if(ct!==0||t!==null&&(t.flags&128)!==0)for(t=n.child;t!==null;){if(f=Pu(t),f!==null){for(n.flags|=128,Jl(l,!1),t=f.updateQueue,n.updateQueue=t,Zu(n,t),n.subtreeFlags=0,t=a,a=n.child;a!==null;)Np(a,t),a=a.sibling;return ne(dt,dt.current&1|2),Oe&&Li(n,l.treeForkCount),n.child}t=t.sibling}l.tail!==null&&en()>ic&&(n.flags|=128,h=!0,Jl(l,!1),n.lanes=4194304)}else{if(!h)if(t=Pu(f),t!==null){if(n.flags|=128,h=!0,t=t.updateQueue,n.updateQueue=t,Zu(n,t),Jl(l,!0),l.tail===null&&l.tailMode==="hidden"&&!f.alternate&&!Oe)return tt(n),null}else 2*en()-l.renderingStartTime>ic&&a!==536870912&&(n.flags|=128,h=!0,Jl(l,!1),n.lanes=4194304);l.isBackwards?(f.sibling=n.child,n.child=f):(t=l.last,t!==null?t.sibling=f:n.child=f,l.last=f)}return l.tail!==null?(t=l.tail,l.rendering=t,l.tail=t.sibling,l.renderingStartTime=en(),t.sibling=null,a=dt.current,ne(dt,h?a&1|2:a&1),Oe&&Li(n,l.treeForkCount),t):(tt(n),null);case 22:case 23:return vn(n),of(),l=n.memoizedState!==null,t!==null?t.memoizedState!==null!==l&&(n.flags|=8192):l&&(n.flags|=8192),l?(a&536870912)!==0&&(n.flags&128)===0&&(tt(n),n.subtreeFlags&6&&(n.flags|=8192)):tt(n),a=n.updateQueue,a!==null&&Zu(n,a.retryQueue),a=null,t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(a=t.memoizedState.cachePool.pool),l=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(l=n.memoizedState.cachePool.pool),l!==a&&(n.flags|=2048),t!==null&&X(xr),null;case 24:return a=null,t!==null&&(a=t.memoizedState.cache),n.memoizedState.cache!==a&&(n.flags|=2048),ji(bt),tt(n),null;case 25:return null;case 30:return null}throw Error(r(156,n.tag))}function bT(t,n){switch(Kh(n),n.tag){case 1:return t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 3:return ji(bt),rt(),t=n.flags,(t&65536)!==0&&(t&128)===0?(n.flags=t&-65537|128,n):null;case 26:case 27:case 5:return Yr(n),null;case 31:if(n.memoizedState!==null){if(vn(n),n.alternate===null)throw Error(r(340));Ar()}return t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 13:if(vn(n),t=n.memoizedState,t!==null&&t.dehydrated!==null){if(n.alternate===null)throw Error(r(340));Ar()}return t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 19:return X(dt),null;case 4:return rt(),null;case 10:return ji(n.type),null;case 22:case 23:return vn(n),of(),t!==null&&X(xr),t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 24:return ji(bt),null;case 25:return null;default:return null}}function iy(t,n){switch(Kh(n),n.tag){case 3:ji(bt),rt();break;case 26:case 27:case 5:Yr(n);break;case 4:rt();break;case 31:n.memoizedState!==null&&vn(n);break;case 13:vn(n);break;case 19:X(dt);break;case 10:ji(n.type);break;case 22:case 23:vn(n),of(),t!==null&&X(xr);break;case 24:ji(bt)}}function $l(t,n){try{var a=n.updateQueue,l=a!==null?a.lastEffect:null;if(l!==null){var h=l.next;a=h;do{if((a.tag&t)===t){l=void 0;var f=a.create,g=a.inst;l=f(),g.destroy=l}a=a.next}while(a!==h)}}catch(E){Qe(n,n.return,E)}}function Rs(t,n,a){try{var l=n.updateQueue,h=l!==null?l.lastEffect:null;if(h!==null){var f=h.next;l=f;do{if((l.tag&t)===t){var g=l.inst,E=g.destroy;if(E!==void 0){g.destroy=void 0,h=n;var I=a,P=E;try{P()}catch(F){Qe(h,I,F)}}}l=l.next}while(l!==f)}}catch(F){Qe(n,n.return,F)}}function sy(t){var n=t.updateQueue;if(n!==null){var a=t.stateNode;try{Yp(n,a)}catch(l){Qe(t,t.return,l)}}}function ry(t,n,a){a.props=Or(t.type,t.memoizedProps),a.state=t.memoizedState;try{a.componentWillUnmount()}catch(l){Qe(t,n,l)}}function Zl(t,n){try{var a=t.ref;if(a!==null){switch(t.tag){case 26:case 27:case 5:var l=t.stateNode;break;case 30:l=t.stateNode;break;default:l=t.stateNode}typeof a=="function"?t.refCleanup=a(l):a.current=l}}catch(h){Qe(t,n,h)}}function Ei(t,n){var a=t.ref,l=t.refCleanup;if(a!==null)if(typeof l=="function")try{l()}catch(h){Qe(t,n,h)}finally{t.refCleanup=null,t=t.alternate,t!=null&&(t.refCleanup=null)}else if(typeof a=="function")try{a(null)}catch(h){Qe(t,n,h)}else a.current=null}function ay(t){var n=t.type,a=t.memoizedProps,l=t.stateNode;try{e:switch(n){case"button":case"input":case"select":case"textarea":a.autoFocus&&l.focus();break e;case"img":a.src?l.src=a.src:a.srcSet&&(l.srcset=a.srcSet)}}catch(h){Qe(t,t.return,h)}}function zf(t,n,a){try{var l=t.stateNode;HT(l,t.type,a,n),l[kt]=n}catch(h){Qe(t,t.return,h)}}function ly(t){return t.tag===5||t.tag===3||t.tag===26||t.tag===27&&Ms(t.type)||t.tag===4}function Bf(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||ly(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.tag===27&&Ms(t.type)||t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function qf(t,n,a){var l=t.tag;if(l===5||l===6)t=t.stateNode,n?(a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a).insertBefore(t,n):(n=a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a,n.appendChild(t),a=a._reactRootContainer,a!=null||n.onclick!==null||(n.onclick=Fn));else if(l!==4&&(l===27&&Ms(t.type)&&(a=t.stateNode,n=null),t=t.child,t!==null))for(qf(t,n,a),t=t.sibling;t!==null;)qf(t,n,a),t=t.sibling}function Wu(t,n,a){var l=t.tag;if(l===5||l===6)t=t.stateNode,n?a.insertBefore(t,n):a.appendChild(t);else if(l!==4&&(l===27&&Ms(t.type)&&(a=t.stateNode),t=t.child,t!==null))for(Wu(t,n,a),t=t.sibling;t!==null;)Wu(t,n,a),t=t.sibling}function oy(t){var n=t.stateNode,a=t.memoizedProps;try{for(var l=t.type,h=n.attributes;h.length;)n.removeAttributeNode(h[0]);Ft(n,l,a),n[_t]=t,n[kt]=a}catch(f){Qe(t,t.return,f)}}var Hi=!1,At=!1,Hf=!1,uy=typeof WeakSet=="function"?WeakSet:Set,Ut=null;function TT(t,n){if(t=t.containerInfo,cd=Ec,t=bp(t),kh(t)){if("selectionStart"in t)var a={start:t.selectionStart,end:t.selectionEnd};else e:{a=(a=t.ownerDocument)&&a.defaultView||window;var l=a.getSelection&&a.getSelection();if(l&&l.rangeCount!==0){a=l.anchorNode;var h=l.anchorOffset,f=l.focusNode;l=l.focusOffset;try{a.nodeType,f.nodeType}catch{a=null;break e}var g=0,E=-1,I=-1,P=0,F=0,Y=t,z=null;t:for(;;){for(var H;Y!==a||h!==0&&Y.nodeType!==3||(E=g+h),Y!==f||l!==0&&Y.nodeType!==3||(I=g+l),Y.nodeType===3&&(g+=Y.nodeValue.length),(H=Y.firstChild)!==null;)z=Y,Y=H;for(;;){if(Y===t)break t;if(z===a&&++P===h&&(E=g),z===f&&++F===l&&(I=g),(H=Y.nextSibling)!==null)break;Y=z,z=Y.parentNode}Y=H}a=E===-1||I===-1?null:{start:E,end:I}}else a=null}a=a||{start:0,end:0}}else a=null;for(hd={focusedElem:t,selectionRange:a},Ec=!1,Ut=n;Ut!==null;)if(n=Ut,t=n.child,(n.subtreeFlags&1028)!==0&&t!==null)t.return=n,Ut=t;else for(;Ut!==null;){switch(n=Ut,f=n.alternate,t=n.flags,n.tag){case 0:if((t&4)!==0&&(t=n.updateQueue,t=t!==null?t.events:null,t!==null))for(a=0;a<t.length;a++)h=t[a],h.ref.impl=h.nextImpl;break;case 11:case 15:break;case 1:if((t&1024)!==0&&f!==null){t=void 0,a=n,h=f.memoizedProps,f=f.memoizedState,l=a.stateNode;try{var re=Or(a.type,h);t=l.getSnapshotBeforeUpdate(re,f),l.__reactInternalSnapshotBeforeUpdate=t}catch(me){Qe(a,a.return,me)}}break;case 3:if((t&1024)!==0){if(t=n.stateNode.containerInfo,a=t.nodeType,a===9)md(t);else if(a===1)switch(t.nodeName){case"HEAD":case"HTML":case"BODY":md(t);break;default:t.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((t&1024)!==0)throw Error(r(163))}if(t=n.sibling,t!==null){t.return=n.return,Ut=t;break}Ut=n.return}}function cy(t,n,a){var l=a.flags;switch(a.tag){case 0:case 11:case 15:Gi(t,a),l&4&&$l(5,a);break;case 1:if(Gi(t,a),l&4)if(t=a.stateNode,n===null)try{t.componentDidMount()}catch(g){Qe(a,a.return,g)}else{var h=Or(a.type,n.memoizedProps);n=n.memoizedState;try{t.componentDidUpdate(h,n,t.__reactInternalSnapshotBeforeUpdate)}catch(g){Qe(a,a.return,g)}}l&64&&sy(a),l&512&&Zl(a,a.return);break;case 3:if(Gi(t,a),l&64&&(t=a.updateQueue,t!==null)){if(n=null,a.child!==null)switch(a.child.tag){case 27:case 5:n=a.child.stateNode;break;case 1:n=a.child.stateNode}try{Yp(t,n)}catch(g){Qe(a,a.return,g)}}break;case 27:n===null&&l&4&&oy(a);case 26:case 5:Gi(t,a),n===null&&l&4&&ay(a),l&512&&Zl(a,a.return);break;case 12:Gi(t,a);break;case 31:Gi(t,a),l&4&&dy(t,a);break;case 13:Gi(t,a),l&4&&my(t,a),l&64&&(t=a.memoizedState,t!==null&&(t=t.dehydrated,t!==null&&(a=DT.bind(null,a),$T(t,a))));break;case 22:if(l=a.memoizedState!==null||Hi,!l){n=n!==null&&n.memoizedState!==null||At,h=Hi;var f=At;Hi=l,(At=n)&&!f?Ki(t,a,(a.subtreeFlags&8772)!==0):Gi(t,a),Hi=h,At=f}break;case 30:break;default:Gi(t,a)}}function hy(t){var n=t.alternate;n!==null&&(t.alternate=null,hy(n)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(n=t.stateNode,n!==null&&Wr(n)),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}var lt=null,ln=!1;function Fi(t,n,a){for(a=a.child;a!==null;)fy(t,n,a),a=a.sibling}function fy(t,n,a){if(Pt&&typeof Pt.onCommitFiberUnmount=="function")try{Pt.onCommitFiberUnmount(zn,a)}catch{}switch(a.tag){case 26:At||Ei(a,n),Fi(t,n,a),a.memoizedState?a.memoizedState.count--:a.stateNode&&(a=a.stateNode,a.parentNode.removeChild(a));break;case 27:At||Ei(a,n);var l=lt,h=ln;Ms(a.type)&&(lt=a.stateNode,ln=!1),Fi(t,n,a),lo(a.stateNode),lt=l,ln=h;break;case 5:At||Ei(a,n);case 6:if(l=lt,h=ln,lt=null,Fi(t,n,a),lt=l,ln=h,lt!==null)if(ln)try{(lt.nodeType===9?lt.body:lt.nodeName==="HTML"?lt.ownerDocument.body:lt).removeChild(a.stateNode)}catch(f){Qe(a,n,f)}else try{lt.removeChild(a.stateNode)}catch(f){Qe(a,n,f)}break;case 18:lt!==null&&(ln?(t=lt,s_(t.nodeType===9?t.body:t.nodeName==="HTML"?t.ownerDocument.body:t,a.stateNode),Ua(t)):s_(lt,a.stateNode));break;case 4:l=lt,h=ln,lt=a.stateNode.containerInfo,ln=!0,Fi(t,n,a),lt=l,ln=h;break;case 0:case 11:case 14:case 15:Rs(2,a,n),At||Rs(4,a,n),Fi(t,n,a);break;case 1:At||(Ei(a,n),l=a.stateNode,typeof l.componentWillUnmount=="function"&&ry(a,n,l)),Fi(t,n,a);break;case 21:Fi(t,n,a);break;case 22:At=(l=At)||a.memoizedState!==null,Fi(t,n,a),At=l;break;default:Fi(t,n,a)}}function dy(t,n){if(n.memoizedState===null&&(t=n.alternate,t!==null&&(t=t.memoizedState,t!==null))){t=t.dehydrated;try{Ua(t)}catch(a){Qe(n,n.return,a)}}}function my(t,n){if(n.memoizedState===null&&(t=n.alternate,t!==null&&(t=t.memoizedState,t!==null&&(t=t.dehydrated,t!==null))))try{Ua(t)}catch(a){Qe(n,n.return,a)}}function ST(t){switch(t.tag){case 31:case 13:case 19:var n=t.stateNode;return n===null&&(n=t.stateNode=new uy),n;case 22:return t=t.stateNode,n=t._retryCache,n===null&&(n=t._retryCache=new uy),n;default:throw Error(r(435,t.tag))}}function ec(t,n){var a=ST(t);n.forEach(function(l){if(!a.has(l)){a.add(l);var h=OT.bind(null,t,l);l.then(h,h)}})}function on(t,n){var a=n.deletions;if(a!==null)for(var l=0;l<a.length;l++){var h=a[l],f=t,g=n,E=g;e:for(;E!==null;){switch(E.tag){case 27:if(Ms(E.type)){lt=E.stateNode,ln=!1;break e}break;case 5:lt=E.stateNode,ln=!1;break e;case 3:case 4:lt=E.stateNode.containerInfo,ln=!0;break e}E=E.return}if(lt===null)throw Error(r(160));fy(f,g,h),lt=null,ln=!1,f=h.alternate,f!==null&&(f.return=null),h.return=null}if(n.subtreeFlags&13886)for(n=n.child;n!==null;)py(n,t),n=n.sibling}var Jn=null;function py(t,n){var a=t.alternate,l=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:on(n,t),un(t),l&4&&(Rs(3,t,t.return),$l(3,t),Rs(5,t,t.return));break;case 1:on(n,t),un(t),l&512&&(At||a===null||Ei(a,a.return)),l&64&&Hi&&(t=t.updateQueue,t!==null&&(l=t.callbacks,l!==null&&(a=t.shared.hiddenCallbacks,t.shared.hiddenCallbacks=a===null?l:a.concat(l))));break;case 26:var h=Jn;if(on(n,t),un(t),l&512&&(At||a===null||Ei(a,a.return)),l&4){var f=a!==null?a.memoizedState:null;if(l=t.memoizedState,a===null)if(l===null)if(t.stateNode===null){e:{l=t.type,a=t.memoizedProps,h=h.ownerDocument||h;t:switch(l){case"title":f=h.getElementsByTagName("title")[0],(!f||f[ai]||f[_t]||f.namespaceURI==="http://www.w3.org/2000/svg"||f.hasAttribute("itemprop"))&&(f=h.createElement(l),h.head.insertBefore(f,h.querySelector("head > title"))),Ft(f,l,a),f[_t]=t,vt(f),l=f;break e;case"link":var g=p_("link","href",h).get(l+(a.href||""));if(g){for(var E=0;E<g.length;E++)if(f=g[E],f.getAttribute("href")===(a.href==null||a.href===""?null:a.href)&&f.getAttribute("rel")===(a.rel==null?null:a.rel)&&f.getAttribute("title")===(a.title==null?null:a.title)&&f.getAttribute("crossorigin")===(a.crossOrigin==null?null:a.crossOrigin)){g.splice(E,1);break t}}f=h.createElement(l),Ft(f,l,a),h.head.appendChild(f);break;case"meta":if(g=p_("meta","content",h).get(l+(a.content||""))){for(E=0;E<g.length;E++)if(f=g[E],f.getAttribute("content")===(a.content==null?null:""+a.content)&&f.getAttribute("name")===(a.name==null?null:a.name)&&f.getAttribute("property")===(a.property==null?null:a.property)&&f.getAttribute("http-equiv")===(a.httpEquiv==null?null:a.httpEquiv)&&f.getAttribute("charset")===(a.charSet==null?null:a.charSet)){g.splice(E,1);break t}}f=h.createElement(l),Ft(f,l,a),h.head.appendChild(f);break;default:throw Error(r(468,l))}f[_t]=t,vt(f),l=f}t.stateNode=l}else g_(h,t.type,t.stateNode);else t.stateNode=m_(h,l,t.memoizedProps);else f!==l?(f===null?a.stateNode!==null&&(a=a.stateNode,a.parentNode.removeChild(a)):f.count--,l===null?g_(h,t.type,t.stateNode):m_(h,l,t.memoizedProps)):l===null&&t.stateNode!==null&&zf(t,t.memoizedProps,a.memoizedProps)}break;case 27:on(n,t),un(t),l&512&&(At||a===null||Ei(a,a.return)),a!==null&&l&4&&zf(t,t.memoizedProps,a.memoizedProps);break;case 5:if(on(n,t),un(t),l&512&&(At||a===null||Ei(a,a.return)),t.flags&32){h=t.stateNode;try{an(h,"")}catch(re){Qe(t,t.return,re)}}l&4&&t.stateNode!=null&&(h=t.memoizedProps,zf(t,h,a!==null?a.memoizedProps:h)),l&1024&&(Hf=!0);break;case 6:if(on(n,t),un(t),l&4){if(t.stateNode===null)throw Error(r(162));l=t.memoizedProps,a=t.stateNode;try{a.nodeValue=l}catch(re){Qe(t,t.return,re)}}break;case 3:if(gc=null,h=Jn,Jn=mc(n.containerInfo),on(n,t),Jn=h,un(t),l&4&&a!==null&&a.memoizedState.isDehydrated)try{Ua(n.containerInfo)}catch(re){Qe(t,t.return,re)}Hf&&(Hf=!1,gy(t));break;case 4:l=Jn,Jn=mc(t.stateNode.containerInfo),on(n,t),un(t),Jn=l;break;case 12:on(n,t),un(t);break;case 31:on(n,t),un(t),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,ec(t,l)));break;case 13:on(n,t),un(t),t.child.flags&8192&&t.memoizedState!==null!=(a!==null&&a.memoizedState!==null)&&(nc=en()),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,ec(t,l)));break;case 22:h=t.memoizedState!==null;var I=a!==null&&a.memoizedState!==null,P=Hi,F=At;if(Hi=P||h,At=F||I,on(n,t),At=F,Hi=P,un(t),l&8192)e:for(n=t.stateNode,n._visibility=h?n._visibility&-2:n._visibility|1,h&&(a===null||I||Hi||At||Mr(t)),a=null,n=t;;){if(n.tag===5||n.tag===26){if(a===null){I=a=n;try{if(f=I.stateNode,h)g=f.style,typeof g.setProperty=="function"?g.setProperty("display","none","important"):g.display="none";else{E=I.stateNode;var Y=I.memoizedProps.style,z=Y!=null&&Y.hasOwnProperty("display")?Y.display:null;E.style.display=z==null||typeof z=="boolean"?"":(""+z).trim()}}catch(re){Qe(I,I.return,re)}}}else if(n.tag===6){if(a===null){I=n;try{I.stateNode.nodeValue=h?"":I.memoizedProps}catch(re){Qe(I,I.return,re)}}}else if(n.tag===18){if(a===null){I=n;try{var H=I.stateNode;h?r_(H,!0):r_(I.stateNode,!1)}catch(re){Qe(I,I.return,re)}}}else if((n.tag!==22&&n.tag!==23||n.memoizedState===null||n===t)&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break e;for(;n.sibling===null;){if(n.return===null||n.return===t)break e;a===n&&(a=null),n=n.return}a===n&&(a=null),n.sibling.return=n.return,n=n.sibling}l&4&&(l=t.updateQueue,l!==null&&(a=l.retryQueue,a!==null&&(l.retryQueue=null,ec(t,a))));break;case 19:on(n,t),un(t),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,ec(t,l)));break;case 30:break;case 21:break;default:on(n,t),un(t)}}function un(t){var n=t.flags;if(n&2){try{for(var a,l=t.return;l!==null;){if(ly(l)){a=l;break}l=l.return}if(a==null)throw Error(r(160));switch(a.tag){case 27:var h=a.stateNode,f=Bf(t);Wu(t,f,h);break;case 5:var g=a.stateNode;a.flags&32&&(an(g,""),a.flags&=-33);var E=Bf(t);Wu(t,E,g);break;case 3:case 4:var I=a.stateNode.containerInfo,P=Bf(t);qf(t,P,I);break;default:throw Error(r(161))}}catch(F){Qe(t,t.return,F)}t.flags&=-3}n&4096&&(t.flags&=-4097)}function gy(t){if(t.subtreeFlags&1024)for(t=t.child;t!==null;){var n=t;gy(n),n.tag===5&&n.flags&1024&&n.stateNode.reset(),t=t.sibling}}function Gi(t,n){if(n.subtreeFlags&8772)for(n=n.child;n!==null;)cy(t,n.alternate,n),n=n.sibling}function Mr(t){for(t=t.child;t!==null;){var n=t;switch(n.tag){case 0:case 11:case 14:case 15:Rs(4,n,n.return),Mr(n);break;case 1:Ei(n,n.return);var a=n.stateNode;typeof a.componentWillUnmount=="function"&&ry(n,n.return,a),Mr(n);break;case 27:lo(n.stateNode);case 26:case 5:Ei(n,n.return),Mr(n);break;case 22:n.memoizedState===null&&Mr(n);break;case 30:Mr(n);break;default:Mr(n)}t=t.sibling}}function Ki(t,n,a){for(a=a&&(n.subtreeFlags&8772)!==0,n=n.child;n!==null;){var l=n.alternate,h=t,f=n,g=f.flags;switch(f.tag){case 0:case 11:case 15:Ki(h,f,a),$l(4,f);break;case 1:if(Ki(h,f,a),l=f,h=l.stateNode,typeof h.componentDidMount=="function")try{h.componentDidMount()}catch(P){Qe(l,l.return,P)}if(l=f,h=l.updateQueue,h!==null){var E=l.stateNode;try{var I=h.shared.hiddenCallbacks;if(I!==null)for(h.shared.hiddenCallbacks=null,h=0;h<I.length;h++)Qp(I[h],E)}catch(P){Qe(l,l.return,P)}}a&&g&64&&sy(f),Zl(f,f.return);break;case 27:oy(f);case 26:case 5:Ki(h,f,a),a&&l===null&&g&4&&ay(f),Zl(f,f.return);break;case 12:Ki(h,f,a);break;case 31:Ki(h,f,a),a&&g&4&&dy(h,f);break;case 13:Ki(h,f,a),a&&g&4&&my(h,f);break;case 22:f.memoizedState===null&&Ki(h,f,a),Zl(f,f.return);break;case 30:break;default:Ki(h,f,a)}n=n.sibling}}function Ff(t,n){var a=null;t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(a=t.memoizedState.cachePool.pool),t=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(t=n.memoizedState.cachePool.pool),t!==a&&(t!=null&&t.refCount++,a!=null&&jl(a))}function Gf(t,n){t=null,n.alternate!==null&&(t=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==t&&(n.refCount++,t!=null&&jl(t))}function $n(t,n,a,l){if(n.subtreeFlags&10256)for(n=n.child;n!==null;)yy(t,n,a,l),n=n.sibling}function yy(t,n,a,l){var h=n.flags;switch(n.tag){case 0:case 11:case 15:$n(t,n,a,l),h&2048&&$l(9,n);break;case 1:$n(t,n,a,l);break;case 3:$n(t,n,a,l),h&2048&&(t=null,n.alternate!==null&&(t=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==t&&(n.refCount++,t!=null&&jl(t)));break;case 12:if(h&2048){$n(t,n,a,l),t=n.stateNode;try{var f=n.memoizedProps,g=f.id,E=f.onPostCommit;typeof E=="function"&&E(g,n.alternate===null?"mount":"update",t.passiveEffectDuration,-0)}catch(I){Qe(n,n.return,I)}}else $n(t,n,a,l);break;case 31:$n(t,n,a,l);break;case 13:$n(t,n,a,l);break;case 23:break;case 22:f=n.stateNode,g=n.alternate,n.memoizedState!==null?f._visibility&2?$n(t,n,a,l):Wl(t,n):f._visibility&2?$n(t,n,a,l):(f._visibility|=2,Ra(t,n,a,l,(n.subtreeFlags&10256)!==0||!1)),h&2048&&Ff(g,n);break;case 24:$n(t,n,a,l),h&2048&&Gf(n.alternate,n);break;default:$n(t,n,a,l)}}function Ra(t,n,a,l,h){for(h=h&&((n.subtreeFlags&10256)!==0||!1),n=n.child;n!==null;){var f=t,g=n,E=a,I=l,P=g.flags;switch(g.tag){case 0:case 11:case 15:Ra(f,g,E,I,h),$l(8,g);break;case 23:break;case 22:var F=g.stateNode;g.memoizedState!==null?F._visibility&2?Ra(f,g,E,I,h):Wl(f,g):(F._visibility|=2,Ra(f,g,E,I,h)),h&&P&2048&&Ff(g.alternate,g);break;case 24:Ra(f,g,E,I,h),h&&P&2048&&Gf(g.alternate,g);break;default:Ra(f,g,E,I,h)}n=n.sibling}}function Wl(t,n){if(n.subtreeFlags&10256)for(n=n.child;n!==null;){var a=t,l=n,h=l.flags;switch(l.tag){case 22:Wl(a,l),h&2048&&Ff(l.alternate,l);break;case 24:Wl(a,l),h&2048&&Gf(l.alternate,l);break;default:Wl(a,l)}n=n.sibling}}var eo=8192;function xa(t,n,a){if(t.subtreeFlags&eo)for(t=t.child;t!==null;)_y(t,n,a),t=t.sibling}function _y(t,n,a){switch(t.tag){case 26:xa(t,n,a),t.flags&eo&&t.memoizedState!==null&&u1(a,Jn,t.memoizedState,t.memoizedProps);break;case 5:xa(t,n,a);break;case 3:case 4:var l=Jn;Jn=mc(t.stateNode.containerInfo),xa(t,n,a),Jn=l;break;case 22:t.memoizedState===null&&(l=t.alternate,l!==null&&l.memoizedState!==null?(l=eo,eo=16777216,xa(t,n,a),eo=l):xa(t,n,a));break;default:xa(t,n,a)}}function vy(t){var n=t.alternate;if(n!==null&&(t=n.child,t!==null)){n.child=null;do n=t.sibling,t.sibling=null,t=n;while(t!==null)}}function to(t){var n=t.deletions;if((t.flags&16)!==0){if(n!==null)for(var a=0;a<n.length;a++){var l=n[a];Ut=l,by(l,t)}vy(t)}if(t.subtreeFlags&10256)for(t=t.child;t!==null;)Ey(t),t=t.sibling}function Ey(t){switch(t.tag){case 0:case 11:case 15:to(t),t.flags&2048&&Rs(9,t,t.return);break;case 3:to(t);break;case 12:to(t);break;case 22:var n=t.stateNode;t.memoizedState!==null&&n._visibility&2&&(t.return===null||t.return.tag!==13)?(n._visibility&=-3,tc(t)):to(t);break;default:to(t)}}function tc(t){var n=t.deletions;if((t.flags&16)!==0){if(n!==null)for(var a=0;a<n.length;a++){var l=n[a];Ut=l,by(l,t)}vy(t)}for(t=t.child;t!==null;){switch(n=t,n.tag){case 0:case 11:case 15:Rs(8,n,n.return),tc(n);break;case 22:a=n.stateNode,a._visibility&2&&(a._visibility&=-3,tc(n));break;default:tc(n)}t=t.sibling}}function by(t,n){for(;Ut!==null;){var a=Ut;switch(a.tag){case 0:case 11:case 15:Rs(8,a,n);break;case 23:case 22:if(a.memoizedState!==null&&a.memoizedState.cachePool!==null){var l=a.memoizedState.cachePool.pool;l!=null&&l.refCount++}break;case 24:jl(a.memoizedState.cache)}if(l=a.child,l!==null)l.return=a,Ut=l;else e:for(a=t;Ut!==null;){l=Ut;var h=l.sibling,f=l.return;if(hy(l),l===a){Ut=null;break e}if(h!==null){h.return=f,Ut=h;break e}Ut=f}}}var AT={getCacheForType:function(t){var n=qt(bt),a=n.data.get(t);return a===void 0&&(a=t(),n.data.set(t,a)),a},cacheSignal:function(){return qt(bt).controller.signal}},wT=typeof WeakMap=="function"?WeakMap:Map,qe=0,Ze=null,we=null,xe=0,Ke=0,En=null,xs=!1,Ca=!1,Kf=!1,Qi=0,ct=0,Cs=0,Vr=0,Qf=0,bn=0,Ia=0,no=null,cn=null,Yf=!1,nc=0,Ty=0,ic=1/0,sc=null,Is=null,Dt=0,Ns=null,Na=null,Yi=0,Xf=0,Jf=null,Sy=null,io=0,$f=null;function Tn(){return(qe&2)!==0&&xe!==0?xe&-xe:G.T!==null?id():ru()}function Ay(){if(bn===0)if((xe&536870912)===0||Oe){var t=lr;lr<<=1,(lr&3932160)===0&&(lr=262144),bn=t}else bn=536870912;return t=_n.current,t!==null&&(t.flags|=32),bn}function hn(t,n,a){(t===Ze&&(Ke===2||Ke===9)||t.cancelPendingCommit!==null)&&(Da(t,0),Ds(t,xe,bn,!1)),or(t,a),((qe&2)===0||t!==Ze)&&(t===Ze&&((qe&2)===0&&(Vr|=a),ct===4&&Ds(t,xe,bn,!1)),bi(t))}function wy(t,n,a){if((qe&6)!==0)throw Error(r(327));var l=!a&&(n&127)===0&&(n&t.expiredLanes)===0||Bn(t,n),h=l?CT(t,n):Wf(t,n,!0),f=l;do{if(h===0){Ca&&!l&&Ds(t,n,0,!1);break}else{if(a=t.current.alternate,f&&!RT(a)){h=Wf(t,n,!1),f=!1;continue}if(h===2){if(f=n,t.errorRecoveryDisabledLanes&f)var g=0;else g=t.pendingLanes&-536870913,g=g!==0?g:g&536870912?536870912:0;if(g!==0){n=g;e:{var E=t;h=no;var I=E.current.memoizedState.isDehydrated;if(I&&(Da(E,g).flags|=256),g=Wf(E,g,!1),g!==2){if(Kf&&!I){E.errorRecoveryDisabledLanes|=f,Vr|=f,h=4;break e}f=cn,cn=h,f!==null&&(cn===null?cn=f:cn.push.apply(cn,f))}h=g}if(f=!1,h!==2)continue}}if(h===1){Da(t,0),Ds(t,n,0,!0);break}e:{switch(l=t,f=h,f){case 0:case 1:throw Error(r(345));case 4:if((n&4194048)!==n)break;case 6:Ds(l,n,bn,!xs);break e;case 2:cn=null;break;case 3:case 5:break;default:throw Error(r(329))}if((n&62914560)===n&&(h=nc+300-en(),10<h)){if(Ds(l,n,bn,!xs),ii(l,0,!0)!==0)break e;Yi=n,l.timeoutHandle=n_(Ry.bind(null,l,a,cn,sc,Yf,n,bn,Vr,Ia,xs,f,"Throttled",-0,0),h);break e}Ry(l,a,cn,sc,Yf,n,bn,Vr,Ia,xs,f,null,-0,0)}}break}while(!0);bi(t)}function Ry(t,n,a,l,h,f,g,E,I,P,F,Y,z,H){if(t.timeoutHandle=-1,Y=n.subtreeFlags,Y&8192||(Y&16785408)===16785408){Y={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:Fn},_y(n,f,Y);var re=(f&62914560)===f?nc-en():(f&4194048)===f?Ty-en():0;if(re=c1(Y,re),re!==null){Yi=f,t.cancelPendingCommit=re(Vy.bind(null,t,n,f,a,l,h,g,E,I,F,Y,null,z,H)),Ds(t,f,g,!P);return}}Vy(t,n,f,a,l,h,g,E,I)}function RT(t){for(var n=t;;){var a=n.tag;if((a===0||a===11||a===15)&&n.flags&16384&&(a=n.updateQueue,a!==null&&(a=a.stores,a!==null)))for(var l=0;l<a.length;l++){var h=a[l],f=h.getSnapshot;h=h.value;try{if(!gn(f(),h))return!1}catch{return!1}}if(a=n.child,n.subtreeFlags&16384&&a!==null)a.return=n,n=a;else{if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return!0;n=n.return}n.sibling.return=n.return,n=n.sibling}}return!0}function Ds(t,n,a,l){n&=~Qf,n&=~Vr,t.suspendedLanes|=n,t.pingedLanes&=~n,l&&(t.warmLanes|=n),l=t.expirationTimes;for(var h=n;0<h;){var f=31-ht(h),g=1<<f;l[f]=-1,h&=~g}a!==0&&ur(t,a,n)}function rc(){return(qe&6)===0?(so(0),!1):!0}function Zf(){if(we!==null){if(Ke===0)var t=we.return;else t=we,Ui=wr=null,mf(t),ba=null,zl=0,t=we;for(;t!==null;)iy(t.alternate,t),t=t.return;we=null}}function Da(t,n){var a=t.timeoutHandle;a!==-1&&(t.timeoutHandle=-1,KT(a)),a=t.cancelPendingCommit,a!==null&&(t.cancelPendingCommit=null,a()),Yi=0,Zf(),Ze=t,we=a=ki(t.current,null),xe=n,Ke=0,En=null,xs=!1,Ca=Bn(t,n),Kf=!1,Ia=bn=Qf=Vr=Cs=ct=0,cn=no=null,Yf=!1,(n&8)!==0&&(n|=n&32);var l=t.entangledLanes;if(l!==0)for(t=t.entanglements,l&=n;0<l;){var h=31-ht(l),f=1<<h;n|=t[h],l&=~f}return Qi=n,Ru(),a}function xy(t,n){Te=null,G.H=Yl,n===Ea||n===Vu?(n=Hp(),Ke=3):n===tf?(n=Hp(),Ke=4):Ke=n===Nf?8:n!==null&&typeof n=="object"&&typeof n.then=="function"?6:1,En=n,we===null&&(ct=1,Yu(t,Nn(n,t.current)))}function Cy(){var t=_n.current;return t===null?!0:(xe&4194048)===xe?Vn===null:(xe&62914560)===xe||(xe&536870912)!==0?t===Vn:!1}function Iy(){var t=G.H;return G.H=Yl,t===null?Yl:t}function Ny(){var t=G.A;return G.A=AT,t}function ac(){ct=4,xs||(xe&4194048)!==xe&&_n.current!==null||(Ca=!0),(Cs&134217727)===0&&(Vr&134217727)===0||Ze===null||Ds(Ze,xe,bn,!1)}function Wf(t,n,a){var l=qe;qe|=2;var h=Iy(),f=Ny();(Ze!==t||xe!==n)&&(sc=null,Da(t,n)),n=!1;var g=ct;e:do try{if(Ke!==0&&we!==null){var E=we,I=En;switch(Ke){case 8:Zf(),g=6;break e;case 3:case 2:case 9:case 6:_n.current===null&&(n=!0);var P=Ke;if(Ke=0,En=null,Oa(t,E,I,P),a&&Ca){g=0;break e}break;default:P=Ke,Ke=0,En=null,Oa(t,E,I,P)}}xT(),g=ct;break}catch(F){xy(t,F)}while(!0);return n&&t.shellSuspendCounter++,Ui=wr=null,qe=l,G.H=h,G.A=f,we===null&&(Ze=null,xe=0,Ru()),g}function xT(){for(;we!==null;)Dy(we)}function CT(t,n){var a=qe;qe|=2;var l=Iy(),h=Ny();Ze!==t||xe!==n?(sc=null,ic=en()+500,Da(t,n)):Ca=Bn(t,n);e:do try{if(Ke!==0&&we!==null){n=we;var f=En;t:switch(Ke){case 1:Ke=0,En=null,Oa(t,n,f,1);break;case 2:case 9:if(Bp(f)){Ke=0,En=null,Oy(n);break}n=function(){Ke!==2&&Ke!==9||Ze!==t||(Ke=7),bi(t)},f.then(n,n);break e;case 3:Ke=7;break e;case 4:Ke=5;break e;case 7:Bp(f)?(Ke=0,En=null,Oy(n)):(Ke=0,En=null,Oa(t,n,f,7));break;case 5:var g=null;switch(we.tag){case 26:g=we.memoizedState;case 5:case 27:var E=we;if(g?y_(g):E.stateNode.complete){Ke=0,En=null;var I=E.sibling;if(I!==null)we=I;else{var P=E.return;P!==null?(we=P,lc(P)):we=null}break t}}Ke=0,En=null,Oa(t,n,f,5);break;case 6:Ke=0,En=null,Oa(t,n,f,6);break;case 8:Zf(),ct=6;break e;default:throw Error(r(462))}}IT();break}catch(F){xy(t,F)}while(!0);return Ui=wr=null,G.H=l,G.A=h,qe=a,we!==null?0:(Ze=null,xe=0,Ru(),ct)}function IT(){for(;we!==null&&!Ch();)Dy(we)}function Dy(t){var n=ty(t.alternate,t,Qi);t.memoizedProps=t.pendingProps,n===null?lc(t):we=n}function Oy(t){var n=t,a=n.alternate;switch(n.tag){case 15:case 0:n=Xg(a,n,n.pendingProps,n.type,void 0,xe);break;case 11:n=Xg(a,n,n.pendingProps,n.type.render,n.ref,xe);break;case 5:mf(n);default:iy(a,n),n=we=Np(n,Qi),n=ty(a,n,Qi)}t.memoizedProps=t.pendingProps,n===null?lc(t):we=n}function Oa(t,n,a,l){Ui=wr=null,mf(n),ba=null,zl=0;var h=n.return;try{if(yT(t,h,n,a,xe)){ct=1,Yu(t,Nn(a,t.current)),we=null;return}}catch(f){if(h!==null)throw we=h,f;ct=1,Yu(t,Nn(a,t.current)),we=null;return}n.flags&32768?(Oe||l===1?t=!0:Ca||(xe&536870912)!==0?t=!1:(xs=t=!0,(l===2||l===9||l===3||l===6)&&(l=_n.current,l!==null&&l.tag===13&&(l.flags|=16384))),My(n,t)):lc(n)}function lc(t){var n=t;do{if((n.flags&32768)!==0){My(n,xs);return}t=n.return;var a=ET(n.alternate,n,Qi);if(a!==null){we=a;return}if(n=n.sibling,n!==null){we=n;return}we=n=t}while(n!==null);ct===0&&(ct=5)}function My(t,n){do{var a=bT(t.alternate,t);if(a!==null){a.flags&=32767,we=a;return}if(a=t.return,a!==null&&(a.flags|=32768,a.subtreeFlags=0,a.deletions=null),!n&&(t=t.sibling,t!==null)){we=t;return}we=t=a}while(t!==null);ct=6,we=null}function Vy(t,n,a,l,h,f,g,E,I){t.cancelPendingCommit=null;do oc();while(Dt!==0);if((qe&6)!==0)throw Error(r(327));if(n!==null){if(n===t.current)throw Error(r(177));if(f=n.lanes|n.childLanes,f|=zh,Dh(t,a,f,g,E,I),t===Ze&&(we=Ze=null,xe=0),Na=n,Ns=t,Yi=a,Xf=f,Jf=h,Sy=l,(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?(t.callbackNode=null,t.callbackPriority=0,MT(ls,function(){return Py(),null})):(t.callbackNode=null,t.callbackPriority=0),l=(n.flags&13878)!==0,(n.subtreeFlags&13878)!==0||l){l=G.T,G.T=null,h=te.p,te.p=2,g=qe,qe|=4;try{TT(t,n,a)}finally{qe=g,te.p=h,G.T=l}}Dt=1,ky(),Ly(),Uy()}}function ky(){if(Dt===1){Dt=0;var t=Ns,n=Na,a=(n.flags&13878)!==0;if((n.subtreeFlags&13878)!==0||a){a=G.T,G.T=null;var l=te.p;te.p=2;var h=qe;qe|=4;try{py(n,t);var f=hd,g=bp(t.containerInfo),E=f.focusedElem,I=f.selectionRange;if(g!==E&&E&&E.ownerDocument&&Ep(E.ownerDocument.documentElement,E)){if(I!==null&&kh(E)){var P=I.start,F=I.end;if(F===void 0&&(F=P),"selectionStart"in E)E.selectionStart=P,E.selectionEnd=Math.min(F,E.value.length);else{var Y=E.ownerDocument||document,z=Y&&Y.defaultView||window;if(z.getSelection){var H=z.getSelection(),re=E.textContent.length,me=Math.min(I.start,re),$e=I.end===void 0?me:Math.min(I.end,re);!H.extend&&me>$e&&(g=$e,$e=me,me=g);var k=vp(E,me),D=vp(E,$e);if(k&&D&&(H.rangeCount!==1||H.anchorNode!==k.node||H.anchorOffset!==k.offset||H.focusNode!==D.node||H.focusOffset!==D.offset)){var j=Y.createRange();j.setStart(k.node,k.offset),H.removeAllRanges(),me>$e?(H.addRange(j),H.extend(D.node,D.offset)):(j.setEnd(D.node,D.offset),H.addRange(j))}}}}for(Y=[],H=E;H=H.parentNode;)H.nodeType===1&&Y.push({element:H,left:H.scrollLeft,top:H.scrollTop});for(typeof E.focus=="function"&&E.focus(),E=0;E<Y.length;E++){var Q=Y[E];Q.element.scrollLeft=Q.left,Q.element.scrollTop=Q.top}}Ec=!!cd,hd=cd=null}finally{qe=h,te.p=l,G.T=a}}t.current=n,Dt=2}}function Ly(){if(Dt===2){Dt=0;var t=Ns,n=Na,a=(n.flags&8772)!==0;if((n.subtreeFlags&8772)!==0||a){a=G.T,G.T=null;var l=te.p;te.p=2;var h=qe;qe|=4;try{cy(t,n.alternate,n)}finally{qe=h,te.p=l,G.T=a}}Dt=3}}function Uy(){if(Dt===4||Dt===3){Dt=0,Zo();var t=Ns,n=Na,a=Yi,l=Sy;(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?Dt=5:(Dt=0,Na=Ns=null,jy(t,t.pendingLanes));var h=t.pendingLanes;if(h===0&&(Is=null),Di(a),n=n.stateNode,Pt&&typeof Pt.onCommitFiberRoot=="function")try{Pt.onCommitFiberRoot(zn,n,void 0,(n.current.flags&128)===128)}catch{}if(l!==null){n=G.T,h=te.p,te.p=2,G.T=null;try{for(var f=t.onRecoverableError,g=0;g<l.length;g++){var E=l[g];f(E.value,{componentStack:E.stack})}}finally{G.T=n,te.p=h}}(Yi&3)!==0&&oc(),bi(t),h=t.pendingLanes,(a&261930)!==0&&(h&42)!==0?t===$f?io++:(io=0,$f=t):io=0,so(0)}}function jy(t,n){(t.pooledCacheLanes&=n)===0&&(n=t.pooledCache,n!=null&&(t.pooledCache=null,jl(n)))}function oc(){return ky(),Ly(),Uy(),Py()}function Py(){if(Dt!==5)return!1;var t=Ns,n=Xf;Xf=0;var a=Di(Yi),l=G.T,h=te.p;try{te.p=32>a?32:a,G.T=null,a=Jf,Jf=null;var f=Ns,g=Yi;if(Dt=0,Na=Ns=null,Yi=0,(qe&6)!==0)throw Error(r(331));var E=qe;if(qe|=4,Ey(f.current),yy(f,f.current,g,a),qe=E,so(0,!1),Pt&&typeof Pt.onPostCommitFiberRoot=="function")try{Pt.onPostCommitFiberRoot(zn,f)}catch{}return!0}finally{te.p=h,G.T=l,jy(t,n)}}function zy(t,n,a){n=Nn(a,n),n=If(t.stateNode,n,2),t=Ss(t,n,2),t!==null&&(or(t,2),bi(t))}function Qe(t,n,a){if(t.tag===3)zy(t,t,a);else for(;n!==null;){if(n.tag===3){zy(n,t,a);break}else if(n.tag===1){var l=n.stateNode;if(typeof n.type.getDerivedStateFromError=="function"||typeof l.componentDidCatch=="function"&&(Is===null||!Is.has(l))){t=Nn(a,t),a=Bg(2),l=Ss(n,a,2),l!==null&&(qg(a,l,n,t),or(l,2),bi(l));break}}n=n.return}}function ed(t,n,a){var l=t.pingCache;if(l===null){l=t.pingCache=new wT;var h=new Set;l.set(n,h)}else h=l.get(n),h===void 0&&(h=new Set,l.set(n,h));h.has(a)||(Kf=!0,h.add(a),t=NT.bind(null,t,n,a),n.then(t,t))}function NT(t,n,a){var l=t.pingCache;l!==null&&l.delete(n),t.pingedLanes|=t.suspendedLanes&a,t.warmLanes&=~a,Ze===t&&(xe&a)===a&&(ct===4||ct===3&&(xe&62914560)===xe&&300>en()-nc?(qe&2)===0&&Da(t,0):Qf|=a,Ia===xe&&(Ia=0)),bi(t)}function By(t,n){n===0&&(n=su()),t=Tr(t,n),t!==null&&(or(t,n),bi(t))}function DT(t){var n=t.memoizedState,a=0;n!==null&&(a=n.retryLane),By(t,a)}function OT(t,n){var a=0;switch(t.tag){case 31:case 13:var l=t.stateNode,h=t.memoizedState;h!==null&&(a=h.retryLane);break;case 19:l=t.stateNode;break;case 22:l=t.stateNode._retryCache;break;default:throw Error(r(314))}l!==null&&l.delete(n),By(t,a)}function MT(t,n){return Nt(t,n)}var uc=null,Ma=null,td=!1,cc=!1,nd=!1,Os=0;function bi(t){t!==Ma&&t.next===null&&(Ma===null?uc=Ma=t:Ma=Ma.next=t),cc=!0,td||(td=!0,kT())}function so(t,n){if(!nd&&cc){nd=!0;do for(var a=!1,l=uc;l!==null;){if(t!==0){var h=l.pendingLanes;if(h===0)var f=0;else{var g=l.suspendedLanes,E=l.pingedLanes;f=(1<<31-ht(42|t)+1)-1,f&=h&~(g&~E),f=f&201326741?f&201326741|1:f?f|2:0}f!==0&&(a=!0,Gy(l,f))}else f=xe,f=ii(l,l===Ze?f:0,l.cancelPendingCommit!==null||l.timeoutHandle!==-1),(f&3)===0||Bn(l,f)||(a=!0,Gy(l,f));l=l.next}while(a);nd=!1}}function VT(){qy()}function qy(){cc=td=!1;var t=0;Os!==0&&GT()&&(t=Os);for(var n=en(),a=null,l=uc;l!==null;){var h=l.next,f=Hy(l,n);f===0?(l.next=null,a===null?uc=h:a.next=h,h===null&&(Ma=a)):(a=l,(t!==0||(f&3)!==0)&&(cc=!0)),l=h}Dt!==0&&Dt!==5||so(t),Os!==0&&(Os=0)}function Hy(t,n){for(var a=t.suspendedLanes,l=t.pingedLanes,h=t.expirationTimes,f=t.pendingLanes&-62914561;0<f;){var g=31-ht(f),E=1<<g,I=h[g];I===-1?((E&a)===0||(E&l)!==0)&&(h[g]=Nh(E,n)):I<=n&&(t.expiredLanes|=E),f&=~E}if(n=Ze,a=xe,a=ii(t,t===n?a:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),l=t.callbackNode,a===0||t===n&&(Ke===2||Ke===9)||t.cancelPendingCommit!==null)return l!==null&&l!==null&&as(l),t.callbackNode=null,t.callbackPriority=0;if((a&3)===0||Bn(t,a)){if(n=a&-a,n===t.callbackPriority)return n;switch(l!==null&&as(l),Di(a)){case 2:case 8:a=ml;break;case 32:a=ls;break;case 268435456:a=Wo;break;default:a=ls}return l=Fy.bind(null,t),a=Nt(a,l),t.callbackPriority=n,t.callbackNode=a,n}return l!==null&&l!==null&&as(l),t.callbackPriority=2,t.callbackNode=null,2}function Fy(t,n){if(Dt!==0&&Dt!==5)return t.callbackNode=null,t.callbackPriority=0,null;var a=t.callbackNode;if(oc()&&t.callbackNode!==a)return null;var l=xe;return l=ii(t,t===Ze?l:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),l===0?null:(wy(t,l,n),Hy(t,en()),t.callbackNode!=null&&t.callbackNode===a?Fy.bind(null,t):null)}function Gy(t,n){if(oc())return null;wy(t,n,!0)}function kT(){QT(function(){(qe&6)!==0?Nt(dl,VT):qy()})}function id(){if(Os===0){var t=_a;t===0&&(t=ti,ti<<=1,(ti&261888)===0&&(ti=256)),Os=t}return Os}function Ky(t){return t==null||typeof t=="symbol"||typeof t=="boolean"?null:typeof t=="function"?t:ia(""+t)}function Qy(t,n){var a=n.ownerDocument.createElement("input");return a.name=n.name,a.value=n.value,t.id&&a.setAttribute("form",t.id),n.parentNode.insertBefore(a,n),t=new FormData(t),a.parentNode.removeChild(a),t}function LT(t,n,a,l,h){if(n==="submit"&&a&&a.stateNode===h){var f=Ky((h[kt]||null).action),g=l.submitter;g&&(n=(n=g[kt]||null)?Ky(n.formAction):g.getAttribute("formAction"),n!==null&&(f=n,g=null));var E=new mi("action","action",null,l,h);t.push({event:E,listeners:[{instance:null,listener:function(){if(l.defaultPrevented){if(Os!==0){var I=g?Qy(h,g):new FormData(h);Sf(a,{pending:!0,data:I,method:h.method,action:f},null,I)}}else typeof f=="function"&&(E.preventDefault(),I=g?Qy(h,g):new FormData(h),Sf(a,{pending:!0,data:I,method:h.method,action:f},f,I))},currentTarget:h}]})}}for(var sd=0;sd<Ph.length;sd++){var rd=Ph[sd],UT=rd.toLowerCase(),jT=rd[0].toUpperCase()+rd.slice(1);Xn(UT,"on"+jT)}Xn(Ap,"onAnimationEnd"),Xn(wp,"onAnimationIteration"),Xn(Rp,"onAnimationStart"),Xn("dblclick","onDoubleClick"),Xn("focusin","onFocus"),Xn("focusout","onBlur"),Xn(eT,"onTransitionRun"),Xn(tT,"onTransitionStart"),Xn(nT,"onTransitionCancel"),Xn(xp,"onTransitionEnd"),ci("onMouseEnter",["mouseout","mouseover"]),ci("onMouseLeave",["mouseout","mouseover"]),ci("onPointerEnter",["pointerout","pointerover"]),ci("onPointerLeave",["pointerout","pointerover"]),ui("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),ui("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),ui("onBeforeInput",["compositionend","keypress","textInput","paste"]),ui("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),ui("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),ui("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var ro="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),PT=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(ro));function Yy(t,n){n=(n&4)!==0;for(var a=0;a<t.length;a++){var l=t[a],h=l.event;l=l.listeners;e:{var f=void 0;if(n)for(var g=l.length-1;0<=g;g--){var E=l[g],I=E.instance,P=E.currentTarget;if(E=E.listener,I!==f&&h.isPropagationStopped())break e;f=E,h.currentTarget=P;try{f(h)}catch(F){wu(F)}h.currentTarget=null,f=I}else for(g=0;g<l.length;g++){if(E=l[g],I=E.instance,P=E.currentTarget,E=E.listener,I!==f&&h.isPropagationStopped())break e;f=E,h.currentTarget=P;try{f(h)}catch(F){wu(F)}h.currentTarget=null,f=I}}}}function Re(t,n){var a=n[Zr];a===void 0&&(a=n[Zr]=new Set);var l=t+"__bubble";a.has(l)||(Xy(n,t,2,!1),a.add(l))}function ad(t,n,a){var l=0;n&&(l|=4),Xy(a,t,l,n)}var hc="_reactListening"+Math.random().toString(36).slice(2);function ld(t){if(!t[hc]){t[hc]=!0,yl.forEach(function(a){a!=="selectionchange"&&(PT.has(a)||ad(a,!1,t),ad(a,!0,t))});var n=t.nodeType===9?t:t.ownerDocument;n===null||n[hc]||(n[hc]=!0,ad("selectionchange",!1,n))}}function Xy(t,n,a,l){switch(A_(n)){case 2:var h=d1;break;case 8:h=m1;break;default:h=Td}a=h.bind(null,n,a,t),h=void 0,!mr||n!=="touchstart"&&n!=="touchmove"&&n!=="wheel"||(h=!0),l?h!==void 0?t.addEventListener(n,a,{capture:!0,passive:h}):t.addEventListener(n,a,!0):h!==void 0?t.addEventListener(n,a,{passive:h}):t.addEventListener(n,a,!1)}function od(t,n,a,l,h){var f=l;if((n&1)===0&&(n&2)===0&&l!==null)e:for(;;){if(l===null)return;var g=l.tag;if(g===3||g===4){var E=l.stateNode.containerInfo;if(E===h)break;if(g===4)for(g=l.return;g!==null;){var I=g.tag;if((I===3||I===4)&&g.stateNode.containerInfo===h)return;g=g.return}for(;E!==null;){if(g=li(E),g===null)return;if(I=g.tag,I===5||I===6||I===26||I===27){l=f=g;continue e}E=E.parentNode}}l=l.return}ds(function(){var P=f,F=Rn(a),Y=[];e:{var z=Cp.get(t);if(z!==void 0){var H=mi,re=t;switch(t){case"keypress":if(gr(a)===0)break e;case"keydown":case"keyup":H=Tu;break;case"focusin":re="focus",H=_r;break;case"focusout":re="blur",H=_r;break;case"beforeblur":case"afterblur":H=_r;break;case"click":if(a.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":H=Nl;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":H=du;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":H=m;break;case Ap:case wp:case Rp:H=pu;break;case xp:H=S;break;case"scroll":case"scrollend":H=Il;break;case"wheel":H=q;break;case"copy":case"cut":case"paste":H=gu;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":H=Vi;break;case"toggle":case"beforetoggle":H=be}var me=(n&4)!==0,$e=!me&&(t==="scroll"||t==="scrollend"),k=me?z!==null?z+"Capture":null:z;me=[];for(var D=P,j;D!==null;){var Q=D;if(j=Q.stateNode,Q=Q.tag,Q!==5&&Q!==26&&Q!==27||j===null||k===null||(Q=Gn(D,k),Q!=null&&me.push(ao(D,Q,j))),$e)break;D=D.return}0<me.length&&(z=new H(z,re,null,a,F),Y.push({event:z,listeners:me}))}}if((n&7)===0){e:{if(z=t==="mouseover"||t==="pointerover",H=t==="mouseout"||t==="pointerout",z&&a!==Rl&&(re=a.relatedTarget||a.fromElement)&&(li(re)||re[ri]))break e;if((H||z)&&(z=F.window===F?F:(z=F.ownerDocument)?z.defaultView||z.parentWindow:window,H?(re=a.relatedTarget||a.toElement,H=P,re=re?li(re):null,re!==null&&($e=c(re),me=re.tag,re!==$e||me!==5&&me!==27&&me!==6)&&(re=null)):(H=null,re=P),H!==re)){if(me=Nl,Q="onMouseLeave",k="onMouseEnter",D="mouse",(t==="pointerout"||t==="pointerover")&&(me=Vi,Q="onPointerLeave",k="onPointerEnter",D="pointer"),$e=H==null?z:mn(H),j=re==null?z:mn(re),z=new me(Q,D+"leave",H,a,F),z.target=$e,z.relatedTarget=j,Q=null,li(F)===P&&(me=new me(k,D+"enter",re,a,F),me.target=j,me.relatedTarget=$e,Q=me),$e=Q,H&&re)t:{for(me=zT,k=H,D=re,j=0,Q=k;Q;Q=me(Q))j++;Q=0;for(var ce=D;ce;ce=me(ce))Q++;for(;0<j-Q;)k=me(k),j--;for(;0<Q-j;)D=me(D),Q--;for(;j--;){if(k===D||D!==null&&k===D.alternate){me=k;break t}k=me(k),D=me(D)}me=null}else me=null;H!==null&&Jy(Y,z,H,me,!1),re!==null&&$e!==null&&Jy(Y,$e,re,me,!0)}}e:{if(z=P?mn(P):window,H=z.nodeName&&z.nodeName.toLowerCase(),H==="select"||H==="input"&&z.type==="file")var je=dp;else if(hp(z))if(mp)je=$b;else{je=Xb;var le=Yb}else H=z.nodeName,!H||H.toLowerCase()!=="input"||z.type!=="checkbox"&&z.type!=="radio"?P&&na(P.elementType)&&(je=dp):je=Jb;if(je&&(je=je(t,P))){fp(Y,je,a,F);break e}le&&le(t,z,P),t==="focusout"&&P&&z.type==="number"&&P.memoizedProps.value!=null&&Sl(z,"number",z.value)}switch(le=P?mn(P):window,t){case"focusin":(hp(le)||le.contentEditable==="true")&&(ca=le,Lh=P,kl=null);break;case"focusout":kl=Lh=ca=null;break;case"mousedown":Uh=!0;break;case"contextmenu":case"mouseup":case"dragend":Uh=!1,Tp(Y,a,F);break;case"selectionchange":if(Wb)break;case"keydown":case"keyup":Tp(Y,a,F)}var Ae;if(Be)e:{switch(t){case"compositionstart":var Ce="onCompositionStart";break e;case"compositionend":Ce="onCompositionEnd";break e;case"compositionupdate":Ce="onCompositionUpdate";break e}Ce=void 0}else ua?vr(t,a)&&(Ce="onCompositionEnd"):t==="keydown"&&a.keyCode===229&&(Ce="onCompositionStart");Ce&&(yi&&a.locale!=="ko"&&(ua||Ce!=="onCompositionStart"?Ce==="onCompositionEnd"&&ua&&(Ae=Cl()):(di=F,xl="value"in di?di.value:di.textContent,ua=!0)),le=fc(P,Ce),0<le.length&&(Ce=new gi(Ce,t,null,a,F),Y.push({event:Ce,listeners:le}),Ae?Ce.data=Ae:(Ae=oa(a),Ae!==null&&(Ce.data=Ae)))),(Ae=Cn?Fb(t,a):Gb(t,a))&&(Ce=fc(P,"onBeforeInput"),0<Ce.length&&(le=new gi("onBeforeInput","beforeinput",null,a,F),Y.push({event:le,listeners:Ce}),le.data=Ae)),LT(Y,t,P,a,F)}Yy(Y,n)})}function ao(t,n,a){return{instance:t,listener:n,currentTarget:a}}function fc(t,n){for(var a=n+"Capture",l=[];t!==null;){var h=t,f=h.stateNode;if(h=h.tag,h!==5&&h!==26&&h!==27||f===null||(h=Gn(t,a),h!=null&&l.unshift(ao(t,h,f)),h=Gn(t,n),h!=null&&l.push(ao(t,h,f))),t.tag===3)return l;t=t.return}return[]}function zT(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5&&t.tag!==27);return t||null}function Jy(t,n,a,l,h){for(var f=n._reactName,g=[];a!==null&&a!==l;){var E=a,I=E.alternate,P=E.stateNode;if(E=E.tag,I!==null&&I===l)break;E!==5&&E!==26&&E!==27||P===null||(I=P,h?(P=Gn(a,f),P!=null&&g.unshift(ao(a,P,I))):h||(P=Gn(a,f),P!=null&&g.push(ao(a,P,I)))),a=a.return}g.length!==0&&t.push({event:n,listeners:g})}var BT=/\r\n?/g,qT=/\u0000|\uFFFD/g;function $y(t){return(typeof t=="string"?t:""+t).replace(BT,`
`).replace(qT,"")}function Zy(t,n){return n=$y(n),$y(t)===n}function Je(t,n,a,l,h,f){switch(a){case"children":typeof l=="string"?n==="body"||n==="textarea"&&l===""||an(t,l):(typeof l=="number"||typeof l=="bigint")&&n!=="body"&&an(t,""+l);break;case"className":pn(t,"class",l);break;case"tabIndex":pn(t,"tabindex",l);break;case"dir":case"role":case"viewBox":case"width":case"height":pn(t,a,l);break;case"style":wl(t,l,f);break;case"data":if(n!=="object"){pn(t,"data",l);break}case"src":case"href":if(l===""&&(n!=="a"||a!=="href")){t.removeAttribute(a);break}if(l==null||typeof l=="function"||typeof l=="symbol"||typeof l=="boolean"){t.removeAttribute(a);break}l=ia(""+l),t.setAttribute(a,l);break;case"action":case"formAction":if(typeof l=="function"){t.setAttribute(a,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof f=="function"&&(a==="formAction"?(n!=="input"&&Je(t,n,"name",h.name,h,null),Je(t,n,"formEncType",h.formEncType,h,null),Je(t,n,"formMethod",h.formMethod,h,null),Je(t,n,"formTarget",h.formTarget,h,null)):(Je(t,n,"encType",h.encType,h,null),Je(t,n,"method",h.method,h,null),Je(t,n,"target",h.target,h,null)));if(l==null||typeof l=="symbol"||typeof l=="boolean"){t.removeAttribute(a);break}l=ia(""+l),t.setAttribute(a,l);break;case"onClick":l!=null&&(t.onclick=Fn);break;case"onScroll":l!=null&&Re("scroll",t);break;case"onScrollEnd":l!=null&&Re("scrollend",t);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(r(61));if(a=l.__html,a!=null){if(h.children!=null)throw Error(r(60));t.innerHTML=a}}break;case"multiple":t.multiple=l&&typeof l!="function"&&typeof l!="symbol";break;case"muted":t.muted=l&&typeof l!="function"&&typeof l!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(l==null||typeof l=="function"||typeof l=="boolean"||typeof l=="symbol"){t.removeAttribute("xlink:href");break}a=ia(""+l),t.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",a);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":l!=null&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(a,""+l):t.removeAttribute(a);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":l&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(a,""):t.removeAttribute(a);break;case"capture":case"download":l===!0?t.setAttribute(a,""):l!==!1&&l!=null&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(a,l):t.removeAttribute(a);break;case"cols":case"rows":case"size":case"span":l!=null&&typeof l!="function"&&typeof l!="symbol"&&!isNaN(l)&&1<=l?t.setAttribute(a,l):t.removeAttribute(a);break;case"rowSpan":case"start":l==null||typeof l=="function"||typeof l=="symbol"||isNaN(l)?t.removeAttribute(a):t.setAttribute(a,l);break;case"popover":Re("beforetoggle",t),Re("toggle",t),ea(t,"popover",l);break;case"xlinkActuate":Et(t,"http://www.w3.org/1999/xlink","xlink:actuate",l);break;case"xlinkArcrole":Et(t,"http://www.w3.org/1999/xlink","xlink:arcrole",l);break;case"xlinkRole":Et(t,"http://www.w3.org/1999/xlink","xlink:role",l);break;case"xlinkShow":Et(t,"http://www.w3.org/1999/xlink","xlink:show",l);break;case"xlinkTitle":Et(t,"http://www.w3.org/1999/xlink","xlink:title",l);break;case"xlinkType":Et(t,"http://www.w3.org/1999/xlink","xlink:type",l);break;case"xmlBase":Et(t,"http://www.w3.org/XML/1998/namespace","xml:base",l);break;case"xmlLang":Et(t,"http://www.w3.org/XML/1998/namespace","xml:lang",l);break;case"xmlSpace":Et(t,"http://www.w3.org/XML/1998/namespace","xml:space",l);break;case"is":ea(t,"is",l);break;case"innerText":case"textContent":break;default:(!(2<a.length)||a[0]!=="o"&&a[0]!=="O"||a[1]!=="n"&&a[1]!=="N")&&(a=fu.get(a)||a,ea(t,a,l))}}function ud(t,n,a,l,h,f){switch(a){case"style":wl(t,l,f);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(r(61));if(a=l.__html,a!=null){if(h.children!=null)throw Error(r(60));t.innerHTML=a}}break;case"children":typeof l=="string"?an(t,l):(typeof l=="number"||typeof l=="bigint")&&an(t,""+l);break;case"onScroll":l!=null&&Re("scroll",t);break;case"onScrollEnd":l!=null&&Re("scrollend",t);break;case"onClick":l!=null&&(t.onclick=Fn);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!_l.hasOwnProperty(a))e:{if(a[0]==="o"&&a[1]==="n"&&(h=a.endsWith("Capture"),n=a.slice(2,h?a.length-7:void 0),f=t[kt]||null,f=f!=null?f[a]:null,typeof f=="function"&&t.removeEventListener(n,f,h),typeof l=="function")){typeof f!="function"&&f!==null&&(a in t?t[a]=null:t.hasAttribute(a)&&t.removeAttribute(a)),t.addEventListener(n,l,h);break e}a in t?t[a]=l:l===!0?t.setAttribute(a,""):ea(t,a,l)}}}function Ft(t,n,a){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Re("error",t),Re("load",t);var l=!1,h=!1,f;for(f in a)if(a.hasOwnProperty(f)){var g=a[f];if(g!=null)switch(f){case"src":l=!0;break;case"srcSet":h=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(r(137,n));default:Je(t,n,f,g,a,null)}}h&&Je(t,n,"srcSet",a.srcSet,a,null),l&&Je(t,n,"src",a.src,a,null);return;case"input":Re("invalid",t);var E=f=g=h=null,I=null,P=null;for(l in a)if(a.hasOwnProperty(l)){var F=a[l];if(F!=null)switch(l){case"name":h=F;break;case"type":g=F;break;case"checked":I=F;break;case"defaultChecked":P=F;break;case"value":f=F;break;case"defaultValue":E=F;break;case"children":case"dangerouslySetInnerHTML":if(F!=null)throw Error(r(137,n));break;default:Je(t,n,l,F,a,null)}}uu(t,f,E,I,P,g,h,!1);return;case"select":Re("invalid",t),l=g=f=null;for(h in a)if(a.hasOwnProperty(h)&&(E=a[h],E!=null))switch(h){case"value":f=E;break;case"defaultValue":g=E;break;case"multiple":l=E;default:Je(t,n,h,E,a,null)}n=f,a=g,t.multiple=!!l,n!=null?us(t,!!l,n,!1):a!=null&&us(t,!!l,a,!0);return;case"textarea":Re("invalid",t),f=h=l=null;for(g in a)if(a.hasOwnProperty(g)&&(E=a[g],E!=null))switch(g){case"value":l=E;break;case"defaultValue":h=E;break;case"children":f=E;break;case"dangerouslySetInnerHTML":if(E!=null)throw Error(r(91));break;default:Je(t,n,g,E,a,null)}cs(t,l,h,f);return;case"option":for(I in a)if(a.hasOwnProperty(I)&&(l=a[I],l!=null))switch(I){case"selected":t.selected=l&&typeof l!="function"&&typeof l!="symbol";break;default:Je(t,n,I,l,a,null)}return;case"dialog":Re("beforetoggle",t),Re("toggle",t),Re("cancel",t),Re("close",t);break;case"iframe":case"object":Re("load",t);break;case"video":case"audio":for(l=0;l<ro.length;l++)Re(ro[l],t);break;case"image":Re("error",t),Re("load",t);break;case"details":Re("toggle",t);break;case"embed":case"source":case"link":Re("error",t),Re("load",t);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(P in a)if(a.hasOwnProperty(P)&&(l=a[P],l!=null))switch(P){case"children":case"dangerouslySetInnerHTML":throw Error(r(137,n));default:Je(t,n,P,l,a,null)}return;default:if(na(n)){for(F in a)a.hasOwnProperty(F)&&(l=a[F],l!==void 0&&ud(t,n,F,l,a,void 0));return}}for(E in a)a.hasOwnProperty(E)&&(l=a[E],l!=null&&Je(t,n,E,l,a,null))}function HT(t,n,a,l){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var h=null,f=null,g=null,E=null,I=null,P=null,F=null;for(H in a){var Y=a[H];if(a.hasOwnProperty(H)&&Y!=null)switch(H){case"checked":break;case"value":break;case"defaultValue":I=Y;default:l.hasOwnProperty(H)||Je(t,n,H,null,l,Y)}}for(var z in l){var H=l[z];if(Y=a[z],l.hasOwnProperty(z)&&(H!=null||Y!=null))switch(z){case"type":f=H;break;case"name":h=H;break;case"checked":P=H;break;case"defaultChecked":F=H;break;case"value":g=H;break;case"defaultValue":E=H;break;case"children":case"dangerouslySetInnerHTML":if(H!=null)throw Error(r(137,n));break;default:H!==Y&&Je(t,n,z,H,l,Y)}}ta(t,g,E,I,P,F,f,h);return;case"select":H=g=E=z=null;for(f in a)if(I=a[f],a.hasOwnProperty(f)&&I!=null)switch(f){case"value":break;case"multiple":H=I;default:l.hasOwnProperty(f)||Je(t,n,f,null,l,I)}for(h in l)if(f=l[h],I=a[h],l.hasOwnProperty(h)&&(f!=null||I!=null))switch(h){case"value":z=f;break;case"defaultValue":E=f;break;case"multiple":g=f;default:f!==I&&Je(t,n,h,f,l,I)}n=E,a=g,l=H,z!=null?us(t,!!a,z,!1):!!l!=!!a&&(n!=null?us(t,!!a,n,!0):us(t,!!a,a?[]:"",!1));return;case"textarea":H=z=null;for(E in a)if(h=a[E],a.hasOwnProperty(E)&&h!=null&&!l.hasOwnProperty(E))switch(E){case"value":break;case"children":break;default:Je(t,n,E,null,l,h)}for(g in l)if(h=l[g],f=a[g],l.hasOwnProperty(g)&&(h!=null||f!=null))switch(g){case"value":z=h;break;case"defaultValue":H=h;break;case"children":break;case"dangerouslySetInnerHTML":if(h!=null)throw Error(r(91));break;default:h!==f&&Je(t,n,g,h,l,f)}cu(t,z,H);return;case"option":for(var re in a)if(z=a[re],a.hasOwnProperty(re)&&z!=null&&!l.hasOwnProperty(re))switch(re){case"selected":t.selected=!1;break;default:Je(t,n,re,null,l,z)}for(I in l)if(z=l[I],H=a[I],l.hasOwnProperty(I)&&z!==H&&(z!=null||H!=null))switch(I){case"selected":t.selected=z&&typeof z!="function"&&typeof z!="symbol";break;default:Je(t,n,I,z,l,H)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var me in a)z=a[me],a.hasOwnProperty(me)&&z!=null&&!l.hasOwnProperty(me)&&Je(t,n,me,null,l,z);for(P in l)if(z=l[P],H=a[P],l.hasOwnProperty(P)&&z!==H&&(z!=null||H!=null))switch(P){case"children":case"dangerouslySetInnerHTML":if(z!=null)throw Error(r(137,n));break;default:Je(t,n,P,z,l,H)}return;default:if(na(n)){for(var $e in a)z=a[$e],a.hasOwnProperty($e)&&z!==void 0&&!l.hasOwnProperty($e)&&ud(t,n,$e,void 0,l,z);for(F in l)z=l[F],H=a[F],!l.hasOwnProperty(F)||z===H||z===void 0&&H===void 0||ud(t,n,F,z,l,H);return}}for(var k in a)z=a[k],a.hasOwnProperty(k)&&z!=null&&!l.hasOwnProperty(k)&&Je(t,n,k,null,l,z);for(Y in l)z=l[Y],H=a[Y],!l.hasOwnProperty(Y)||z===H||z==null&&H==null||Je(t,n,Y,z,l,H)}function Wy(t){switch(t){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function FT(){if(typeof performance.getEntriesByType=="function"){for(var t=0,n=0,a=performance.getEntriesByType("resource"),l=0;l<a.length;l++){var h=a[l],f=h.transferSize,g=h.initiatorType,E=h.duration;if(f&&E&&Wy(g)){for(g=0,E=h.responseEnd,l+=1;l<a.length;l++){var I=a[l],P=I.startTime;if(P>E)break;var F=I.transferSize,Y=I.initiatorType;F&&Wy(Y)&&(I=I.responseEnd,g+=F*(I<E?1:(E-P)/(I-P)))}if(--l,n+=8*(f+g)/(h.duration/1e3),t++,10<t)break}}if(0<t)return n/t/1e6}return navigator.connection&&(t=navigator.connection.downlink,typeof t=="number")?t:5}var cd=null,hd=null;function dc(t){return t.nodeType===9?t:t.ownerDocument}function e_(t){switch(t){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function t_(t,n){if(t===0)switch(n){case"svg":return 1;case"math":return 2;default:return 0}return t===1&&n==="foreignObject"?0:t}function fd(t,n){return t==="textarea"||t==="noscript"||typeof n.children=="string"||typeof n.children=="number"||typeof n.children=="bigint"||typeof n.dangerouslySetInnerHTML=="object"&&n.dangerouslySetInnerHTML!==null&&n.dangerouslySetInnerHTML.__html!=null}var dd=null;function GT(){var t=window.event;return t&&t.type==="popstate"?t===dd?!1:(dd=t,!0):(dd=null,!1)}var n_=typeof setTimeout=="function"?setTimeout:void 0,KT=typeof clearTimeout=="function"?clearTimeout:void 0,i_=typeof Promise=="function"?Promise:void 0,QT=typeof queueMicrotask=="function"?queueMicrotask:typeof i_<"u"?function(t){return i_.resolve(null).then(t).catch(YT)}:n_;function YT(t){setTimeout(function(){throw t})}function Ms(t){return t==="head"}function s_(t,n){var a=n,l=0;do{var h=a.nextSibling;if(t.removeChild(a),h&&h.nodeType===8)if(a=h.data,a==="/$"||a==="/&"){if(l===0){t.removeChild(h),Ua(n);return}l--}else if(a==="$"||a==="$?"||a==="$~"||a==="$!"||a==="&")l++;else if(a==="html")lo(t.ownerDocument.documentElement);else if(a==="head"){a=t.ownerDocument.head,lo(a);for(var f=a.firstChild;f;){var g=f.nextSibling,E=f.nodeName;f[ai]||E==="SCRIPT"||E==="STYLE"||E==="LINK"&&f.rel.toLowerCase()==="stylesheet"||a.removeChild(f),f=g}}else a==="body"&&lo(t.ownerDocument.body);a=h}while(a);Ua(n)}function r_(t,n){var a=t;t=0;do{var l=a.nextSibling;if(a.nodeType===1?n?(a._stashedDisplay=a.style.display,a.style.display="none"):(a.style.display=a._stashedDisplay||"",a.getAttribute("style")===""&&a.removeAttribute("style")):a.nodeType===3&&(n?(a._stashedText=a.nodeValue,a.nodeValue=""):a.nodeValue=a._stashedText||""),l&&l.nodeType===8)if(a=l.data,a==="/$"){if(t===0)break;t--}else a!=="$"&&a!=="$?"&&a!=="$~"&&a!=="$!"||t++;a=l}while(a)}function md(t){var n=t.firstChild;for(n&&n.nodeType===10&&(n=n.nextSibling);n;){var a=n;switch(n=n.nextSibling,a.nodeName){case"HTML":case"HEAD":case"BODY":md(a),Wr(a);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(a.rel.toLowerCase()==="stylesheet")continue}t.removeChild(a)}}function XT(t,n,a,l){for(;t.nodeType===1;){var h=a;if(t.nodeName.toLowerCase()!==n.toLowerCase()){if(!l&&(t.nodeName!=="INPUT"||t.type!=="hidden"))break}else if(l){if(!t[ai])switch(n){case"meta":if(!t.hasAttribute("itemprop"))break;return t;case"link":if(f=t.getAttribute("rel"),f==="stylesheet"&&t.hasAttribute("data-precedence"))break;if(f!==h.rel||t.getAttribute("href")!==(h.href==null||h.href===""?null:h.href)||t.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin)||t.getAttribute("title")!==(h.title==null?null:h.title))break;return t;case"style":if(t.hasAttribute("data-precedence"))break;return t;case"script":if(f=t.getAttribute("src"),(f!==(h.src==null?null:h.src)||t.getAttribute("type")!==(h.type==null?null:h.type)||t.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin))&&f&&t.hasAttribute("async")&&!t.hasAttribute("itemprop"))break;return t;default:return t}}else if(n==="input"&&t.type==="hidden"){var f=h.name==null?null:""+h.name;if(h.type==="hidden"&&t.getAttribute("name")===f)return t}else return t;if(t=kn(t.nextSibling),t===null)break}return null}function JT(t,n,a){if(n==="")return null;for(;t.nodeType!==3;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!a||(t=kn(t.nextSibling),t===null))return null;return t}function a_(t,n){for(;t.nodeType!==8;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!n||(t=kn(t.nextSibling),t===null))return null;return t}function pd(t){return t.data==="$?"||t.data==="$~"}function gd(t){return t.data==="$!"||t.data==="$?"&&t.ownerDocument.readyState!=="loading"}function $T(t,n){var a=t.ownerDocument;if(t.data==="$~")t._reactRetry=n;else if(t.data!=="$?"||a.readyState!=="loading")n();else{var l=function(){n(),a.removeEventListener("DOMContentLoaded",l)};a.addEventListener("DOMContentLoaded",l),t._reactRetry=l}}function kn(t){for(;t!=null;t=t.nextSibling){var n=t.nodeType;if(n===1||n===3)break;if(n===8){if(n=t.data,n==="$"||n==="$!"||n==="$?"||n==="$~"||n==="&"||n==="F!"||n==="F")break;if(n==="/$"||n==="/&")return null}}return t}var yd=null;function l_(t){t=t.nextSibling;for(var n=0;t;){if(t.nodeType===8){var a=t.data;if(a==="/$"||a==="/&"){if(n===0)return kn(t.nextSibling);n--}else a!=="$"&&a!=="$!"&&a!=="$?"&&a!=="$~"&&a!=="&"||n++}t=t.nextSibling}return null}function o_(t){t=t.previousSibling;for(var n=0;t;){if(t.nodeType===8){var a=t.data;if(a==="$"||a==="$!"||a==="$?"||a==="$~"||a==="&"){if(n===0)return t;n--}else a!=="/$"&&a!=="/&"||n++}t=t.previousSibling}return null}function u_(t,n,a){switch(n=dc(a),t){case"html":if(t=n.documentElement,!t)throw Error(r(452));return t;case"head":if(t=n.head,!t)throw Error(r(453));return t;case"body":if(t=n.body,!t)throw Error(r(454));return t;default:throw Error(r(451))}}function lo(t){for(var n=t.attributes;n.length;)t.removeAttributeNode(n[0]);Wr(t)}var Ln=new Map,c_=new Set;function mc(t){return typeof t.getRootNode=="function"?t.getRootNode():t.nodeType===9?t:t.ownerDocument}var Xi=te.d;te.d={f:ZT,r:WT,D:e1,C:t1,L:n1,m:i1,X:r1,S:s1,M:a1};function ZT(){var t=Xi.f(),n=rc();return t||n}function WT(t){var n=wn(t);n!==null&&n.tag===5&&n.type==="form"?xg(n):Xi.r(t)}var Va=typeof document>"u"?null:document;function h_(t,n,a){var l=Va;if(l&&typeof n=="string"&&n){var h=rn(n);h='link[rel="'+t+'"][href="'+h+'"]',typeof a=="string"&&(h+='[crossorigin="'+a+'"]'),c_.has(h)||(c_.add(h),t={rel:t,crossOrigin:a,href:n},l.querySelector(h)===null&&(n=l.createElement("link"),Ft(n,"link",t),vt(n),l.head.appendChild(n)))}}function e1(t){Xi.D(t),h_("dns-prefetch",t,null)}function t1(t,n){Xi.C(t,n),h_("preconnect",t,n)}function n1(t,n,a){Xi.L(t,n,a);var l=Va;if(l&&t&&n){var h='link[rel="preload"][as="'+rn(n)+'"]';n==="image"&&a&&a.imageSrcSet?(h+='[imagesrcset="'+rn(a.imageSrcSet)+'"]',typeof a.imageSizes=="string"&&(h+='[imagesizes="'+rn(a.imageSizes)+'"]')):h+='[href="'+rn(t)+'"]';var f=h;switch(n){case"style":f=ka(t);break;case"script":f=La(t)}Ln.has(f)||(t=A({rel:"preload",href:n==="image"&&a&&a.imageSrcSet?void 0:t,as:n},a),Ln.set(f,t),l.querySelector(h)!==null||n==="style"&&l.querySelector(oo(f))||n==="script"&&l.querySelector(uo(f))||(n=l.createElement("link"),Ft(n,"link",t),vt(n),l.head.appendChild(n)))}}function i1(t,n){Xi.m(t,n);var a=Va;if(a&&t){var l=n&&typeof n.as=="string"?n.as:"script",h='link[rel="modulepreload"][as="'+rn(l)+'"][href="'+rn(t)+'"]',f=h;switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":f=La(t)}if(!Ln.has(f)&&(t=A({rel:"modulepreload",href:t},n),Ln.set(f,t),a.querySelector(h)===null)){switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(a.querySelector(uo(f)))return}l=a.createElement("link"),Ft(l,"link",t),vt(l),a.head.appendChild(l)}}}function s1(t,n,a){Xi.S(t,n,a);var l=Va;if(l&&t){var h=oi(l).hoistableStyles,f=ka(t);n=n||"default";var g=h.get(f);if(!g){var E={loading:0,preload:null};if(g=l.querySelector(oo(f)))E.loading=5;else{t=A({rel:"stylesheet",href:t,"data-precedence":n},a),(a=Ln.get(f))&&_d(t,a);var I=g=l.createElement("link");vt(I),Ft(I,"link",t),I._p=new Promise(function(P,F){I.onload=P,I.onerror=F}),I.addEventListener("load",function(){E.loading|=1}),I.addEventListener("error",function(){E.loading|=2}),E.loading|=4,pc(g,n,l)}g={type:"stylesheet",instance:g,count:1,state:E},h.set(f,g)}}}function r1(t,n){Xi.X(t,n);var a=Va;if(a&&t){var l=oi(a).hoistableScripts,h=La(t),f=l.get(h);f||(f=a.querySelector(uo(h)),f||(t=A({src:t,async:!0},n),(n=Ln.get(h))&&vd(t,n),f=a.createElement("script"),vt(f),Ft(f,"link",t),a.head.appendChild(f)),f={type:"script",instance:f,count:1,state:null},l.set(h,f))}}function a1(t,n){Xi.M(t,n);var a=Va;if(a&&t){var l=oi(a).hoistableScripts,h=La(t),f=l.get(h);f||(f=a.querySelector(uo(h)),f||(t=A({src:t,async:!0,type:"module"},n),(n=Ln.get(h))&&vd(t,n),f=a.createElement("script"),vt(f),Ft(f,"link",t),a.head.appendChild(f)),f={type:"script",instance:f,count:1,state:null},l.set(h,f))}}function f_(t,n,a,l){var h=(h=Se.current)?mc(h):null;if(!h)throw Error(r(446));switch(t){case"meta":case"title":return null;case"style":return typeof a.precedence=="string"&&typeof a.href=="string"?(n=ka(a.href),a=oi(h).hoistableStyles,l=a.get(n),l||(l={type:"style",instance:null,count:0,state:null},a.set(n,l)),l):{type:"void",instance:null,count:0,state:null};case"link":if(a.rel==="stylesheet"&&typeof a.href=="string"&&typeof a.precedence=="string"){t=ka(a.href);var f=oi(h).hoistableStyles,g=f.get(t);if(g||(h=h.ownerDocument||h,g={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},f.set(t,g),(f=h.querySelector(oo(t)))&&!f._p&&(g.instance=f,g.state.loading=5),Ln.has(t)||(a={rel:"preload",as:"style",href:a.href,crossOrigin:a.crossOrigin,integrity:a.integrity,media:a.media,hrefLang:a.hrefLang,referrerPolicy:a.referrerPolicy},Ln.set(t,a),f||l1(h,t,a,g.state))),n&&l===null)throw Error(r(528,""));return g}if(n&&l!==null)throw Error(r(529,""));return null;case"script":return n=a.async,a=a.src,typeof a=="string"&&n&&typeof n!="function"&&typeof n!="symbol"?(n=La(a),a=oi(h).hoistableScripts,l=a.get(n),l||(l={type:"script",instance:null,count:0,state:null},a.set(n,l)),l):{type:"void",instance:null,count:0,state:null};default:throw Error(r(444,t))}}function ka(t){return'href="'+rn(t)+'"'}function oo(t){return'link[rel="stylesheet"]['+t+"]"}function d_(t){return A({},t,{"data-precedence":t.precedence,precedence:null})}function l1(t,n,a,l){t.querySelector('link[rel="preload"][as="style"]['+n+"]")?l.loading=1:(n=t.createElement("link"),l.preload=n,n.addEventListener("load",function(){return l.loading|=1}),n.addEventListener("error",function(){return l.loading|=2}),Ft(n,"link",a),vt(n),t.head.appendChild(n))}function La(t){return'[src="'+rn(t)+'"]'}function uo(t){return"script[async]"+t}function m_(t,n,a){if(n.count++,n.instance===null)switch(n.type){case"style":var l=t.querySelector('style[data-href~="'+rn(a.href)+'"]');if(l)return n.instance=l,vt(l),l;var h=A({},a,{"data-href":a.href,"data-precedence":a.precedence,href:null,precedence:null});return l=(t.ownerDocument||t).createElement("style"),vt(l),Ft(l,"style",h),pc(l,a.precedence,t),n.instance=l;case"stylesheet":h=ka(a.href);var f=t.querySelector(oo(h));if(f)return n.state.loading|=4,n.instance=f,vt(f),f;l=d_(a),(h=Ln.get(h))&&_d(l,h),f=(t.ownerDocument||t).createElement("link"),vt(f);var g=f;return g._p=new Promise(function(E,I){g.onload=E,g.onerror=I}),Ft(f,"link",l),n.state.loading|=4,pc(f,a.precedence,t),n.instance=f;case"script":return f=La(a.src),(h=t.querySelector(uo(f)))?(n.instance=h,vt(h),h):(l=a,(h=Ln.get(f))&&(l=A({},a),vd(l,h)),t=t.ownerDocument||t,h=t.createElement("script"),vt(h),Ft(h,"link",l),t.head.appendChild(h),n.instance=h);case"void":return null;default:throw Error(r(443,n.type))}else n.type==="stylesheet"&&(n.state.loading&4)===0&&(l=n.instance,n.state.loading|=4,pc(l,a.precedence,t));return n.instance}function pc(t,n,a){for(var l=a.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),h=l.length?l[l.length-1]:null,f=h,g=0;g<l.length;g++){var E=l[g];if(E.dataset.precedence===n)f=E;else if(f!==h)break}f?f.parentNode.insertBefore(t,f.nextSibling):(n=a.nodeType===9?a.head:a,n.insertBefore(t,n.firstChild))}function _d(t,n){t.crossOrigin==null&&(t.crossOrigin=n.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=n.referrerPolicy),t.title==null&&(t.title=n.title)}function vd(t,n){t.crossOrigin==null&&(t.crossOrigin=n.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=n.referrerPolicy),t.integrity==null&&(t.integrity=n.integrity)}var gc=null;function p_(t,n,a){if(gc===null){var l=new Map,h=gc=new Map;h.set(a,l)}else h=gc,l=h.get(a),l||(l=new Map,h.set(a,l));if(l.has(t))return l;for(l.set(t,null),a=a.getElementsByTagName(t),h=0;h<a.length;h++){var f=a[h];if(!(f[ai]||f[_t]||t==="link"&&f.getAttribute("rel")==="stylesheet")&&f.namespaceURI!=="http://www.w3.org/2000/svg"){var g=f.getAttribute(n)||"";g=t+g;var E=l.get(g);E?E.push(f):l.set(g,[f])}}return l}function g_(t,n,a){t=t.ownerDocument||t,t.head.insertBefore(a,n==="title"?t.querySelector("head > title"):null)}function o1(t,n,a){if(a===1||n.itemProp!=null)return!1;switch(t){case"meta":case"title":return!0;case"style":if(typeof n.precedence!="string"||typeof n.href!="string"||n.href==="")break;return!0;case"link":if(typeof n.rel!="string"||typeof n.href!="string"||n.href===""||n.onLoad||n.onError)break;switch(n.rel){case"stylesheet":return t=n.disabled,typeof n.precedence=="string"&&t==null;default:return!0}case"script":if(n.async&&typeof n.async!="function"&&typeof n.async!="symbol"&&!n.onLoad&&!n.onError&&n.src&&typeof n.src=="string")return!0}return!1}function y_(t){return!(t.type==="stylesheet"&&(t.state.loading&3)===0)}function u1(t,n,a,l){if(a.type==="stylesheet"&&(typeof l.media!="string"||matchMedia(l.media).matches!==!1)&&(a.state.loading&4)===0){if(a.instance===null){var h=ka(l.href),f=n.querySelector(oo(h));if(f){n=f._p,n!==null&&typeof n=="object"&&typeof n.then=="function"&&(t.count++,t=yc.bind(t),n.then(t,t)),a.state.loading|=4,a.instance=f,vt(f);return}f=n.ownerDocument||n,l=d_(l),(h=Ln.get(h))&&_d(l,h),f=f.createElement("link"),vt(f);var g=f;g._p=new Promise(function(E,I){g.onload=E,g.onerror=I}),Ft(f,"link",l),a.instance=f}t.stylesheets===null&&(t.stylesheets=new Map),t.stylesheets.set(a,n),(n=a.state.preload)&&(a.state.loading&3)===0&&(t.count++,a=yc.bind(t),n.addEventListener("load",a),n.addEventListener("error",a))}}var Ed=0;function c1(t,n){return t.stylesheets&&t.count===0&&vc(t,t.stylesheets),0<t.count||0<t.imgCount?function(a){var l=setTimeout(function(){if(t.stylesheets&&vc(t,t.stylesheets),t.unsuspend){var f=t.unsuspend;t.unsuspend=null,f()}},6e4+n);0<t.imgBytes&&Ed===0&&(Ed=62500*FT());var h=setTimeout(function(){if(t.waitingForImages=!1,t.count===0&&(t.stylesheets&&vc(t,t.stylesheets),t.unsuspend)){var f=t.unsuspend;t.unsuspend=null,f()}},(t.imgBytes>Ed?50:800)+n);return t.unsuspend=a,function(){t.unsuspend=null,clearTimeout(l),clearTimeout(h)}}:null}function yc(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)vc(this,this.stylesheets);else if(this.unsuspend){var t=this.unsuspend;this.unsuspend=null,t()}}}var _c=null;function vc(t,n){t.stylesheets=null,t.unsuspend!==null&&(t.count++,_c=new Map,n.forEach(h1,t),_c=null,yc.call(t))}function h1(t,n){if(!(n.state.loading&4)){var a=_c.get(t);if(a)var l=a.get(null);else{a=new Map,_c.set(t,a);for(var h=t.querySelectorAll("link[data-precedence],style[data-precedence]"),f=0;f<h.length;f++){var g=h[f];(g.nodeName==="LINK"||g.getAttribute("media")!=="not all")&&(a.set(g.dataset.precedence,g),l=g)}l&&a.set(null,l)}h=n.instance,g=h.getAttribute("data-precedence"),f=a.get(g)||l,f===l&&a.set(null,h),a.set(g,h),this.count++,l=yc.bind(this),h.addEventListener("load",l),h.addEventListener("error",l),f?f.parentNode.insertBefore(h,f.nextSibling):(t=t.nodeType===9?t.head:t,t.insertBefore(h,t.firstChild)),n.state.loading|=4}}var co={$$typeof:he,Provider:null,Consumer:null,_currentValue:fe,_currentValue2:fe,_threadCount:0};function f1(t,n,a,l,h,f,g,E,I){this.tag=1,this.containerInfo=t,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=si(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=si(0),this.hiddenUpdates=si(null),this.identifierPrefix=l,this.onUncaughtError=h,this.onCaughtError=f,this.onRecoverableError=g,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=I,this.incompleteTransitions=new Map}function __(t,n,a,l,h,f,g,E,I,P,F,Y){return t=new f1(t,n,a,g,I,P,F,Y,E),n=1,f===!0&&(n|=24),f=yn(3,null,null,n),t.current=f,f.stateNode=t,n=Zh(),n.refCount++,t.pooledCache=n,n.refCount++,f.memoizedState={element:l,isDehydrated:a,cache:n},nf(f),t}function v_(t){return t?(t=da,t):da}function E_(t,n,a,l,h,f){h=v_(h),l.context===null?l.context=h:l.pendingContext=h,l=Ts(n),l.payload={element:a},f=f===void 0?null:f,f!==null&&(l.callback=f),a=Ss(t,l,n),a!==null&&(hn(a,t,n),ql(a,t,n))}function b_(t,n){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var a=t.retryLane;t.retryLane=a!==0&&a<n?a:n}}function bd(t,n){b_(t,n),(t=t.alternate)&&b_(t,n)}function T_(t){if(t.tag===13||t.tag===31){var n=Tr(t,67108864);n!==null&&hn(n,t,67108864),bd(t,67108864)}}function S_(t){if(t.tag===13||t.tag===31){var n=Tn();n=cr(n);var a=Tr(t,n);a!==null&&hn(a,t,n),bd(t,n)}}var Ec=!0;function d1(t,n,a,l){var h=G.T;G.T=null;var f=te.p;try{te.p=2,Td(t,n,a,l)}finally{te.p=f,G.T=h}}function m1(t,n,a,l){var h=G.T;G.T=null;var f=te.p;try{te.p=8,Td(t,n,a,l)}finally{te.p=f,G.T=h}}function Td(t,n,a,l){if(Ec){var h=Sd(l);if(h===null)od(t,n,l,bc,a),w_(t,l);else if(g1(h,t,n,a,l))l.stopPropagation();else if(w_(t,l),n&4&&-1<p1.indexOf(t)){for(;h!==null;){var f=wn(h);if(f!==null)switch(f.tag){case 3:if(f=f.stateNode,f.current.memoizedState.isDehydrated){var g=ni(f.pendingLanes);if(g!==0){var E=f;for(E.pendingLanes|=2,E.entangledLanes|=2;g;){var I=1<<31-ht(g);E.entanglements[1]|=I,g&=~I}bi(f),(qe&6)===0&&(ic=en()+500,so(0))}}break;case 31:case 13:E=Tr(f,2),E!==null&&hn(E,f,2),rc(),bd(f,2)}if(f=Sd(l),f===null&&od(t,n,l,bc,a),f===h)break;h=f}h!==null&&l.stopPropagation()}else od(t,n,l,null,a)}}function Sd(t){return t=Rn(t),Ad(t)}var bc=null;function Ad(t){if(bc=null,t=li(t),t!==null){var n=c(t);if(n===null)t=null;else{var a=n.tag;if(a===13){if(t=d(n),t!==null)return t;t=null}else if(a===31){if(t=p(n),t!==null)return t;t=null}else if(a===3){if(n.stateNode.current.memoizedState.isDehydrated)return n.tag===3?n.stateNode.containerInfo:null;t=null}else n!==t&&(t=null)}}return bc=t,null}function A_(t){switch(t){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(ar()){case dl:return 2;case ml:return 8;case ls:case Ih:return 32;case Wo:return 268435456;default:return 32}default:return 32}}var wd=!1,Vs=null,ks=null,Ls=null,ho=new Map,fo=new Map,Us=[],p1="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function w_(t,n){switch(t){case"focusin":case"focusout":Vs=null;break;case"dragenter":case"dragleave":ks=null;break;case"mouseover":case"mouseout":Ls=null;break;case"pointerover":case"pointerout":ho.delete(n.pointerId);break;case"gotpointercapture":case"lostpointercapture":fo.delete(n.pointerId)}}function mo(t,n,a,l,h,f){return t===null||t.nativeEvent!==f?(t={blockedOn:n,domEventName:a,eventSystemFlags:l,nativeEvent:f,targetContainers:[h]},n!==null&&(n=wn(n),n!==null&&T_(n)),t):(t.eventSystemFlags|=l,n=t.targetContainers,h!==null&&n.indexOf(h)===-1&&n.push(h),t)}function g1(t,n,a,l,h){switch(n){case"focusin":return Vs=mo(Vs,t,n,a,l,h),!0;case"dragenter":return ks=mo(ks,t,n,a,l,h),!0;case"mouseover":return Ls=mo(Ls,t,n,a,l,h),!0;case"pointerover":var f=h.pointerId;return ho.set(f,mo(ho.get(f)||null,t,n,a,l,h)),!0;case"gotpointercapture":return f=h.pointerId,fo.set(f,mo(fo.get(f)||null,t,n,a,l,h)),!0}return!1}function R_(t){var n=li(t.target);if(n!==null){var a=c(n);if(a!==null){if(n=a.tag,n===13){if(n=d(a),n!==null){t.blockedOn=n,qn(t.priority,function(){S_(a)});return}}else if(n===31){if(n=p(a),n!==null){t.blockedOn=n,qn(t.priority,function(){S_(a)});return}}else if(n===3&&a.stateNode.current.memoizedState.isDehydrated){t.blockedOn=a.tag===3?a.stateNode.containerInfo:null;return}}}t.blockedOn=null}function Tc(t){if(t.blockedOn!==null)return!1;for(var n=t.targetContainers;0<n.length;){var a=Sd(t.nativeEvent);if(a===null){a=t.nativeEvent;var l=new a.constructor(a.type,a);Rl=l,a.target.dispatchEvent(l),Rl=null}else return n=wn(a),n!==null&&T_(n),t.blockedOn=a,!1;n.shift()}return!0}function x_(t,n,a){Tc(t)&&a.delete(n)}function y1(){wd=!1,Vs!==null&&Tc(Vs)&&(Vs=null),ks!==null&&Tc(ks)&&(ks=null),Ls!==null&&Tc(Ls)&&(Ls=null),ho.forEach(x_),fo.forEach(x_)}function Sc(t,n){t.blockedOn===n&&(t.blockedOn=null,wd||(wd=!0,s.unstable_scheduleCallback(s.unstable_NormalPriority,y1)))}var Ac=null;function C_(t){Ac!==t&&(Ac=t,s.unstable_scheduleCallback(s.unstable_NormalPriority,function(){Ac===t&&(Ac=null);for(var n=0;n<t.length;n+=3){var a=t[n],l=t[n+1],h=t[n+2];if(typeof l!="function"){if(Ad(l||a)===null)continue;break}var f=wn(a);f!==null&&(t.splice(n,3),n-=3,Sf(f,{pending:!0,data:h,method:a.method,action:l},l,h))}}))}function Ua(t){function n(I){return Sc(I,t)}Vs!==null&&Sc(Vs,t),ks!==null&&Sc(ks,t),Ls!==null&&Sc(Ls,t),ho.forEach(n),fo.forEach(n);for(var a=0;a<Us.length;a++){var l=Us[a];l.blockedOn===t&&(l.blockedOn=null)}for(;0<Us.length&&(a=Us[0],a.blockedOn===null);)R_(a),a.blockedOn===null&&Us.shift();if(a=(t.ownerDocument||t).$$reactFormReplay,a!=null)for(l=0;l<a.length;l+=3){var h=a[l],f=a[l+1],g=h[kt]||null;if(typeof f=="function")g||C_(a);else if(g){var E=null;if(f&&f.hasAttribute("formAction")){if(h=f,g=f[kt]||null)E=g.formAction;else if(Ad(h)!==null)continue}else E=g.action;typeof E=="function"?a[l+1]=E:(a.splice(l,3),l-=3),C_(a)}}}function I_(){function t(f){f.canIntercept&&f.info==="react-transition"&&f.intercept({handler:function(){return new Promise(function(g){return h=g})},focusReset:"manual",scroll:"manual"})}function n(){h!==null&&(h(),h=null),l||setTimeout(a,20)}function a(){if(!l&&!navigation.transition){var f=navigation.currentEntry;f&&f.url!=null&&navigation.navigate(f.url,{state:f.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var l=!1,h=null;return navigation.addEventListener("navigate",t),navigation.addEventListener("navigatesuccess",n),navigation.addEventListener("navigateerror",n),setTimeout(a,100),function(){l=!0,navigation.removeEventListener("navigate",t),navigation.removeEventListener("navigatesuccess",n),navigation.removeEventListener("navigateerror",n),h!==null&&(h(),h=null)}}}function Rd(t){this._internalRoot=t}wc.prototype.render=Rd.prototype.render=function(t){var n=this._internalRoot;if(n===null)throw Error(r(409));var a=n.current,l=Tn();E_(a,l,t,n,null,null)},wc.prototype.unmount=Rd.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var n=t.containerInfo;E_(t.current,2,null,t,null,null),rc(),n[ri]=null}};function wc(t){this._internalRoot=t}wc.prototype.unstable_scheduleHydration=function(t){if(t){var n=ru();t={blockedOn:null,target:t,priority:n};for(var a=0;a<Us.length&&n!==0&&n<Us[a].priority;a++);Us.splice(a,0,t),a===0&&R_(t)}};var N_=e.version;if(N_!=="19.2.4")throw Error(r(527,N_,"19.2.4"));te.findDOMNode=function(t){var n=t._reactInternals;if(n===void 0)throw typeof t.render=="function"?Error(r(188)):(t=Object.keys(t).join(","),Error(r(268,t)));return t=y(n),t=t!==null?T(t):null,t=t===null?null:t.stateNode,t};var _1={bundleType:0,version:"19.2.4",rendererPackageName:"react-dom",currentDispatcherRef:G,reconcilerVersion:"19.2.4"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Rc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Rc.isDisabled&&Rc.supportsFiber)try{zn=Rc.inject(_1),Pt=Rc}catch{}}return go.createRoot=function(t,n){if(!o(t))throw Error(r(299));var a=!1,l="",h=Ug,f=jg,g=Pg;return n!=null&&(n.unstable_strictMode===!0&&(a=!0),n.identifierPrefix!==void 0&&(l=n.identifierPrefix),n.onUncaughtError!==void 0&&(h=n.onUncaughtError),n.onCaughtError!==void 0&&(f=n.onCaughtError),n.onRecoverableError!==void 0&&(g=n.onRecoverableError)),n=__(t,1,!1,null,null,a,l,null,h,f,g,I_),t[ri]=n.current,ld(t),new Rd(n)},go.hydrateRoot=function(t,n,a){if(!o(t))throw Error(r(299));var l=!1,h="",f=Ug,g=jg,E=Pg,I=null;return a!=null&&(a.unstable_strictMode===!0&&(l=!0),a.identifierPrefix!==void 0&&(h=a.identifierPrefix),a.onUncaughtError!==void 0&&(f=a.onUncaughtError),a.onCaughtError!==void 0&&(g=a.onCaughtError),a.onRecoverableError!==void 0&&(E=a.onRecoverableError),a.formState!==void 0&&(I=a.formState)),n=__(t,1,!0,n,a??null,l,h,I,f,g,E,I_),n.context=v_(null),a=n.current,l=Tn(),l=cr(l),h=Ts(l),h.callback=null,Ss(a,h,l),a=l,n.current.lanes=a,or(n,a),bi(n),t[ri]=n.current,ld(t),new wc(n)},go.version="19.2.4",go}var z_;function C1(){if(z_)return Id.exports;z_=1;function s(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(s)}catch(e){console.error(e)}}return s(),Id.exports=x1(),Id.exports}var I1=C1();const N1=y0(I1);/**
 * @license lucide-react v0.564.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _0=(...s)=>s.filter((e,i,r)=>!!e&&e.trim()!==""&&r.indexOf(e)===i).join(" ").trim();/**
 * @license lucide-react v0.564.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const D1=s=>s.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase();/**
 * @license lucide-react v0.564.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const O1=s=>s.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,i,r)=>r?r.toUpperCase():i.toLowerCase());/**
 * @license lucide-react v0.564.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const B_=s=>{const e=O1(s);return e.charAt(0).toUpperCase()+e.slice(1)};/**
 * @license lucide-react v0.564.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var M1={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.564.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const V1=s=>{for(const e in s)if(e.startsWith("aria-")||e==="role"||e==="title")return!0;return!1};/**
 * @license lucide-react v0.564.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const k1=We.forwardRef(({color:s="currentColor",size:e=24,strokeWidth:i=2,absoluteStrokeWidth:r,className:o="",children:c,iconNode:d,...p},_)=>We.createElement("svg",{ref:_,...M1,width:e,height:e,stroke:s,strokeWidth:r?Number(i)*24/Number(e):i,className:_0("lucide",o),...!c&&!V1(p)&&{"aria-hidden":"true"},...p},[...d.map(([y,T])=>We.createElement(y,T)),...Array.isArray(c)?c:[c]]));/**
 * @license lucide-react v0.564.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Vt=(s,e)=>{const i=We.forwardRef(({className:r,...o},c)=>We.createElement(k1,{ref:c,iconNode:e,className:_0(`lucide-${D1(B_(s))}`,`lucide-${s}`,r),...o}));return i.displayName=B_(s),i};/**
 * @license lucide-react v0.564.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const L1=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]],U1=Vt("arrow-right",L1);/**
 * @license lucide-react v0.564.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const j1=[["path",{d:"M16 20V4a2 2 0 0 0-2-2h-4a2 2 0 0 0-2 2v16",key:"jecpp"}],["rect",{width:"20",height:"14",x:"2",y:"6",rx:"2",key:"i6l2r4"}]],P1=Vt("briefcase",j1);/**
 * @license lucide-react v0.564.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const z1=[["rect",{width:"16",height:"20",x:"4",y:"2",rx:"2",key:"1nb95v"}],["line",{x1:"8",x2:"16",y1:"6",y2:"6",key:"x4nwl0"}],["line",{x1:"16",x2:"16",y1:"14",y2:"18",key:"wjye3r"}],["path",{d:"M16 10h.01",key:"1m94wz"}],["path",{d:"M12 10h.01",key:"1nrarc"}],["path",{d:"M8 10h.01",key:"19clt8"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M8 14h.01",key:"6423bh"}],["path",{d:"M12 18h.01",key:"mhygvu"}],["path",{d:"M8 18h.01",key:"lrp35t"}]],B1=Vt("calculator",z1);/**
 * @license lucide-react v0.564.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const q1=[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]],H1=Vt("calendar",q1);/**
 * @license lucide-react v0.564.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const F1=[["ellipse",{cx:"12",cy:"5",rx:"9",ry:"3",key:"msslwz"}],["path",{d:"M3 5V19A9 3 0 0 0 21 19V5",key:"1wlel7"}],["path",{d:"M3 12A9 3 0 0 0 21 12",key:"mv7ke4"}]],G1=Vt("database",F1);/**
 * @license lucide-react v0.564.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const K1=[["path",{d:"M12 15V3",key:"m9g1x1"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["path",{d:"m7 10 5 5 5-5",key:"brsn70"}]],Q1=Vt("download",K1);/**
 * @license lucide-react v0.564.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Y1=[["path",{d:"M6 22a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h8a2.4 2.4 0 0 1 1.704.706l3.588 3.588A2.4 2.4 0 0 1 20 8v12a2 2 0 0 1-2 2z",key:"1oefj6"}],["path",{d:"M14 2v5a1 1 0 0 0 1 1h5",key:"wfsgrz"}],["path",{d:"m9 15 2 2 4-4",key:"1grp1n"}]],X1=Vt("file-check",Y1);/**
 * @license lucide-react v0.564.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const J1=[["path",{d:"M6 22a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h8a2.4 2.4 0 0 1 1.704.706l3.588 3.588A2.4 2.4 0 0 1 20 8v12a2 2 0 0 1-2 2z",key:"1oefj6"}],["path",{d:"M14 2v5a1 1 0 0 0 1 1h5",key:"wfsgrz"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]],$1=Vt("file-text",J1);/**
 * @license lucide-react v0.564.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Z1=[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]],v0=Vt("loader-circle",Z1);/**
 * @license lucide-react v0.564.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const W1=[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}],["path",{d:"m15 5 4 4",key:"1mk7zo"}]],eS=Vt("pencil",W1);/**
 * @license lucide-react v0.564.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tS=[["path",{d:"M6 18H4a2 2 0 0 1-2-2v-5a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2v5a2 2 0 0 1-2 2h-2",key:"143wyd"}],["path",{d:"M6 9V3a1 1 0 0 1 1-1h10a1 1 0 0 1 1 1v6",key:"1itne7"}],["rect",{x:"6",y:"14",width:"12",height:"8",rx:"1",key:"1ue0tg"}]],nS=Vt("printer",tS);/**
 * @license lucide-react v0.564.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const iS=[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]],sS=Vt("save",iS);/**
 * @license lucide-react v0.564.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rS=[["path",{d:"m21 21-4.34-4.34",key:"14j7rj"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}]],aS=Vt("search",rS);/**
 * @license lucide-react v0.564.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lS=[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]],oS=Vt("trash-2",lS);/**
 * @license lucide-react v0.564.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uS=[["path",{d:"M12 3v12",key:"1x0j5s"}],["path",{d:"m17 8-5-5-5 5",key:"7q97r8"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}]],cS=Vt("upload",uS);/**
 * @license lucide-react v0.564.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hS=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"19",x2:"19",y1:"8",y2:"14",key:"1bvyxn"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]],fS=Vt("user-plus",hS);/**
 * @license lucide-react v0.564.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dS=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["path",{d:"M16 3.128a4 4 0 0 1 0 7.744",key:"16gr8j"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]],mS=Vt("users",dS);/**
 * @license lucide-react v0.564.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pS=[["path",{d:"M12 20h.01",key:"zekei9"}],["path",{d:"M8.5 16.429a5 5 0 0 1 7 0",key:"1bycff"}],["path",{d:"M5 12.859a10 10 0 0 1 5.17-2.69",key:"1dl1wf"}],["path",{d:"M19 12.859a10 10 0 0 0-2.007-1.523",key:"4k23kn"}],["path",{d:"M2 8.82a15 15 0 0 1 4.177-2.643",key:"1grhjp"}],["path",{d:"M22 8.82a15 15 0 0 0-11.288-3.764",key:"z3jwby"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]],gS=Vt("wifi-off",pS);/**
 * @license lucide-react v0.564.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yS=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],_S=Vt("x",yS),vS=({activeTab:s,setActiveTab:e,resetSelection:i})=>{const r=We.useRef(null),o=({tab:p,icon:_,label:y})=>b.jsxs("button",{onClick:()=>{p==="add"&&i(),e(p)},className:`w-full flex items-center gap-3 p-4 rounded-xl transition-all duration-200 group ${s===p?"bg-blue-600 text-white shadow-lg shadow-blue-900/20":"text-slate-400 hover:bg-slate-800 hover:text-white"}`,children:[b.jsx(_,{size:20,className:s===p?"text-white":"text-slate-500 group-hover:text-white"}),b.jsx("span",{className:"text-sm font-semibold tracking-wide text-left flex-1",children:y}),s===p&&b.jsx("div",{className:"w-1.5 h-1.5 rounded-full bg-white animate-pulse"})]}),c=()=>{const p=localStorage.getItem("hassi_berkane_data"),_=localStorage.getItem("hassi_berkane_monthly"),y={employees:p?JSON.parse(p):[],monthly:_?JSON.parse(_):{}},T=new Blob([JSON.stringify(y,null,2)],{type:"application/json"}),A=URL.createObjectURL(T),x=document.createElement("a");x.href=A,x.download=`hassi_berkane_db_${new Date().toISOString().split("T")[0]}.json`,document.body.appendChild(x),x.click(),document.body.removeChild(x),URL.revokeObjectURL(A)},d=p=>{var T;const _=(T=p.target.files)==null?void 0:T[0];if(!_)return;if(!window.confirm("Attention : L'importation va craser les donnes actuelles. Voulez-vous continuer ?")){r.current&&(r.current.value="");return}const y=new FileReader;y.onload=A=>{var x;try{const B=(x=A.target)==null?void 0:x.result,K=JSON.parse(B);K.employees&&localStorage.setItem("hassi_berkane_data",JSON.stringify(K.employees)),K.monthly&&localStorage.setItem("hassi_berkane_monthly",JSON.stringify(K.monthly)),alert("Donnes importes avec succs ! La page va se recharger."),window.location.reload()}catch(B){alert("Erreur : Le fichier semble invalide."),console.error(B)}},y.readAsText(_)};return b.jsxs("aside",{className:"w-full md:w-72 bg-slate-900 text-white p-6 print:hidden shadow-2xl flex-shrink-0 flex flex-col h-auto md:h-screen sticky top-0",children:[b.jsxs("div",{className:"mb-10 pt-4 flex flex-col items-center border-b border-slate-800 pb-8",children:[b.jsx("div",{className:"bg-gradient-to-br from-blue-600 to-indigo-700 p-4 rounded-2xl shadow-lg mb-4 text-white",children:b.jsx(P1,{size:32,strokeWidth:1.5})}),b.jsx("h1",{className:"text-xl font-extrabold tracking-tight uppercase",children:"Hassi Berkane"}),b.jsx("p",{className:"text-[11px] font-bold text-blue-400 mt-1 uppercase tracking-[0.2em]",children:"Ressources Humaines"})]}),b.jsxs("nav",{className:"flex-1 space-y-2 overflow-y-auto pr-2 custom-scrollbar",children:[b.jsx("div",{className:"px-4 pb-2 pt-2 text-[10px] font-black text-slate-600 uppercase tracking-widest",children:"Gestion"}),b.jsx(o,{tab:"list",icon:mS,label:"Registre Agents"}),b.jsx(o,{tab:"add",icon:fS,label:"Inscrire Agent"}),b.jsx("div",{className:"px-4 pb-2 pt-8 text-[10px] font-black text-slate-600 uppercase tracking-widest",children:"Documents"}),b.jsx(o,{tab:"decision",icon:X1,label:"Dcision"}),b.jsx(o,{tab:"engagement",icon:$1,label:"Engagement"}),b.jsx(o,{tab:"liquidation",icon:B1,label:"Liquidation"}),b.jsx("div",{className:"px-4 pb-2 pt-8 text-[10px] font-black text-slate-600 uppercase tracking-widest",children:"Base de Donnes"}),b.jsxs("button",{onClick:c,className:"w-full flex items-center gap-3 p-4 rounded-xl text-slate-400 hover:bg-slate-800 hover:text-white transition-all duration-200 group",children:[b.jsx(Q1,{size:20,className:"text-slate-500 group-hover:text-white"}),b.jsx("span",{className:"text-sm font-semibold tracking-wide text-left flex-1",children:"Sauvegarder"})]}),b.jsxs("button",{onClick:()=>{var p;return(p=r.current)==null?void 0:p.click()},className:"w-full flex items-center gap-3 p-4 rounded-xl text-slate-400 hover:bg-slate-800 hover:text-white transition-all duration-200 group",children:[b.jsx(cS,{size:20,className:"text-slate-500 group-hover:text-white"}),b.jsx("span",{className:"text-sm font-semibold tracking-wide text-left flex-1",children:"Restaurer"})]}),b.jsx("input",{type:"file",ref:r,className:"hidden",accept:".json",onChange:d})]}),b.jsxs("div",{className:"mt-auto pt-6 text-center text-slate-600 border-t border-slate-800",children:[b.jsx("p",{className:"text-[10px] mb-2 font-medium",children:"v2.1.0  Local Storage"}),b.jsx("p",{id:"_sys_integrity_sig_",className:"text-[9px] font-mono text-slate-700 select-none opacity-60 hover:opacity-100 transition-opacity",children:"DEVLOPPED with <3 by Pr. Malsah Moumen"})]})]})},ES=({employees:s,onEdit:e,onDelete:i,onManageDocs:r})=>{const[o,c]=We.useState(""),d=We.useMemo(()=>s.filter(p=>`${p.nom} ${p.prenom} ${p.cin}`.toLowerCase().includes(o.toLowerCase())),[s,o]);return b.jsxs("div",{className:"max-w-6xl mx-auto animate-in fade-in slide-in-from-bottom-4 duration-500",children:[b.jsxs("header",{className:"mb-10 flex flex-col md:flex-row md:items-center justify-between gap-6",children:[b.jsxs("div",{children:[b.jsx("h2",{className:"text-4xl font-black text-slate-800 tracking-tighter uppercase mb-1",children:"Registre"}),b.jsx("p",{className:"text-slate-500 font-medium",children:"Gestion du personnel communal"})]}),b.jsxs("div",{className:"relative w-full md:w-96 group",children:[b.jsx(aS,{className:"absolute left-4 top-1/2 -translate-y-1/2 text-slate-400 group-focus-within:text-blue-500 transition-colors",size:20}),b.jsx("input",{type:"text",placeholder:"Rechercher nom, CIN...",className:"pl-12 pr-6 py-4 bg-white border border-slate-200 rounded-2xl outline-none w-full shadow-sm focus:ring-4 focus:ring-blue-500/10 focus:border-blue-500 transition-all font-medium",value:o,onChange:p=>c(p.target.value)})]})]}),d.length===0?b.jsx("div",{className:"text-center py-20 bg-white rounded-3xl border border-dashed border-slate-200",children:b.jsx("p",{className:"text-slate-400 font-medium",children:"Aucun agent trouv"})}):b.jsx("div",{className:"grid grid-cols-1 lg:grid-cols-2 xl:grid-cols-3 gap-6",children:d.map(p=>b.jsxs("div",{className:"bg-white p-6 rounded-3xl shadow-[0_2px_10px_-4px_rgba(0,0,0,0.05)] border border-slate-100 hover:shadow-xl hover:-translate-y-1 transition-all duration-300 group flex flex-col",children:[b.jsxs("div",{className:"flex justify-between items-start mb-4",children:[b.jsx("span",{className:"bg-slate-100 text-slate-600 px-3 py-1.5 rounded-lg text-[11px] font-extrabold tracking-widest font-arial uppercase",children:p.cin}),b.jsxs("div",{className:"flex gap-1 opacity-0 group-hover:opacity-100 transition-opacity",children:[b.jsx("button",{onClick:()=>e(p.id),className:"p-2 text-slate-400 hover:text-blue-600 hover:bg-blue-50 rounded-full transition-colors",children:b.jsx(eS,{size:16})}),b.jsx("button",{onClick:()=>i(p.id),className:"p-2 text-slate-400 hover:text-red-600 hover:bg-red-50 rounded-full transition-colors",children:b.jsx(oS,{size:16})})]})]}),b.jsxs("div",{className:"flex-1 mb-6",children:[b.jsxs("h4",{className:"text-xl font-black text-slate-800 leading-tight mb-1 uppercase truncate",title:`${p.nom} ${p.prenom}`,children:[p.nom," ",b.jsx("span",{className:"text-slate-500 font-bold",children:p.prenom})]}),b.jsx("p",{className:"text-xs text-blue-600 font-bold uppercase tracking-wide truncate",children:p.emploi})]}),b.jsxs("button",{onClick:()=>r(p.id),className:"w-full bg-slate-50 text-slate-700 hover:bg-blue-600 hover:text-white py-3 rounded-xl text-xs font-bold uppercase tracking-wider transition-all flex items-center justify-center gap-2 group-hover:shadow-lg",children:[b.jsx("span",{children:"Dossier"}),b.jsx(U1,{size:14})]})]},p.id))})]})},Yd={"Ouvrier Qualifi":105.4,"Ouvrire Qualifie":105.4,"Ouvrier Spcialis":100.4,"Ouvrire Spcialise":100.4,"Ouvrier Non Spcialis":93,"Ouvrire Non Spcialise":93},E0=["Secrtariat au bureau dordre","Secrtaire au bureau dtat civil","Service de recette","La lgalisation de la signature et la certification des documents conforme  loriginal","Conducteur dautomobile de service","Conducteur dautomobile de service et des ambulances de la commune et du centre hospitalier de HASSI BERKANE et camion  usage de ramassage des ordures mnagres.","Conducteur dengin (trax) de la commune","Nettoyage de la maison communale","Gardien de parc automobile de la commune","Ramassage des ordures mnagres du centre communal","Service du parc automobile communal","Agent entretien et rparation du rseau lectrique communal"],b0=["Janvier","Fvrier","Mars","Avril","Mai","Juin","Juillet","Aot","Septembre","Octobre","Novembre","Dcembre"],Md={nom:"",prenom:"",cin:"",rib:"",bankName:"Al Barid Bank",codeBudget:"1020201014",emploi:"Ouvrier Spcialis",fonction:E0[5],rcarEnabled:!1},ja=({label:s,value:e,onChange:i,placeholder:r,uppercase:o=!1})=>b.jsxs("div",{className:"space-y-2",children:[b.jsx("label",{className:"text-xs font-bold text-slate-500 uppercase tracking-wider ml-1",children:s}),b.jsx("input",{required:!0,placeholder:r,value:e,onChange:c=>i(c.target.value),className:`w-full px-5 py-3.5 bg-slate-50 border-transparent border focus:bg-white rounded-2xl outline-none focus:ring-4 focus:ring-blue-500/10 focus:border-blue-500 font-bold transition-all ${o?"uppercase":""}`})]}),bS=({initialData:s,onSave:e,onCancel:i})=>{const[r,o]=We.useState(Md);We.useEffect(()=>{if(s){const{id:d,...p}=s;o({...Md,...p})}else o(Md)},[s]);const c=d=>{d.preventDefault();const p={...r,nom:r.nom.toUpperCase(),cin:r.cin.toUpperCase(),codeBudget:r.codeBudget};e(p)};return b.jsx("div",{className:"max-w-2xl mx-auto animate-in zoom-in-95 duration-300",children:b.jsxs("div",{className:"bg-white p-8 md:p-12 rounded-[2.5rem] shadow-xl border border-slate-100 relative overflow-hidden",children:[b.jsx("div",{className:"absolute top-0 left-0 w-full h-2 bg-gradient-to-r from-blue-500 to-indigo-600"}),b.jsx("h2",{className:"text-3xl font-black text-slate-800 mb-8 tracking-tight uppercase",children:s?"Modifier Agent":"Nouvel Agent"}),b.jsxs("form",{onSubmit:c,className:"space-y-8",children:[b.jsxs("div",{className:"grid grid-cols-2 gap-6",children:[b.jsx(ja,{label:"Nom",placeholder:"BEN...",value:r.nom,onChange:d=>o({...r,nom:d}),uppercase:!0}),b.jsx(ja,{label:"Prnom",placeholder:"...",value:r.prenom,onChange:d=>o({...r,prenom:d})})]}),b.jsxs("div",{className:"grid grid-cols-2 gap-6",children:[b.jsx(ja,{label:"CIN",placeholder:"R...",value:r.cin,onChange:d=>o({...r,cin:d}),uppercase:!0}),b.jsx(ja,{label:"Banque",placeholder:"Al Barid Bank",value:r.bankName,onChange:d=>o({...r,bankName:d})})]}),b.jsx(ja,{label:"RIB",placeholder:"24...",value:r.rib,onChange:d=>o({...r,rib:d})}),b.jsxs("div",{className:"space-y-2",children:[b.jsx("label",{className:"text-xs font-bold text-slate-500 uppercase tracking-wider ml-1",children:"Grade / Salaire"}),b.jsxs("div",{className:"relative",children:[b.jsx("select",{value:r.emploi,onChange:d=>o({...r,emploi:d.target.value}),className:"w-full px-5 py-4 bg-slate-50 border-transparent border focus:bg-white rounded-2xl outline-none focus:ring-4 focus:ring-blue-500/10 focus:border-blue-500 font-bold cursor-pointer appearance-none",children:Object.keys(Yd).map(d=>b.jsxs("option",{value:d,children:[d," (",Yd[d].toFixed(2)," dh/j)"]},d))}),b.jsx("div",{className:"absolute right-5 top-1/2 -translate-y-1/2 pointer-events-none text-slate-400",children:""})]})]}),b.jsxs("div",{className:"space-y-2",children:[b.jsx("label",{className:"text-xs font-bold text-slate-500 uppercase tracking-wider ml-1",children:"Fonction"}),b.jsxs("div",{className:"relative",children:[b.jsx("select",{value:r.fonction,onChange:d=>o({...r,fonction:d.target.value}),className:"w-full px-5 py-4 bg-slate-50 border-transparent border focus:bg-white rounded-2xl outline-none focus:ring-4 focus:ring-blue-500/10 focus:border-blue-500 font-bold text-sm appearance-none",children:E0.map(d=>b.jsx("option",{value:d,children:d},d))}),b.jsx("div",{className:"absolute right-5 top-1/2 -translate-y-1/2 pointer-events-none text-slate-400",children:""})]})]}),b.jsx(ja,{label:"Code Budget",placeholder:"10.20...",value:r.codeBudget,onChange:d=>o({...r,codeBudget:d})}),b.jsxs("label",{className:"flex items-center gap-4 p-5 bg-blue-50 rounded-2xl border border-blue-100 cursor-pointer group hover:bg-blue-100 transition-colors",children:[b.jsxs("div",{className:"relative flex items-center",children:[b.jsx("input",{type:"checkbox",checked:r.rcarEnabled,onChange:d=>o({...r,rcarEnabled:d.target.checked}),className:"peer w-6 h-6 border-2 border-slate-300 rounded-md checked:bg-blue-600 checked:border-blue-600 focus:ring-4 focus:ring-blue-200 transition-all appearance-none cursor-pointer"}),b.jsx("svg",{className:"absolute w-4 h-4 text-white left-1 pointer-events-none opacity-0 peer-checked:opacity-100 transition-opacity",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"4",children:b.jsx("polyline",{points:"20 6 9 17 4 12"})})]}),b.jsx("span",{className:"text-sm font-bold text-slate-700 uppercase group-hover:text-blue-800",children:"Appliquer retenue R.C.A.R (6%)"})]}),b.jsxs("div",{className:"flex gap-4 pt-4 border-t border-slate-50",children:[s&&b.jsxs("button",{type:"button",onClick:i,className:"flex-1 bg-white border-2 border-slate-200 text-slate-500 py-4 rounded-2xl font-black text-xs uppercase hover:bg-slate-50 hover:text-slate-800 transition-all flex items-center justify-center gap-2",children:[b.jsx(_S,{size:18})," Annuler"]}),b.jsxs("button",{type:"submit",className:"flex-[2] bg-blue-600 text-white py-4 rounded-2xl font-black text-xs uppercase tracking-widest shadow-xl shadow-blue-500/30 hover:bg-blue-700 hover:-translate-y-1 transition-all flex items-center justify-center gap-2",children:[b.jsx(sS,{size:18})," Enregistrer"]})]})]})]})})},TS=()=>{};var q_={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const T0=function(s){const e=[];let i=0;for(let r=0;r<s.length;r++){let o=s.charCodeAt(r);o<128?e[i++]=o:o<2048?(e[i++]=o>>6|192,e[i++]=o&63|128):(o&64512)===55296&&r+1<s.length&&(s.charCodeAt(r+1)&64512)===56320?(o=65536+((o&1023)<<10)+(s.charCodeAt(++r)&1023),e[i++]=o>>18|240,e[i++]=o>>12&63|128,e[i++]=o>>6&63|128,e[i++]=o&63|128):(e[i++]=o>>12|224,e[i++]=o>>6&63|128,e[i++]=o&63|128)}return e},SS=function(s){const e=[];let i=0,r=0;for(;i<s.length;){const o=s[i++];if(o<128)e[r++]=String.fromCharCode(o);else if(o>191&&o<224){const c=s[i++];e[r++]=String.fromCharCode((o&31)<<6|c&63)}else if(o>239&&o<365){const c=s[i++],d=s[i++],p=s[i++],_=((o&7)<<18|(c&63)<<12|(d&63)<<6|p&63)-65536;e[r++]=String.fromCharCode(55296+(_>>10)),e[r++]=String.fromCharCode(56320+(_&1023))}else{const c=s[i++],d=s[i++];e[r++]=String.fromCharCode((o&15)<<12|(c&63)<<6|d&63)}}return e.join("")},S0={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(s,e){if(!Array.isArray(s))throw Error("encodeByteArray takes an array as a parameter");this.init_();const i=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let o=0;o<s.length;o+=3){const c=s[o],d=o+1<s.length,p=d?s[o+1]:0,_=o+2<s.length,y=_?s[o+2]:0,T=c>>2,A=(c&3)<<4|p>>4;let x=(p&15)<<2|y>>6,B=y&63;_||(B=64,d||(x=64)),r.push(i[T],i[A],i[x],i[B])}return r.join("")},encodeString(s,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(s):this.encodeByteArray(T0(s),e)},decodeString(s,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(s):SS(this.decodeStringToByteArray(s,e))},decodeStringToByteArray(s,e){this.init_();const i=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let o=0;o<s.length;){const c=i[s.charAt(o++)],p=o<s.length?i[s.charAt(o)]:0;++o;const y=o<s.length?i[s.charAt(o)]:64;++o;const A=o<s.length?i[s.charAt(o)]:64;if(++o,c==null||p==null||y==null||A==null)throw new AS;const x=c<<2|p>>4;if(r.push(x),y!==64){const B=p<<4&240|y>>2;if(r.push(B),A!==64){const K=y<<6&192|A;r.push(K)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let s=0;s<this.ENCODED_VALS.length;s++)this.byteToCharMap_[s]=this.ENCODED_VALS.charAt(s),this.charToByteMap_[this.byteToCharMap_[s]]=s,this.byteToCharMapWebSafe_[s]=this.ENCODED_VALS_WEBSAFE.charAt(s),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[s]]=s,s>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(s)]=s,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(s)]=s)}}};class AS extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const wS=function(s){const e=T0(s);return S0.encodeByteArray(e,!0)},Hc=function(s){return wS(s).replace(/\./g,"")},A0=function(s){try{return S0.decodeString(s,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function RS(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xS=()=>RS().__FIREBASE_DEFAULTS__,CS=()=>{if(typeof process>"u"||typeof q_>"u")return;const s=q_.__FIREBASE_DEFAULTS__;if(s)return JSON.parse(s)},IS=()=>{if(typeof document>"u")return;let s;try{s=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=s&&A0(s[1]);return e&&JSON.parse(e)},oh=()=>{try{return TS()||xS()||CS()||IS()}catch(s){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${s}`);return}},w0=s=>{var e,i;return(i=(e=oh())==null?void 0:e.emulatorHosts)==null?void 0:i[s]},NS=s=>{const e=w0(s);if(!e)return;const i=e.lastIndexOf(":");if(i<=0||i+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(i+1),10);return e[0]==="["?[e.substring(1,i-1),r]:[e.substring(0,i),r]},R0=()=>{var s;return(s=oh())==null?void 0:s.config},x0=s=>{var e;return(e=oh())==null?void 0:e[`_${s}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DS{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,i)=>{this.resolve=e,this.reject=i})}wrapCallback(e){return(i,r)=>{i?this.reject(i):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(i):e(i,r))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function il(s){try{return(s.startsWith("http://")||s.startsWith("https://")?new URL(s).hostname:s).endsWith(".cloudworkstations.dev")}catch{return!1}}async function C0(s){return(await fetch(s,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function OS(s,e){if(s.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const i={alg:"none",type:"JWT"},r=e||"demo-project",o=s.iat||0,c=s.sub||s.user_id;if(!c)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const d={iss:`https://securetoken.google.com/${r}`,aud:r,iat:o,exp:o+3600,auth_time:o,sub:c,user_id:c,firebase:{sign_in_provider:"custom",identities:{}},...s};return[Hc(JSON.stringify(i)),Hc(JSON.stringify(d)),""].join(".")}const To={};function MS(){const s={prod:[],emulator:[]};for(const e of Object.keys(To))To[e]?s.emulator.push(e):s.prod.push(e);return s}function VS(s){let e=document.getElementById(s),i=!1;return e||(e=document.createElement("div"),e.setAttribute("id",s),i=!0),{created:i,element:e}}let H_=!1;function I0(s,e){if(typeof window>"u"||typeof document>"u"||!il(window.location.host)||To[s]===e||To[s]||H_)return;To[s]=e;function i(x){return`__firebase__banner__${x}`}const r="__firebase__banner",c=MS().prod.length>0;function d(){const x=document.getElementById(r);x&&x.remove()}function p(x){x.style.display="flex",x.style.background="#7faaf0",x.style.position="fixed",x.style.bottom="5px",x.style.left="5px",x.style.padding=".5em",x.style.borderRadius="5px",x.style.alignItems="center"}function _(x,B){x.setAttribute("width","24"),x.setAttribute("id",B),x.setAttribute("height","24"),x.setAttribute("viewBox","0 0 24 24"),x.setAttribute("fill","none"),x.style.marginLeft="-6px"}function y(){const x=document.createElement("span");return x.style.cursor="pointer",x.style.marginLeft="16px",x.style.fontSize="24px",x.innerHTML=" &times;",x.onclick=()=>{H_=!0,d()},x}function T(x,B){x.setAttribute("id",B),x.innerText="Learn more",x.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",x.setAttribute("target","__blank"),x.style.paddingLeft="5px",x.style.textDecoration="underline"}function A(){const x=VS(r),B=i("text"),K=document.getElementById(B)||document.createElement("span"),Z=i("learnmore"),W=document.getElementById(Z)||document.createElement("a"),ae=i("preprendIcon"),ue=document.getElementById(ae)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(x.created){const he=x.element;p(he),T(W,Z);const ke=y();_(ue,ae),he.append(ue,K,W,ke),document.body.appendChild(he)}c?(K.innerText="Preview backend disconnected.",ue.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(ue.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,K.innerText="Preview backend running in this workspace."),K.setAttribute("id",B)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",A):A()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Wt(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function kS(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Wt())}function LS(){var e;const s=(e=oh())==null?void 0:e.forceEnvironment;if(s==="node")return!0;if(s==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function US(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function jS(){const s=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof s=="object"&&s.id!==void 0}function PS(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function zS(){const s=Wt();return s.indexOf("MSIE ")>=0||s.indexOf("Trident/")>=0}function BS(){return!LS()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function qS(){try{return typeof indexedDB=="object"}catch{return!1}}function HS(){return new Promise((s,e)=>{try{let i=!0;const r="validate-browser-context-for-indexeddb-analytics-module",o=self.indexedDB.open(r);o.onsuccess=()=>{o.result.close(),i||self.indexedDB.deleteDatabase(r),s(!0)},o.onupgradeneeded=()=>{i=!1},o.onerror=()=>{var c;e(((c=o.error)==null?void 0:c.message)||"")}}catch(i){e(i)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const FS="FirebaseError";class rs extends Error{constructor(e,i,r){super(i),this.code=e,this.customData=r,this.name=FS,Object.setPrototypeOf(this,rs.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,zo.prototype.create)}}class zo{constructor(e,i,r){this.service=e,this.serviceName=i,this.errors=r}create(e,...i){const r=i[0]||{},o=`${this.service}/${e}`,c=this.errors[e],d=c?GS(c,r):"Error",p=`${this.serviceName}: ${d} (${o}).`;return new rs(o,p,r)}}function GS(s,e){return s.replace(KS,(i,r)=>{const o=e[r];return o!=null?String(o):`<${r}?>`})}const KS=/\{\$([^}]+)}/g;function QS(s){for(const e in s)if(Object.prototype.hasOwnProperty.call(s,e))return!1;return!0}function Pr(s,e){if(s===e)return!0;const i=Object.keys(s),r=Object.keys(e);for(const o of i){if(!r.includes(o))return!1;const c=s[o],d=e[o];if(F_(c)&&F_(d)){if(!Pr(c,d))return!1}else if(c!==d)return!1}for(const o of r)if(!i.includes(o))return!1;return!0}function F_(s){return s!==null&&typeof s=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Bo(s){const e=[];for(const[i,r]of Object.entries(s))Array.isArray(r)?r.forEach(o=>{e.push(encodeURIComponent(i)+"="+encodeURIComponent(o))}):e.push(encodeURIComponent(i)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function YS(s,e){const i=new XS(s,e);return i.subscribe.bind(i)}class XS{constructor(e,i){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=i,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(i=>{i.next(e)})}error(e){this.forEachObserver(i=>{i.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,i,r){let o;if(e===void 0&&i===void 0&&r===void 0)throw new Error("Missing Observer.");JS(e,["next","error","complete"])?o=e:o={next:e,error:i,complete:r},o.next===void 0&&(o.next=Vd),o.error===void 0&&(o.error=Vd),o.complete===void 0&&(o.complete=Vd);const c=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?o.error(this.finalError):o.complete()}catch{}}),this.observers.push(o),c}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let i=0;i<this.observers.length;i++)this.sendOne(i,e)}sendOne(e,i){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{i(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function JS(s,e){if(typeof s!="object"||s===null)return!1;for(const i of e)if(i in s&&typeof s[i]=="function")return!0;return!1}function Vd(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sn(s){return s&&s._delegate?s._delegate:s}class zr{constructor(e,i,r){this.name=e,this.instanceFactory=i,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kr="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $S{constructor(e,i){this.name=e,this.container=i,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const i=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(i)){const r=new DS;if(this.instancesDeferred.set(i,r),this.isInitialized(i)||this.shouldAutoInitialize())try{const o=this.getOrInitializeService({instanceIdentifier:i});o&&r.resolve(o)}catch{}}return this.instancesDeferred.get(i).promise}getImmediate(e){const i=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),r=(e==null?void 0:e.optional)??!1;if(this.isInitialized(i)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:i})}catch(o){if(r)return null;throw o}else{if(r)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(WS(e))try{this.getOrInitializeService({instanceIdentifier:kr})}catch{}for(const[i,r]of this.instancesDeferred.entries()){const o=this.normalizeInstanceIdentifier(i);try{const c=this.getOrInitializeService({instanceIdentifier:o});r.resolve(c)}catch{}}}}clearInstance(e=kr){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(i=>"INTERNAL"in i).map(i=>i.INTERNAL.delete()),...e.filter(i=>"_delete"in i).map(i=>i._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=kr){return this.instances.has(e)}getOptions(e=kr){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:i={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const o=this.getOrInitializeService({instanceIdentifier:r,options:i});for(const[c,d]of this.instancesDeferred.entries()){const p=this.normalizeInstanceIdentifier(c);r===p&&d.resolve(o)}return o}onInit(e,i){const r=this.normalizeInstanceIdentifier(i),o=this.onInitCallbacks.get(r)??new Set;o.add(e),this.onInitCallbacks.set(r,o);const c=this.instances.get(r);return c&&e(c,r),()=>{o.delete(e)}}invokeOnInitCallbacks(e,i){const r=this.onInitCallbacks.get(i);if(r)for(const o of r)try{o(e,i)}catch{}}getOrInitializeService({instanceIdentifier:e,options:i={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:ZS(e),options:i}),this.instances.set(e,r),this.instancesOptions.set(e,i),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=kr){return this.component?this.component.multipleInstances?e:kr:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function ZS(s){return s===kr?void 0:s}function WS(s){return s.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eA{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const i=this.getProvider(e.name);if(i.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);i.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const i=new $S(e,this);return this.providers.set(e,i),i}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ie;(function(s){s[s.DEBUG=0]="DEBUG",s[s.VERBOSE=1]="VERBOSE",s[s.INFO=2]="INFO",s[s.WARN=3]="WARN",s[s.ERROR=4]="ERROR",s[s.SILENT=5]="SILENT"})(Ie||(Ie={}));const tA={debug:Ie.DEBUG,verbose:Ie.VERBOSE,info:Ie.INFO,warn:Ie.WARN,error:Ie.ERROR,silent:Ie.SILENT},nA=Ie.INFO,iA={[Ie.DEBUG]:"log",[Ie.VERBOSE]:"log",[Ie.INFO]:"info",[Ie.WARN]:"warn",[Ie.ERROR]:"error"},sA=(s,e,...i)=>{if(e<s.logLevel)return;const r=new Date().toISOString(),o=iA[e];if(o)console[o](`[${r}]  ${s.name}:`,...i);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class Tm{constructor(e){this.name=e,this._logLevel=nA,this._logHandler=sA,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Ie))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?tA[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Ie.DEBUG,...e),this._logHandler(this,Ie.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Ie.VERBOSE,...e),this._logHandler(this,Ie.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Ie.INFO,...e),this._logHandler(this,Ie.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Ie.WARN,...e),this._logHandler(this,Ie.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Ie.ERROR,...e),this._logHandler(this,Ie.ERROR,...e)}}const rA=(s,e)=>e.some(i=>s instanceof i);let G_,K_;function aA(){return G_||(G_=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function lA(){return K_||(K_=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const N0=new WeakMap,Xd=new WeakMap,D0=new WeakMap,kd=new WeakMap,Sm=new WeakMap;function oA(s){const e=new Promise((i,r)=>{const o=()=>{s.removeEventListener("success",c),s.removeEventListener("error",d)},c=()=>{i(Gs(s.result)),o()},d=()=>{r(s.error),o()};s.addEventListener("success",c),s.addEventListener("error",d)});return e.then(i=>{i instanceof IDBCursor&&N0.set(i,s)}).catch(()=>{}),Sm.set(e,s),e}function uA(s){if(Xd.has(s))return;const e=new Promise((i,r)=>{const o=()=>{s.removeEventListener("complete",c),s.removeEventListener("error",d),s.removeEventListener("abort",d)},c=()=>{i(),o()},d=()=>{r(s.error||new DOMException("AbortError","AbortError")),o()};s.addEventListener("complete",c),s.addEventListener("error",d),s.addEventListener("abort",d)});Xd.set(s,e)}let Jd={get(s,e,i){if(s instanceof IDBTransaction){if(e==="done")return Xd.get(s);if(e==="objectStoreNames")return s.objectStoreNames||D0.get(s);if(e==="store")return i.objectStoreNames[1]?void 0:i.objectStore(i.objectStoreNames[0])}return Gs(s[e])},set(s,e,i){return s[e]=i,!0},has(s,e){return s instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in s}};function cA(s){Jd=s(Jd)}function hA(s){return s===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...i){const r=s.call(Ld(this),e,...i);return D0.set(r,e.sort?e.sort():[e]),Gs(r)}:lA().includes(s)?function(...e){return s.apply(Ld(this),e),Gs(N0.get(this))}:function(...e){return Gs(s.apply(Ld(this),e))}}function fA(s){return typeof s=="function"?hA(s):(s instanceof IDBTransaction&&uA(s),rA(s,aA())?new Proxy(s,Jd):s)}function Gs(s){if(s instanceof IDBRequest)return oA(s);if(kd.has(s))return kd.get(s);const e=fA(s);return e!==s&&(kd.set(s,e),Sm.set(e,s)),e}const Ld=s=>Sm.get(s);function dA(s,e,{blocked:i,upgrade:r,blocking:o,terminated:c}={}){const d=indexedDB.open(s,e),p=Gs(d);return r&&d.addEventListener("upgradeneeded",_=>{r(Gs(d.result),_.oldVersion,_.newVersion,Gs(d.transaction),_)}),i&&d.addEventListener("blocked",_=>i(_.oldVersion,_.newVersion,_)),p.then(_=>{c&&_.addEventListener("close",()=>c()),o&&_.addEventListener("versionchange",y=>o(y.oldVersion,y.newVersion,y))}).catch(()=>{}),p}const mA=["get","getKey","getAll","getAllKeys","count"],pA=["put","add","delete","clear"],Ud=new Map;function Q_(s,e){if(!(s instanceof IDBDatabase&&!(e in s)&&typeof e=="string"))return;if(Ud.get(e))return Ud.get(e);const i=e.replace(/FromIndex$/,""),r=e!==i,o=pA.includes(i);if(!(i in(r?IDBIndex:IDBObjectStore).prototype)||!(o||mA.includes(i)))return;const c=async function(d,...p){const _=this.transaction(d,o?"readwrite":"readonly");let y=_.store;return r&&(y=y.index(p.shift())),(await Promise.all([y[i](...p),o&&_.done]))[0]};return Ud.set(e,c),c}cA(s=>({...s,get:(e,i,r)=>Q_(e,i)||s.get(e,i,r),has:(e,i)=>!!Q_(e,i)||s.has(e,i)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gA{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(i=>{if(yA(i)){const r=i.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(i=>i).join(" ")}}function yA(s){const e=s.getComponent();return(e==null?void 0:e.type)==="VERSION"}const $d="@firebase/app",Y_="0.14.8";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Wi=new Tm("@firebase/app"),_A="@firebase/app-compat",vA="@firebase/analytics-compat",EA="@firebase/analytics",bA="@firebase/app-check-compat",TA="@firebase/app-check",SA="@firebase/auth",AA="@firebase/auth-compat",wA="@firebase/database",RA="@firebase/data-connect",xA="@firebase/database-compat",CA="@firebase/functions",IA="@firebase/functions-compat",NA="@firebase/installations",DA="@firebase/installations-compat",OA="@firebase/messaging",MA="@firebase/messaging-compat",VA="@firebase/performance",kA="@firebase/performance-compat",LA="@firebase/remote-config",UA="@firebase/remote-config-compat",jA="@firebase/storage",PA="@firebase/storage-compat",zA="@firebase/firestore",BA="@firebase/ai",qA="@firebase/firestore-compat",HA="firebase",FA="12.9.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Zd="[DEFAULT]",GA={[$d]:"fire-core",[_A]:"fire-core-compat",[EA]:"fire-analytics",[vA]:"fire-analytics-compat",[TA]:"fire-app-check",[bA]:"fire-app-check-compat",[SA]:"fire-auth",[AA]:"fire-auth-compat",[wA]:"fire-rtdb",[RA]:"fire-data-connect",[xA]:"fire-rtdb-compat",[CA]:"fire-fn",[IA]:"fire-fn-compat",[NA]:"fire-iid",[DA]:"fire-iid-compat",[OA]:"fire-fcm",[MA]:"fire-fcm-compat",[VA]:"fire-perf",[kA]:"fire-perf-compat",[LA]:"fire-rc",[UA]:"fire-rc-compat",[jA]:"fire-gcs",[PA]:"fire-gcs-compat",[zA]:"fire-fst",[qA]:"fire-fst-compat",[BA]:"fire-vertex","fire-js":"fire-js",[HA]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Io=new Map,KA=new Map,Wd=new Map;function X_(s,e){try{s.container.addComponent(e)}catch(i){Wi.debug(`Component ${e.name} failed to register with FirebaseApp ${s.name}`,i)}}function $a(s){const e=s.name;if(Wd.has(e))return Wi.debug(`There were multiple attempts to register component ${e}.`),!1;Wd.set(e,s);for(const i of Io.values())X_(i,s);for(const i of KA.values())X_(i,s);return!0}function Am(s,e){const i=s.container.getProvider("heartbeat").getImmediate({optional:!0});return i&&i.triggerHeartbeat(),s.container.getProvider(e)}function Un(s){return s==null?!1:s.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const QA={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Ks=new zo("app","Firebase",QA);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YA{constructor(e,i,r){this._isDeleted=!1,this._options={...e},this._config={...i},this._name=i.name,this._automaticDataCollectionEnabled=i.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new zr("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Ks.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sl=FA;function O0(s,e={}){let i=s;typeof e!="object"&&(e={name:e});const r={name:Zd,automaticDataCollectionEnabled:!0,...e},o=r.name;if(typeof o!="string"||!o)throw Ks.create("bad-app-name",{appName:String(o)});if(i||(i=R0()),!i)throw Ks.create("no-options");const c=Io.get(o);if(c){if(Pr(i,c.options)&&Pr(r,c.config))return c;throw Ks.create("duplicate-app",{appName:o})}const d=new eA(o);for(const _ of Wd.values())d.addComponent(_);const p=new YA(i,r,d);return Io.set(o,p),p}function M0(s=Zd){const e=Io.get(s);if(!e&&s===Zd&&R0())return O0();if(!e)throw Ks.create("no-app",{appName:s});return e}function J_(){return Array.from(Io.values())}function Qs(s,e,i){let r=GA[s]??s;i&&(r+=`-${i}`);const o=r.match(/\s|\//),c=e.match(/\s|\//);if(o||c){const d=[`Unable to register library "${r}" with version "${e}":`];o&&d.push(`library name "${r}" contains illegal characters (whitespace or "/")`),o&&c&&d.push("and"),c&&d.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Wi.warn(d.join(" "));return}$a(new zr(`${r}-version`,()=>({library:r,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const XA="firebase-heartbeat-database",JA=1,No="firebase-heartbeat-store";let jd=null;function V0(){return jd||(jd=dA(XA,JA,{upgrade:(s,e)=>{switch(e){case 0:try{s.createObjectStore(No)}catch(i){console.warn(i)}}}}).catch(s=>{throw Ks.create("idb-open",{originalErrorMessage:s.message})})),jd}async function $A(s){try{const i=(await V0()).transaction(No),r=await i.objectStore(No).get(k0(s));return await i.done,r}catch(e){if(e instanceof rs)Wi.warn(e.message);else{const i=Ks.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});Wi.warn(i.message)}}}async function $_(s,e){try{const r=(await V0()).transaction(No,"readwrite");await r.objectStore(No).put(e,k0(s)),await r.done}catch(i){if(i instanceof rs)Wi.warn(i.message);else{const r=Ks.create("idb-set",{originalErrorMessage:i==null?void 0:i.message});Wi.warn(r.message)}}}function k0(s){return`${s.name}!${s.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ZA=1024,WA=30;class e2{constructor(e){this.container=e,this._heartbeatsCache=null;const i=this.container.getProvider("app").getImmediate();this._storage=new n2(i),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){var e,i;try{const o=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),c=Z_();if(((e=this._heartbeatsCache)==null?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((i=this._heartbeatsCache)==null?void 0:i.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===c||this._heartbeatsCache.heartbeats.some(d=>d.date===c))return;if(this._heartbeatsCache.heartbeats.push({date:c,agent:o}),this._heartbeatsCache.heartbeats.length>WA){const d=i2(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(d,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(r){Wi.warn(r)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)==null?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const i=Z_(),{heartbeatsToSend:r,unsentEntries:o}=t2(this._heartbeatsCache.heartbeats),c=Hc(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=i,o.length>0?(this._heartbeatsCache.heartbeats=o,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),c}catch(i){return Wi.warn(i),""}}}function Z_(){return new Date().toISOString().substring(0,10)}function t2(s,e=ZA){const i=[];let r=s.slice();for(const o of s){const c=i.find(d=>d.agent===o.agent);if(c){if(c.dates.push(o.date),W_(i)>e){c.dates.pop();break}}else if(i.push({agent:o.agent,dates:[o.date]}),W_(i)>e){i.pop();break}r=r.slice(1)}return{heartbeatsToSend:i,unsentEntries:r}}class n2{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return qS()?HS().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const i=await $A(this.app);return i!=null&&i.heartbeats?i:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const r=await this.read();return $_(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const r=await this.read();return $_(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:[...r.heartbeats,...e.heartbeats]})}else return}}function W_(s){return Hc(JSON.stringify({version:2,heartbeats:s})).length}function i2(s){if(s.length===0)return-1;let e=0,i=s[0].date;for(let r=1;r<s.length;r++)s[r].date<i&&(i=s[r].date,e=r);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function s2(s){$a(new zr("platform-logger",e=>new gA(e),"PRIVATE")),$a(new zr("heartbeat",e=>new e2(e),"PRIVATE")),Qs($d,Y_,s),Qs($d,Y_,"esm2020"),Qs("fire-js","")}s2("");var ev=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Ys,L0;(function(){var s;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(w,R){function N(){}N.prototype=R.prototype,w.F=R.prototype,w.prototype=new N,w.prototype.constructor=w,w.D=function(V,O,L){for(var C=Array(arguments.length-2),st=2;st<arguments.length;st++)C[st-2]=arguments[st];return R.prototype[O].apply(V,C)}}function i(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}e(r,i),r.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function o(w,R,N){N||(N=0);const V=Array(16);if(typeof R=="string")for(var O=0;O<16;++O)V[O]=R.charCodeAt(N++)|R.charCodeAt(N++)<<8|R.charCodeAt(N++)<<16|R.charCodeAt(N++)<<24;else for(O=0;O<16;++O)V[O]=R[N++]|R[N++]<<8|R[N++]<<16|R[N++]<<24;R=w.g[0],N=w.g[1],O=w.g[2];let L=w.g[3],C;C=R+(L^N&(O^L))+V[0]+3614090360&4294967295,R=N+(C<<7&4294967295|C>>>25),C=L+(O^R&(N^O))+V[1]+3905402710&4294967295,L=R+(C<<12&4294967295|C>>>20),C=O+(N^L&(R^N))+V[2]+606105819&4294967295,O=L+(C<<17&4294967295|C>>>15),C=N+(R^O&(L^R))+V[3]+3250441966&4294967295,N=O+(C<<22&4294967295|C>>>10),C=R+(L^N&(O^L))+V[4]+4118548399&4294967295,R=N+(C<<7&4294967295|C>>>25),C=L+(O^R&(N^O))+V[5]+1200080426&4294967295,L=R+(C<<12&4294967295|C>>>20),C=O+(N^L&(R^N))+V[6]+2821735955&4294967295,O=L+(C<<17&4294967295|C>>>15),C=N+(R^O&(L^R))+V[7]+4249261313&4294967295,N=O+(C<<22&4294967295|C>>>10),C=R+(L^N&(O^L))+V[8]+1770035416&4294967295,R=N+(C<<7&4294967295|C>>>25),C=L+(O^R&(N^O))+V[9]+2336552879&4294967295,L=R+(C<<12&4294967295|C>>>20),C=O+(N^L&(R^N))+V[10]+4294925233&4294967295,O=L+(C<<17&4294967295|C>>>15),C=N+(R^O&(L^R))+V[11]+2304563134&4294967295,N=O+(C<<22&4294967295|C>>>10),C=R+(L^N&(O^L))+V[12]+1804603682&4294967295,R=N+(C<<7&4294967295|C>>>25),C=L+(O^R&(N^O))+V[13]+4254626195&4294967295,L=R+(C<<12&4294967295|C>>>20),C=O+(N^L&(R^N))+V[14]+2792965006&4294967295,O=L+(C<<17&4294967295|C>>>15),C=N+(R^O&(L^R))+V[15]+1236535329&4294967295,N=O+(C<<22&4294967295|C>>>10),C=R+(O^L&(N^O))+V[1]+4129170786&4294967295,R=N+(C<<5&4294967295|C>>>27),C=L+(N^O&(R^N))+V[6]+3225465664&4294967295,L=R+(C<<9&4294967295|C>>>23),C=O+(R^N&(L^R))+V[11]+643717713&4294967295,O=L+(C<<14&4294967295|C>>>18),C=N+(L^R&(O^L))+V[0]+3921069994&4294967295,N=O+(C<<20&4294967295|C>>>12),C=R+(O^L&(N^O))+V[5]+3593408605&4294967295,R=N+(C<<5&4294967295|C>>>27),C=L+(N^O&(R^N))+V[10]+38016083&4294967295,L=R+(C<<9&4294967295|C>>>23),C=O+(R^N&(L^R))+V[15]+3634488961&4294967295,O=L+(C<<14&4294967295|C>>>18),C=N+(L^R&(O^L))+V[4]+3889429448&4294967295,N=O+(C<<20&4294967295|C>>>12),C=R+(O^L&(N^O))+V[9]+568446438&4294967295,R=N+(C<<5&4294967295|C>>>27),C=L+(N^O&(R^N))+V[14]+3275163606&4294967295,L=R+(C<<9&4294967295|C>>>23),C=O+(R^N&(L^R))+V[3]+4107603335&4294967295,O=L+(C<<14&4294967295|C>>>18),C=N+(L^R&(O^L))+V[8]+1163531501&4294967295,N=O+(C<<20&4294967295|C>>>12),C=R+(O^L&(N^O))+V[13]+2850285829&4294967295,R=N+(C<<5&4294967295|C>>>27),C=L+(N^O&(R^N))+V[2]+4243563512&4294967295,L=R+(C<<9&4294967295|C>>>23),C=O+(R^N&(L^R))+V[7]+1735328473&4294967295,O=L+(C<<14&4294967295|C>>>18),C=N+(L^R&(O^L))+V[12]+2368359562&4294967295,N=O+(C<<20&4294967295|C>>>12),C=R+(N^O^L)+V[5]+4294588738&4294967295,R=N+(C<<4&4294967295|C>>>28),C=L+(R^N^O)+V[8]+2272392833&4294967295,L=R+(C<<11&4294967295|C>>>21),C=O+(L^R^N)+V[11]+1839030562&4294967295,O=L+(C<<16&4294967295|C>>>16),C=N+(O^L^R)+V[14]+4259657740&4294967295,N=O+(C<<23&4294967295|C>>>9),C=R+(N^O^L)+V[1]+2763975236&4294967295,R=N+(C<<4&4294967295|C>>>28),C=L+(R^N^O)+V[4]+1272893353&4294967295,L=R+(C<<11&4294967295|C>>>21),C=O+(L^R^N)+V[7]+4139469664&4294967295,O=L+(C<<16&4294967295|C>>>16),C=N+(O^L^R)+V[10]+3200236656&4294967295,N=O+(C<<23&4294967295|C>>>9),C=R+(N^O^L)+V[13]+681279174&4294967295,R=N+(C<<4&4294967295|C>>>28),C=L+(R^N^O)+V[0]+3936430074&4294967295,L=R+(C<<11&4294967295|C>>>21),C=O+(L^R^N)+V[3]+3572445317&4294967295,O=L+(C<<16&4294967295|C>>>16),C=N+(O^L^R)+V[6]+76029189&4294967295,N=O+(C<<23&4294967295|C>>>9),C=R+(N^O^L)+V[9]+3654602809&4294967295,R=N+(C<<4&4294967295|C>>>28),C=L+(R^N^O)+V[12]+3873151461&4294967295,L=R+(C<<11&4294967295|C>>>21),C=O+(L^R^N)+V[15]+530742520&4294967295,O=L+(C<<16&4294967295|C>>>16),C=N+(O^L^R)+V[2]+3299628645&4294967295,N=O+(C<<23&4294967295|C>>>9),C=R+(O^(N|~L))+V[0]+4096336452&4294967295,R=N+(C<<6&4294967295|C>>>26),C=L+(N^(R|~O))+V[7]+1126891415&4294967295,L=R+(C<<10&4294967295|C>>>22),C=O+(R^(L|~N))+V[14]+2878612391&4294967295,O=L+(C<<15&4294967295|C>>>17),C=N+(L^(O|~R))+V[5]+4237533241&4294967295,N=O+(C<<21&4294967295|C>>>11),C=R+(O^(N|~L))+V[12]+1700485571&4294967295,R=N+(C<<6&4294967295|C>>>26),C=L+(N^(R|~O))+V[3]+2399980690&4294967295,L=R+(C<<10&4294967295|C>>>22),C=O+(R^(L|~N))+V[10]+4293915773&4294967295,O=L+(C<<15&4294967295|C>>>17),C=N+(L^(O|~R))+V[1]+2240044497&4294967295,N=O+(C<<21&4294967295|C>>>11),C=R+(O^(N|~L))+V[8]+1873313359&4294967295,R=N+(C<<6&4294967295|C>>>26),C=L+(N^(R|~O))+V[15]+4264355552&4294967295,L=R+(C<<10&4294967295|C>>>22),C=O+(R^(L|~N))+V[6]+2734768916&4294967295,O=L+(C<<15&4294967295|C>>>17),C=N+(L^(O|~R))+V[13]+1309151649&4294967295,N=O+(C<<21&4294967295|C>>>11),C=R+(O^(N|~L))+V[4]+4149444226&4294967295,R=N+(C<<6&4294967295|C>>>26),C=L+(N^(R|~O))+V[11]+3174756917&4294967295,L=R+(C<<10&4294967295|C>>>22),C=O+(R^(L|~N))+V[2]+718787259&4294967295,O=L+(C<<15&4294967295|C>>>17),C=N+(L^(O|~R))+V[9]+3951481745&4294967295,w.g[0]=w.g[0]+R&4294967295,w.g[1]=w.g[1]+(O+(C<<21&4294967295|C>>>11))&4294967295,w.g[2]=w.g[2]+O&4294967295,w.g[3]=w.g[3]+L&4294967295}r.prototype.v=function(w,R){R===void 0&&(R=w.length);const N=R-this.blockSize,V=this.C;let O=this.h,L=0;for(;L<R;){if(O==0)for(;L<=N;)o(this,w,L),L+=this.blockSize;if(typeof w=="string"){for(;L<R;)if(V[O++]=w.charCodeAt(L++),O==this.blockSize){o(this,V),O=0;break}}else for(;L<R;)if(V[O++]=w[L++],O==this.blockSize){o(this,V),O=0;break}}this.h=O,this.o+=R},r.prototype.A=function(){var w=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);w[0]=128;for(var R=1;R<w.length-8;++R)w[R]=0;R=this.o*8;for(var N=w.length-8;N<w.length;++N)w[N]=R&255,R/=256;for(this.v(w),w=Array(16),R=0,N=0;N<4;++N)for(let V=0;V<32;V+=8)w[R++]=this.g[N]>>>V&255;return w};function c(w,R){var N=p;return Object.prototype.hasOwnProperty.call(N,w)?N[w]:N[w]=R(w)}function d(w,R){this.h=R;const N=[];let V=!0;for(let O=w.length-1;O>=0;O--){const L=w[O]|0;V&&L==R||(N[O]=L,V=!1)}this.g=N}var p={};function _(w){return-128<=w&&w<128?c(w,function(R){return new d([R|0],R<0?-1:0)}):new d([w|0],w<0?-1:0)}function y(w){if(isNaN(w)||!isFinite(w))return A;if(w<0)return W(y(-w));const R=[];let N=1;for(let V=0;w>=N;V++)R[V]=w/N|0,N*=4294967296;return new d(R,0)}function T(w,R){if(w.length==0)throw Error("number format error: empty string");if(R=R||10,R<2||36<R)throw Error("radix out of range: "+R);if(w.charAt(0)=="-")return W(T(w.substring(1),R));if(w.indexOf("-")>=0)throw Error('number format error: interior "-" character');const N=y(Math.pow(R,8));let V=A;for(let L=0;L<w.length;L+=8){var O=Math.min(8,w.length-L);const C=parseInt(w.substring(L,L+O),R);O<8?(O=y(Math.pow(R,O)),V=V.j(O).add(y(C))):(V=V.j(N),V=V.add(y(C)))}return V}var A=_(0),x=_(1),B=_(16777216);s=d.prototype,s.m=function(){if(Z(this))return-W(this).m();let w=0,R=1;for(let N=0;N<this.g.length;N++){const V=this.i(N);w+=(V>=0?V:4294967296+V)*R,R*=4294967296}return w},s.toString=function(w){if(w=w||10,w<2||36<w)throw Error("radix out of range: "+w);if(K(this))return"0";if(Z(this))return"-"+W(this).toString(w);const R=y(Math.pow(w,6));var N=this;let V="";for(;;){const O=ke(N,R).g;N=ae(N,O.j(R));let L=((N.g.length>0?N.g[0]:N.h)>>>0).toString(w);if(N=O,K(N))return L+V;for(;L.length<6;)L="0"+L;V=L+V}},s.i=function(w){return w<0?0:w<this.g.length?this.g[w]:this.h};function K(w){if(w.h!=0)return!1;for(let R=0;R<w.g.length;R++)if(w.g[R]!=0)return!1;return!0}function Z(w){return w.h==-1}s.l=function(w){return w=ae(this,w),Z(w)?-1:K(w)?0:1};function W(w){const R=w.g.length,N=[];for(let V=0;V<R;V++)N[V]=~w.g[V];return new d(N,~w.h).add(x)}s.abs=function(){return Z(this)?W(this):this},s.add=function(w){const R=Math.max(this.g.length,w.g.length),N=[];let V=0;for(let O=0;O<=R;O++){let L=V+(this.i(O)&65535)+(w.i(O)&65535),C=(L>>>16)+(this.i(O)>>>16)+(w.i(O)>>>16);V=C>>>16,L&=65535,C&=65535,N[O]=C<<16|L}return new d(N,N[N.length-1]&-2147483648?-1:0)};function ae(w,R){return w.add(W(R))}s.j=function(w){if(K(this)||K(w))return A;if(Z(this))return Z(w)?W(this).j(W(w)):W(W(this).j(w));if(Z(w))return W(this.j(W(w)));if(this.l(B)<0&&w.l(B)<0)return y(this.m()*w.m());const R=this.g.length+w.g.length,N=[];for(var V=0;V<2*R;V++)N[V]=0;for(V=0;V<this.g.length;V++)for(let O=0;O<w.g.length;O++){const L=this.i(V)>>>16,C=this.i(V)&65535,st=w.i(O)>>>16,Ct=w.i(O)&65535;N[2*V+2*O]+=C*Ct,ue(N,2*V+2*O),N[2*V+2*O+1]+=L*Ct,ue(N,2*V+2*O+1),N[2*V+2*O+1]+=C*st,ue(N,2*V+2*O+1),N[2*V+2*O+2]+=L*st,ue(N,2*V+2*O+2)}for(w=0;w<R;w++)N[w]=N[2*w+1]<<16|N[2*w];for(w=R;w<2*R;w++)N[w]=0;return new d(N,0)};function ue(w,R){for(;(w[R]&65535)!=w[R];)w[R+1]+=w[R]>>>16,w[R]&=65535,R++}function he(w,R){this.g=w,this.h=R}function ke(w,R){if(K(R))throw Error("division by zero");if(K(w))return new he(A,A);if(Z(w))return R=ke(W(w),R),new he(W(R.g),W(R.h));if(Z(R))return R=ke(w,W(R)),new he(W(R.g),R.h);if(w.g.length>30){if(Z(w)||Z(R))throw Error("slowDivide_ only works with positive integers.");for(var N=x,V=R;V.l(w)<=0;)N=ze(N),V=ze(V);var O=Le(N,1),L=Le(V,1);for(V=Le(V,2),N=Le(N,2);!K(V);){var C=L.add(V);C.l(w)<=0&&(O=O.add(N),L=C),V=Le(V,1),N=Le(N,1)}return R=ae(w,O.j(R)),new he(O,R)}for(O=A;w.l(R)>=0;){for(N=Math.max(1,Math.floor(w.m()/R.m())),V=Math.ceil(Math.log(N)/Math.LN2),V=V<=48?1:Math.pow(2,V-48),L=y(N),C=L.j(R);Z(C)||C.l(w)>0;)N-=V,L=y(N),C=L.j(R);K(L)&&(L=x),O=O.add(L),w=ae(w,C)}return new he(O,w)}s.B=function(w){return ke(this,w).h},s.and=function(w){const R=Math.max(this.g.length,w.g.length),N=[];for(let V=0;V<R;V++)N[V]=this.i(V)&w.i(V);return new d(N,this.h&w.h)},s.or=function(w){const R=Math.max(this.g.length,w.g.length),N=[];for(let V=0;V<R;V++)N[V]=this.i(V)|w.i(V);return new d(N,this.h|w.h)},s.xor=function(w){const R=Math.max(this.g.length,w.g.length),N=[];for(let V=0;V<R;V++)N[V]=this.i(V)^w.i(V);return new d(N,this.h^w.h)};function ze(w){const R=w.g.length+1,N=[];for(let V=0;V<R;V++)N[V]=w.i(V)<<1|w.i(V-1)>>>31;return new d(N,w.h)}function Le(w,R){const N=R>>5;R%=32;const V=w.g.length-N,O=[];for(let L=0;L<V;L++)O[L]=R>0?w.i(L+N)>>>R|w.i(L+N+1)<<32-R:w.i(L+N);return new d(O,w.h)}r.prototype.digest=r.prototype.A,r.prototype.reset=r.prototype.u,r.prototype.update=r.prototype.v,L0=r,d.prototype.add=d.prototype.add,d.prototype.multiply=d.prototype.j,d.prototype.modulo=d.prototype.B,d.prototype.compare=d.prototype.l,d.prototype.toNumber=d.prototype.m,d.prototype.toString=d.prototype.toString,d.prototype.getBits=d.prototype.i,d.fromNumber=y,d.fromString=T,Ys=d}).apply(typeof ev<"u"?ev:typeof self<"u"?self:typeof window<"u"?window:{});var xc=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var U0,_o,j0,Mc,em,P0,z0,B0;(function(){var s,e=Object.defineProperty;function i(u){u=[typeof globalThis=="object"&&globalThis,u,typeof window=="object"&&window,typeof self=="object"&&self,typeof xc=="object"&&xc];for(var m=0;m<u.length;++m){var v=u[m];if(v&&v.Math==Math)return v}throw Error("Cannot find global object")}var r=i(this);function o(u,m){if(m)e:{var v=r;u=u.split(".");for(var S=0;S<u.length-1;S++){var U=u[S];if(!(U in v))break e;v=v[U]}u=u[u.length-1],S=v[u],m=m(S),m!=S&&m!=null&&e(v,u,{configurable:!0,writable:!0,value:m})}}o("Symbol.dispose",function(u){return u||Symbol("Symbol.dispose")}),o("Array.prototype.values",function(u){return u||function(){return this[Symbol.iterator]()}}),o("Object.entries",function(u){return u||function(m){var v=[],S;for(S in m)Object.prototype.hasOwnProperty.call(m,S)&&v.push([S,m[S]]);return v}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var c=c||{},d=this||self;function p(u){var m=typeof u;return m=="object"&&u!=null||m=="function"}function _(u,m,v){return u.call.apply(u.bind,arguments)}function y(u,m,v){return y=_,y.apply(null,arguments)}function T(u,m){var v=Array.prototype.slice.call(arguments,1);return function(){var S=v.slice();return S.push.apply(S,arguments),u.apply(this,S)}}function A(u,m){function v(){}v.prototype=m.prototype,u.Z=m.prototype,u.prototype=new v,u.prototype.constructor=u,u.Ob=function(S,U,q){for(var ee=Array(arguments.length-2),be=2;be<arguments.length;be++)ee[be-2]=arguments[be];return m.prototype[U].apply(S,ee)}}var x=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?u=>u&&AsyncContext.Snapshot.wrap(u):u=>u;function B(u){const m=u.length;if(m>0){const v=Array(m);for(let S=0;S<m;S++)v[S]=u[S];return v}return[]}function K(u,m){for(let S=1;S<arguments.length;S++){const U=arguments[S];var v=typeof U;if(v=v!="object"?v:U?Array.isArray(U)?"array":v:"null",v=="array"||v=="object"&&typeof U.length=="number"){v=u.length||0;const q=U.length||0;u.length=v+q;for(let ee=0;ee<q;ee++)u[v+ee]=U[ee]}else u.push(U)}}class Z{constructor(m,v){this.i=m,this.j=v,this.h=0,this.g=null}get(){let m;return this.h>0?(this.h--,m=this.g,this.g=m.next,m.next=null):m=this.i(),m}}function W(u){d.setTimeout(()=>{throw u},0)}function ae(){var u=w;let m=null;return u.g&&(m=u.g,u.g=u.g.next,u.g||(u.h=null),m.next=null),m}class ue{constructor(){this.h=this.g=null}add(m,v){const S=he.get();S.set(m,v),this.h?this.h.next=S:this.g=S,this.h=S}}var he=new Z(()=>new ke,u=>u.reset());class ke{constructor(){this.next=this.g=this.h=null}set(m,v){this.h=m,this.g=v,this.next=null}reset(){this.next=this.g=this.h=null}}let ze,Le=!1,w=new ue,R=()=>{const u=Promise.resolve(void 0);ze=()=>{u.then(N)}};function N(){for(var u;u=ae();){try{u.h.call(u.g)}catch(v){W(v)}var m=he;m.j(u),m.h<100&&(m.h++,u.next=m.g,m.g=u)}Le=!1}function V(){this.u=this.u,this.C=this.C}V.prototype.u=!1,V.prototype.dispose=function(){this.u||(this.u=!0,this.N())},V.prototype[Symbol.dispose]=function(){this.dispose()},V.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function O(u,m){this.type=u,this.g=this.target=m,this.defaultPrevented=!1}O.prototype.h=function(){this.defaultPrevented=!0};var L=(function(){if(!d.addEventListener||!Object.defineProperty)return!1;var u=!1,m=Object.defineProperty({},"passive",{get:function(){u=!0}});try{const v=()=>{};d.addEventListener("test",v,m),d.removeEventListener("test",v,m)}catch{}return u})();function C(u){return/^[\s\xa0]*$/.test(u)}function st(u,m){O.call(this,u?u.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,u&&this.init(u,m)}A(st,O),st.prototype.init=function(u,m){const v=this.type=u.type,S=u.changedTouches&&u.changedTouches.length?u.changedTouches[0]:null;this.target=u.target||u.srcElement,this.g=m,m=u.relatedTarget,m||(v=="mouseover"?m=u.fromElement:v=="mouseout"&&(m=u.toElement)),this.relatedTarget=m,S?(this.clientX=S.clientX!==void 0?S.clientX:S.pageX,this.clientY=S.clientY!==void 0?S.clientY:S.pageY,this.screenX=S.screenX||0,this.screenY=S.screenY||0):(this.clientX=u.clientX!==void 0?u.clientX:u.pageX,this.clientY=u.clientY!==void 0?u.clientY:u.pageY,this.screenX=u.screenX||0,this.screenY=u.screenY||0),this.button=u.button,this.key=u.key||"",this.ctrlKey=u.ctrlKey,this.altKey=u.altKey,this.shiftKey=u.shiftKey,this.metaKey=u.metaKey,this.pointerId=u.pointerId||0,this.pointerType=u.pointerType,this.state=u.state,this.i=u,u.defaultPrevented&&st.Z.h.call(this)},st.prototype.h=function(){st.Z.h.call(this);const u=this.i;u.preventDefault?u.preventDefault():u.returnValue=!1};var Ct="closure_listenable_"+(Math.random()*1e6|0),G=0;function te(u,m,v,S,U){this.listener=u,this.proxy=null,this.src=m,this.type=v,this.capture=!!S,this.ha=U,this.key=++G,this.da=this.fa=!1}function fe(u){u.da=!0,u.listener=null,u.proxy=null,u.src=null,u.ha=null}function Ue(u,m,v){for(const S in u)m.call(v,u[S],S,u)}function Fe(u,m){for(const v in u)m.call(void 0,u[v],v,u)}function M(u){const m={};for(const v in u)m[v]=u[v];return m}const X="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function ne(u,m){let v,S;for(let U=1;U<arguments.length;U++){S=arguments[U];for(v in S)u[v]=S[v];for(let q=0;q<X.length;q++)v=X[q],Object.prototype.hasOwnProperty.call(S,v)&&(u[v]=S[v])}}function se(u){this.src=u,this.g={},this.h=0}se.prototype.add=function(u,m,v,S,U){const q=u.toString();u=this.g[q],u||(u=this.g[q]=[],this.h++);const ee=Se(u,m,S,U);return ee>-1?(m=u[ee],v||(m.fa=!1)):(m=new te(m,this.src,q,!!S,U),m.fa=v,u.push(m)),m};function ye(u,m){const v=m.type;if(v in u.g){var S=u.g[v],U=Array.prototype.indexOf.call(S,m,void 0),q;(q=U>=0)&&Array.prototype.splice.call(S,U,1),q&&(fe(m),u.g[v].length==0&&(delete u.g[v],u.h--))}}function Se(u,m,v,S){for(let U=0;U<u.length;++U){const q=u[U];if(!q.da&&q.listener==m&&q.capture==!!v&&q.ha==S)return U}return-1}var Me="closure_lm_"+(Math.random()*1e6|0),It={};function rt(u,m,v,S,U){if(Array.isArray(m)){for(let q=0;q<m.length;q++)rt(u,m[q],v,S,U);return null}return v=fl(v),u&&u[Ct]?u.J(m,v,p(S)?!!S.capture:!1,U):sr(u,m,v,!1,S,U)}function sr(u,m,v,S,U,q){if(!m)throw Error("Invalid event type");const ee=p(U)?!!U.capture:!!U;let be=rr(u);if(be||(u[Me]=be=new se(u)),v=be.add(m,v,S,ee,q),v.proxy)return v;if(S=Yr(),v.proxy=S,S.src=u,S.listener=v,u.addEventListener)L||(U=ee),U===void 0&&(U=!1),u.addEventListener(m.toString(),S,U);else if(u.attachEvent)u.attachEvent(ei(m.toString()),S);else if(u.addListener&&u.removeListener)u.addListener(S);else throw Error("addEventListener and attachEvent are unavailable.");return v}function Yr(){function u(v){return m.call(u.src,u.listener,v)}const m=cl;return u}function Xr(u,m,v,S,U){if(Array.isArray(m))for(var q=0;q<m.length;q++)Xr(u,m[q],v,S,U);else S=p(S)?!!S.capture:!!S,v=fl(v),u&&u[Ct]?(u=u.i,q=String(m).toString(),q in u.g&&(m=u.g[q],v=Se(m,v,S,U),v>-1&&(fe(m[v]),Array.prototype.splice.call(m,v,1),m.length==0&&(delete u.g[q],u.h--)))):u&&(u=rr(u))&&(m=u.g[m.toString()],u=-1,m&&(u=Se(m,v,S,U)),(v=u>-1?m[u]:null)&&Jr(v))}function Jr(u){if(typeof u!="number"&&u&&!u.da){var m=u.src;if(m&&m[Ct])ye(m.i,u);else{var v=u.type,S=u.proxy;m.removeEventListener?m.removeEventListener(v,S,u.capture):m.detachEvent?m.detachEvent(ei(v),S):m.addListener&&m.removeListener&&m.removeListener(S),(v=rr(m))?(ye(v,u),v.h==0&&(v.src=null,m[Me]=null)):fe(u)}}}function ei(u){return u in It?It[u]:It[u]="on"+u}function cl(u,m){if(u.da)u=!0;else{m=new st(m,this);const v=u.listener,S=u.ha||u.src;u.fa&&Jr(u),u=v.call(S,m)}return u}function rr(u){return u=u[Me],u instanceof se?u:null}var hl="__closure_events_fn_"+(Math.random()*1e9>>>0);function fl(u){return typeof u=="function"?u:(u[hl]||(u[hl]=function(m){return u.handleEvent(m)}),u[hl])}function gt(){V.call(this),this.i=new se(this),this.M=this,this.G=null}A(gt,V),gt.prototype[Ct]=!0,gt.prototype.removeEventListener=function(u,m,v,S){Xr(this,u,m,v,S)};function Nt(u,m){var v,S=u.G;if(S)for(v=[];S;S=S.G)v.push(S);if(u=u.M,S=m.type||m,typeof m=="string")m=new O(m,u);else if(m instanceof O)m.target=m.target||u;else{var U=m;m=new O(S,u),ne(m,U)}U=!0;let q,ee;if(v)for(ee=v.length-1;ee>=0;ee--)q=m.g=v[ee],U=as(q,S,!0,m)&&U;if(q=m.g=u,U=as(q,S,!0,m)&&U,U=as(q,S,!1,m)&&U,v)for(ee=0;ee<v.length;ee++)q=m.g=v[ee],U=as(q,S,!1,m)&&U}gt.prototype.N=function(){if(gt.Z.N.call(this),this.i){var u=this.i;for(const m in u.g){const v=u.g[m];for(let S=0;S<v.length;S++)fe(v[S]);delete u.g[m],u.h--}}this.G=null},gt.prototype.J=function(u,m,v,S){return this.i.add(String(u),m,!1,v,S)},gt.prototype.K=function(u,m,v,S){return this.i.add(String(u),m,!0,v,S)};function as(u,m,v,S){if(m=u.i.g[String(m)],!m)return!0;m=m.concat();let U=!0;for(let q=0;q<m.length;++q){const ee=m[q];if(ee&&!ee.da&&ee.capture==v){const be=ee.listener,ft=ee.ha||ee.src;ee.fa&&ye(u.i,ee),U=be.call(ft,S)!==!1&&U}}return U&&!S.defaultPrevented}function Ch(u,m){if(typeof u!="function")if(u&&typeof u.handleEvent=="function")u=y(u.handleEvent,u);else throw Error("Invalid listener argument");return Number(m)>2147483647?-1:d.setTimeout(u,m||0)}function Zo(u){u.g=Ch(()=>{u.g=null,u.i&&(u.i=!1,Zo(u))},u.l);const m=u.h;u.h=null,u.m.apply(null,m)}class en extends V{constructor(m,v){super(),this.m=m,this.l=v,this.h=null,this.i=!1,this.g=null}j(m){this.h=arguments,this.g?this.i=!0:Zo(this)}N(){super.N(),this.g&&(d.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function ar(u){V.call(this),this.h=u,this.g={}}A(ar,V);var dl=[];function ml(u){Ue(u.g,function(m,v){this.g.hasOwnProperty(v)&&Jr(m)},u),u.g={}}ar.prototype.N=function(){ar.Z.N.call(this),ml(this)},ar.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var ls=d.JSON.stringify,Ih=d.JSON.parse,Wo=class{stringify(u){return d.JSON.stringify(u,void 0)}parse(u){return d.JSON.parse(u,void 0)}};function eu(){}function tu(){}var zn={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function Pt(){O.call(this,"d")}A(Pt,O);function An(){O.call(this,"c")}A(An,O);var ht={},nu=null;function $r(){return nu=nu||new gt}ht.Ia="serverreachability";function iu(u){O.call(this,ht.Ia,u)}A(iu,O);function ti(u){const m=$r();Nt(m,new iu(m))}ht.STAT_EVENT="statevent";function lr(u,m){O.call(this,ht.STAT_EVENT,u),this.stat=m}A(lr,O);function yt(u){const m=$r();Nt(m,new lr(m,u))}ht.Ja="timingevent";function ni(u,m){O.call(this,ht.Ja,u),this.size=m}A(ni,O);function ii(u,m){if(typeof u!="function")throw Error("Fn must not be null and must be a function");return d.setTimeout(function(){u()},m)}function Bn(){this.g=!0}Bn.prototype.ua=function(){this.g=!1};function Nh(u,m,v,S,U,q){u.info(function(){if(u.g)if(q){var ee="",be=q.split("&");for(let Be=0;Be<be.length;Be++){var ft=be[Be].split("=");if(ft.length>1){const at=ft[0];ft=ft[1];const Cn=at.split("_");ee=Cn.length>=2&&Cn[1]=="type"?ee+(at+"="+ft+"&"):ee+(at+"=redacted&")}}}else ee=null;else ee=q;return"XMLHTTP REQ ("+S+") [attempt "+U+"]: "+m+`
`+v+`
`+ee})}function su(u,m,v,S,U,q,ee){u.info(function(){return"XMLHTTP RESP ("+S+") [ attempt "+U+"]: "+m+`
`+v+`
`+q+" "+ee})}function si(u,m,v,S){u.info(function(){return"XMLHTTP TEXT ("+m+"): "+Dh(u,v)+(S?" "+S:"")})}function or(u,m){u.info(function(){return"TIMEOUT: "+m})}Bn.prototype.info=function(){};function Dh(u,m){if(!u.g)return m;if(!m)return null;try{const q=JSON.parse(m);if(q){for(u=0;u<q.length;u++)if(Array.isArray(q[u])){var v=q[u];if(!(v.length<2)){var S=v[1];if(Array.isArray(S)&&!(S.length<1)){var U=S[0];if(U!="noop"&&U!="stop"&&U!="close")for(let ee=1;ee<S.length;ee++)S[ee]=""}}}}return ls(q)}catch{return m}}var ur={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},pl={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},gl;function cr(){}A(cr,eu),cr.prototype.g=function(){return new XMLHttpRequest},gl=new cr;function Di(u){return encodeURIComponent(String(u))}function ru(u){var m=1;u=u.split(":");const v=[];for(;m>0&&u.length;)v.push(u.shift()),m--;return u.length&&v.push(u.join(":")),v}function qn(u,m,v,S){this.j=u,this.i=m,this.l=v,this.S=S||1,this.V=new ar(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new Hn}function Hn(){this.i=null,this.g="",this.h=!1}var _t={},kt={};function ri(u,m,v){u.M=1,u.A=hr(Et(m)),u.u=v,u.R=!0,Zr(u,null)}function Zr(u,m){u.F=Date.now(),ai(u),u.B=Et(u.A);var v=u.B,S=u.S;Array.isArray(S)||(S=[String(S)]),na(v.i,"t",S),u.C=0,v=u.j.L,u.h=new Hn,u.g=Eu(u.j,v?m:null,!u.u),u.P>0&&(u.O=new en(y(u.Y,u,u.g),u.P)),m=u.V,v=u.g,S=u.ba;var U="readystatechange";Array.isArray(U)||(U&&(dl[0]=U.toString()),U=dl);for(let q=0;q<U.length;q++){const ee=rt(v,U[q],S||m.handleEvent,!1,m.h||m);if(!ee)break;m.g[ee.key]=ee}m=u.J?M(u.J):{},u.u?(u.v||(u.v="POST"),m["Content-Type"]="application/x-www-form-urlencoded",u.g.ea(u.B,u.v,u.u,m)):(u.v="GET",u.g.ea(u.B,u.v,null,m)),ti(),Nh(u.i,u.v,u.B,u.l,u.S,u.u)}qn.prototype.ba=function(u){u=u.target;const m=this.O;m&&Kn(u)==3?m.j():this.Y(u)},qn.prototype.Y=function(u){try{if(u==this.g)e:{const be=Kn(this.g),ft=this.g.ya(),Be=this.g.ca();if(!(be<3)&&(be!=3||this.g&&(this.h.h||this.g.la()||zt(this.g)))){this.K||be!=4||ft==7||(ft==8||Be<=0?ti(3):ti(2)),li(this);var m=this.g.ca();this.X=m;var v=Oh(this);if(this.o=m==200,su(this.i,this.v,this.B,this.l,this.S,be,m),this.o){if(this.U&&!this.L){t:{if(this.g){var S,U=this.g;if((S=U.g?U.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!C(S)){var q=S;break t}}q=null}if(u=q)si(this.i,this.l,u,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,oi(this,u);else{this.o=!1,this.m=3,yt(12),mn(this),wn(this);break e}}if(this.R){u=!0;let at;for(;!this.K&&this.C<v.length;)if(at=lu(this,v),at==kt){be==4&&(this.m=4,yt(14),u=!1),si(this.i,this.l,null,"[Incomplete Response]");break}else if(at==_t){this.m=4,yt(15),si(this.i,this.l,v,"[Invalid Chunk]"),u=!1;break}else si(this.i,this.l,at,null),oi(this,at);if(au(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),be!=4||v.length!=0||this.h.h||(this.m=1,yt(16),u=!1),this.o=this.o&&u,!u)si(this.i,this.l,v,"[Invalid Chunked Response]"),mn(this),wn(this);else if(v.length>0&&!this.W){this.W=!0;var ee=this.j;ee.g==this&&ee.aa&&!ee.P&&(ee.j.info("Great, no buffering proxy detected. Bytes received: "+v.length),Dl(ee),ee.P=!0,yt(11))}}else si(this.i,this.l,v,null),oi(this,v);be==4&&mn(this),this.o&&!this.K&&(be==4?gu(this.j,this):(this.o=!1,ai(this)))}else Mi(this.g),m==400&&v.indexOf("Unknown SID")>0?(this.m=3,yt(12)):(this.m=0,yt(13)),mn(this),wn(this)}}}catch{}finally{}};function Oh(u){if(!au(u))return u.g.la();const m=zt(u.g);if(m==="")return"";let v="";const S=m.length,U=Kn(u.g)==4;if(!u.h.i){if(typeof TextDecoder>"u")return mn(u),wn(u),"";u.h.i=new d.TextDecoder}for(let q=0;q<S;q++)u.h.h=!0,v+=u.h.i.decode(m[q],{stream:!(U&&q==S-1)});return m.length=0,u.h.g+=v,u.C=0,u.h.g}function au(u){return u.g?u.v=="GET"&&u.M!=2&&u.j.Aa:!1}function lu(u,m){var v=u.C,S=m.indexOf(`
`,v);return S==-1?kt:(v=Number(m.substring(v,S)),isNaN(v)?_t:(S+=1,S+v>m.length?kt:(m=m.slice(S,S+v),u.C=S+v,m)))}qn.prototype.cancel=function(){this.K=!0,mn(this)};function ai(u){u.T=Date.now()+u.H,Wr(u,u.H)}function Wr(u,m){if(u.D!=null)throw Error("WatchDog timer not null");u.D=ii(y(u.aa,u),m)}function li(u){u.D&&(d.clearTimeout(u.D),u.D=null)}qn.prototype.aa=function(){this.D=null;const u=Date.now();u-this.T>=0?(or(this.i,this.B),this.M!=2&&(ti(),yt(17)),mn(this),this.m=2,wn(this)):Wr(this,this.T-u)};function wn(u){u.j.I==0||u.K||gu(u.j,u)}function mn(u){li(u);var m=u.O;m&&typeof m.dispose=="function"&&m.dispose(),u.O=null,ml(u.V),u.g&&(m=u.g,u.g=null,m.abort(),m.dispose())}function oi(u,m){try{var v=u.j;if(v.I!=0&&(v.g==u||ci(v.h,u))){if(!u.L&&ci(v.h,u)&&v.I==3){try{var S=v.Ba.g.parse(m)}catch{S=null}if(Array.isArray(S)&&S.length==3){var U=S;if(U[0]==0){e:if(!v.v){if(v.g)if(v.g.F+3e3<u.F)la(v),ps(v);else break e;_r(v),yt(18)}}else v.xa=U[1],0<v.xa-v.K&&U[2]<37500&&v.F&&v.A==0&&!v.C&&(v.C=ii(y(v.Va,v),6e3));ui(v.h)<=1&&v.ta&&(v.ta=void 0)}else gi(v,11)}else if((u.L||v.g==u)&&la(v),!C(m))for(U=v.Ba.g.parse(m),m=0;m<U.length;m++){let Be=U[m];const at=Be[0];if(!(at<=v.K))if(v.K=at,Be=Be[1],v.I==2)if(Be[0]=="c"){v.M=Be[1],v.ba=Be[2];const Cn=Be[3];Cn!=null&&(v.ka=Cn,v.j.info("VER="+v.ka));const yi=Be[4];yi!=null&&(v.za=yi,v.j.info("SVER="+v.za));const Qn=Be[5];Qn!=null&&typeof Qn=="number"&&Qn>0&&(S=1.5*Qn,v.O=S,v.j.info("backChannelRequestTimeoutMs_="+S)),S=v;const Yn=u.g;if(Yn){const vr=Yn.g?Yn.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(vr){var q=S.h;q.g||vr.indexOf("spdy")==-1&&vr.indexOf("quic")==-1&&vr.indexOf("h2")==-1||(q.j=q.l,q.g=new Set,q.h&&(vl(q,q.h),q.h=null))}if(S.G){const oa=Yn.g?Yn.g.getResponseHeader("X-HTTP-Session-Id"):null;oa&&(S.wa=oa,Ge(S.J,S.G,oa))}}v.I=3,v.l&&v.l.ra(),v.aa&&(v.T=Date.now()-u.F,v.j.info("Handshake RTT: "+v.T+"ms")),S=v;var ee=u;if(S.na=vu(S,S.L?S.ba:null,S.W),ee.L){El(S.h,ee);var be=ee,ft=S.O;ft&&(be.H=ft),be.D&&(li(be),ai(be)),S.g=ee}else mu(S);v.i.length>0&&pi(v)}else Be[0]!="stop"&&Be[0]!="close"||gi(v,7);else v.I==3&&(Be[0]=="stop"||Be[0]=="close"?Be[0]=="stop"?gi(v,7):Il(v):Be[0]!="noop"&&v.l&&v.l.qa(Be),v.A=0)}}ti(4)}catch{}}var vt=class{constructor(u,m){this.g=u,this.map=m}};function yl(u){this.l=u||10,d.PerformanceNavigationTiming?(u=d.performance.getEntriesByType("navigation"),u=u.length>0&&(u[0].nextHopProtocol=="hq"||u[0].nextHopProtocol=="h2")):u=!!(d.chrome&&d.chrome.loadTimes&&d.chrome.loadTimes()&&d.chrome.loadTimes().wasFetchedViaSpdy),this.j=u?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function _l(u){return u.h?!0:u.g?u.g.size>=u.j:!1}function ui(u){return u.h?1:u.g?u.g.size:0}function ci(u,m){return u.h?u.h==m:u.g?u.g.has(m):!1}function vl(u,m){u.g?u.g.add(m):u.h=m}function El(u,m){u.h&&u.h==m?u.h=null:u.g&&u.g.has(m)&&u.g.delete(m)}yl.prototype.cancel=function(){if(this.i=bl(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const u of this.g.values())u.cancel();this.g.clear()}};function bl(u){if(u.h!=null)return u.i.concat(u.h.G);if(u.g!=null&&u.g.size!==0){let m=u.i;for(const v of u.g.values())m=m.concat(v.G);return m}return B(u.i)}var ou=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function ea(u,m){if(u){u=u.split("&");for(let v=0;v<u.length;v++){const S=u[v].indexOf("=");let U,q=null;S>=0?(U=u[v].substring(0,S),q=u[v].substring(S+1)):U=u[v],m(U,q?decodeURIComponent(q.replace(/\+/g," ")):"")}}}function pn(u){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let m;u instanceof pn?(this.l=u.l,Lt(this,u.j),this.o=u.o,this.g=u.g,os(this,u.u),this.h=u.h,Tl(this,fu(u.i)),this.m=u.m):u&&(m=String(u).match(ou))?(this.l=!1,Lt(this,m[1]||"",!0),this.o=hi(m[2]||""),this.g=hi(m[3]||"",!0),os(this,m[4]),this.h=hi(m[5]||"",!0),Tl(this,m[6]||"",!0),this.m=hi(m[7]||"")):(this.l=!1,this.i=new cs(null,this.l))}pn.prototype.toString=function(){const u=[];var m=this.j;m&&u.push(fr(m,ta,!0),":");var v=this.g;return(v||m=="file")&&(u.push("//"),(m=this.o)&&u.push(fr(m,ta,!0),"@"),u.push(Di(v).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),v=this.u,v!=null&&u.push(":",String(v))),(v=this.h)&&(this.g&&v.charAt(0)!="/"&&u.push("/"),u.push(fr(v,v.charAt(0)=="/"?Sl:uu,!0))),(v=this.i.toString())&&u.push("?",v),(v=this.m)&&u.push("#",fr(v,cu)),u.join("")},pn.prototype.resolve=function(u){const m=Et(this);let v=!!u.j;v?Lt(m,u.j):v=!!u.o,v?m.o=u.o:v=!!u.g,v?m.g=u.g:v=u.u!=null;var S=u.h;if(v)os(m,u.u);else if(v=!!u.h){if(S.charAt(0)!="/")if(this.g&&!this.h)S="/"+S;else{var U=m.h.lastIndexOf("/");U!=-1&&(S=m.h.slice(0,U+1)+S)}if(U=S,U==".."||U==".")S="";else if(U.indexOf("./")!=-1||U.indexOf("/.")!=-1){S=U.lastIndexOf("/",0)==0,U=U.split("/");const q=[];for(let ee=0;ee<U.length;){const be=U[ee++];be=="."?S&&ee==U.length&&q.push(""):be==".."?((q.length>1||q.length==1&&q[0]!="")&&q.pop(),S&&ee==U.length&&q.push("")):(q.push(be),S=!0)}S=q.join("/")}else S=U}return v?m.h=S:v=u.i.toString()!=="",v?Tl(m,fu(u.i)):v=!!u.m,v&&(m.m=u.m),m};function Et(u){return new pn(u)}function Lt(u,m,v){u.j=v?hi(m,!0):m,u.j&&(u.j=u.j.replace(/:$/,""))}function os(u,m){if(m){if(m=Number(m),isNaN(m)||m<0)throw Error("Bad port number "+m);u.u=m}else u.u=null}function Tl(u,m,v){m instanceof cs?(u.i=m,ia(u.i,u.l)):(v||(m=fr(m,us)),u.i=new cs(m,u.l))}function Ge(u,m,v){u.i.set(m,v)}function hr(u){return Ge(u,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),u}function hi(u,m){return u?m?decodeURI(u.replace(/%25/g,"%2525")):decodeURIComponent(u):""}function fr(u,m,v){return typeof u=="string"?(u=encodeURI(u).replace(m,rn),v&&(u=u.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),u):null}function rn(u){return u=u.charCodeAt(0),"%"+(u>>4&15).toString(16)+(u&15).toString(16)}var ta=/[#\/\?@]/g,uu=/[#\?:]/g,Sl=/[#\?]/g,us=/[#\?@]/g,cu=/#/g;function cs(u,m){this.h=this.g=null,this.i=u||null,this.j=!!m}function an(u){u.g||(u.g=new Map,u.h=0,u.i&&ea(u.i,function(m,v){u.add(decodeURIComponent(m.replace(/\+/g," ")),v)}))}s=cs.prototype,s.add=function(u,m){an(this),this.i=null,u=hs(this,u);let v=this.g.get(u);return v||this.g.set(u,v=[]),v.push(m),this.h+=1,this};function hu(u,m){an(u),m=hs(u,m),u.g.has(m)&&(u.i=null,u.h-=u.g.get(m).length,u.g.delete(m))}function Al(u,m){return an(u),m=hs(u,m),u.g.has(m)}s.forEach=function(u,m){an(this),this.g.forEach(function(v,S){v.forEach(function(U){u.call(m,U,S,this)},this)},this)};function wl(u,m){an(u);let v=[];if(typeof m=="string")Al(u,m)&&(v=v.concat(u.g.get(hs(u,m))));else for(u=Array.from(u.g.values()),m=0;m<u.length;m++)v=v.concat(u[m]);return v}s.set=function(u,m){return an(this),this.i=null,u=hs(this,u),Al(this,u)&&(this.h-=this.g.get(u).length),this.g.set(u,[m]),this.h+=1,this},s.get=function(u,m){return u?(u=wl(this,u),u.length>0?String(u[0]):m):m};function na(u,m,v){hu(u,m),v.length>0&&(u.i=null,u.g.set(hs(u,m),B(v)),u.h+=v.length)}s.toString=function(){if(this.i)return this.i;if(!this.g)return"";const u=[],m=Array.from(this.g.keys());for(let S=0;S<m.length;S++){var v=m[S];const U=Di(v);v=wl(this,v);for(let q=0;q<v.length;q++){let ee=U;v[q]!==""&&(ee+="="+Di(v[q])),u.push(ee)}}return this.i=u.join("&")};function fu(u){const m=new cs;return m.i=u.i,u.g&&(m.g=new Map(u.g),m.h=u.h),m}function hs(u,m){return m=String(m),u.j&&(m=m.toLowerCase()),m}function ia(u,m){m&&!u.j&&(an(u),u.i=null,u.g.forEach(function(v,S){const U=S.toLowerCase();S!=U&&(hu(this,S),na(this,U,v))},u)),u.j=m}function Fn(u,m){const v=new Bn;if(d.Image){const S=new Image;S.onload=T(Rn,v,"TestLoadImage: loaded",!0,m,S),S.onerror=T(Rn,v,"TestLoadImage: error",!1,m,S),S.onabort=T(Rn,v,"TestLoadImage: abort",!1,m,S),S.ontimeout=T(Rn,v,"TestLoadImage: timeout",!1,m,S),d.setTimeout(function(){S.ontimeout&&S.ontimeout()},1e4),S.src=u}else m(!1)}function Rl(u,m){const v=new Bn,S=new AbortController,U=setTimeout(()=>{S.abort(),Rn(v,"TestPingServer: timeout",!1,m)},1e4);fetch(u,{signal:S.signal}).then(q=>{clearTimeout(U),q.ok?Rn(v,"TestPingServer: ok",!0,m):Rn(v,"TestPingServer: server error",!1,m)}).catch(()=>{clearTimeout(U),Rn(v,"TestPingServer: error",!1,m)})}function Rn(u,m,v,S,U){try{U&&(U.onload=null,U.onerror=null,U.onabort=null,U.ontimeout=null),S(v)}catch{}}function fs(){this.g=new Wo}function fi(u){this.i=u.Sb||null,this.h=u.ab||!1}A(fi,eu),fi.prototype.g=function(){return new dr(this.i,this.h)};function dr(u,m){gt.call(this),this.H=u,this.o=m,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}A(dr,gt),s=dr.prototype,s.open=function(u,m){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=u,this.D=m,this.readyState=1,Gn(this)},s.send=function(u){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const m={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};u&&(m.body=u),(this.H||d).fetch(new Request(this.D,m)).then(this.Pa.bind(this),this.ga.bind(this))},s.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,ds(this)),this.readyState=0},s.Pa=function(u){if(this.g&&(this.l=u,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=u.headers,this.readyState=2,Gn(this)),this.g&&(this.readyState=3,Gn(this),this.g)))if(this.responseType==="arraybuffer")u.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof d.ReadableStream<"u"&&"body"in u){if(this.j=u.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;sa(this)}else u.text().then(this.Oa.bind(this),this.ga.bind(this))};function sa(u){u.j.read().then(u.Ma.bind(u)).catch(u.ga.bind(u))}s.Ma=function(u){if(this.g){if(this.o&&u.value)this.response.push(u.value);else if(!this.o){var m=u.value?u.value:new Uint8Array(0);(m=this.B.decode(m,{stream:!u.done}))&&(this.response=this.responseText+=m)}u.done?ds(this):Gn(this),this.readyState==3&&sa(this)}},s.Oa=function(u){this.g&&(this.response=this.responseText=u,ds(this))},s.Na=function(u){this.g&&(this.response=u,ds(this))},s.ga=function(){this.g&&ds(this)};function ds(u){u.readyState=4,u.l=null,u.j=null,u.B=null,Gn(u)}s.setRequestHeader=function(u,m){this.A.append(u,m)},s.getResponseHeader=function(u){return this.h&&this.h.get(u.toLowerCase())||""},s.getAllResponseHeaders=function(){if(!this.h)return"";const u=[],m=this.h.entries();for(var v=m.next();!v.done;)v=v.value,u.push(v[0]+": "+v[1]),v=m.next();return u.join(`\r
`)};function Gn(u){u.onreadystatechange&&u.onreadystatechange.call(u)}Object.defineProperty(dr.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(u){this.m=u?"include":"same-origin"}});function xn(u){let m="";return Ue(u,function(v,S){m+=S,m+=":",m+=v,m+=`\r
`}),m}function mr(u,m,v){e:{for(S in v){var S=!1;break e}S=!0}S||(v=xn(v),typeof u=="string"?v!=null&&Di(v):Ge(u,m,v))}function Ye(u){gt.call(this),this.headers=new Map,this.L=u||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}A(Ye,gt);var di=/^https?$/i,xl=["POST","PUT"];s=Ye.prototype,s.Fa=function(u){this.H=u},s.ea=function(u,m,v,S){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+u);m=m?m.toUpperCase():"GET",this.D=u,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():gl.g(),this.g.onreadystatechange=x(y(this.Ca,this));try{this.B=!0,this.g.open(m,String(u),!0),this.B=!1}catch(q){pr(this,q);return}if(u=v||"",v=new Map(this.headers),S)if(Object.getPrototypeOf(S)===Object.prototype)for(var U in S)v.set(U,S[U]);else if(typeof S.keys=="function"&&typeof S.get=="function")for(const q of S.keys())v.set(q,S.get(q));else throw Error("Unknown input type for opt_headers: "+String(S));S=Array.from(v.keys()).find(q=>q.toLowerCase()=="content-type"),U=d.FormData&&u instanceof d.FormData,!(Array.prototype.indexOf.call(xl,m,void 0)>=0)||S||U||v.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[q,ee]of v)this.g.setRequestHeader(q,ee);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(u),this.v=!1}catch(q){pr(this,q)}};function pr(u,m){u.h=!1,u.g&&(u.j=!0,u.g.abort(),u.j=!1),u.l=m,u.o=5,Cl(u),Oi(u)}function Cl(u){u.A||(u.A=!0,Nt(u,"complete"),Nt(u,"error"))}s.abort=function(u){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=u||7,Nt(this,"complete"),Nt(this,"abort"),Oi(this))},s.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Oi(this,!0)),Ye.Z.N.call(this)},s.Ca=function(){this.u||(this.B||this.v||this.j?gr(this):this.Xa())},s.Xa=function(){gr(this)};function gr(u){if(u.h&&typeof c<"u"){if(u.v&&Kn(u)==4)setTimeout(u.Ca.bind(u),0);else if(Nt(u,"readystatechange"),Kn(u)==4){u.h=!1;try{const q=u.ca();e:switch(q){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var m=!0;break e;default:m=!1}var v;if(!(v=m)){var S;if(S=q===0){let ee=String(u.D).match(ou)[1]||null;!ee&&d.self&&d.self.location&&(ee=d.self.location.protocol.slice(0,-1)),S=!di.test(ee?ee.toLowerCase():"")}v=S}if(v)Nt(u,"complete"),Nt(u,"success");else{u.o=6;try{var U=Kn(u)>2?u.g.statusText:""}catch{U=""}u.l=U+" ["+u.ca()+"]",Cl(u)}}finally{Oi(u)}}}}function Oi(u,m){if(u.g){u.m&&(clearTimeout(u.m),u.m=null);const v=u.g;u.g=null,m||Nt(u,"ready");try{v.onreadystatechange=null}catch{}}}s.isActive=function(){return!!this.g};function Kn(u){return u.g?u.g.readyState:0}s.ca=function(){try{return Kn(this)>2?this.g.status:-1}catch{return-1}},s.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},s.La=function(u){if(this.g){var m=this.g.responseText;return u&&m.indexOf(u)==0&&(m=m.substring(u.length)),Ih(m)}};function zt(u){try{if(!u.g)return null;if("response"in u.g)return u.g.response;switch(u.F){case"":case"text":return u.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in u.g)return u.g.mozResponseArrayBuffer}return null}catch{return null}}function Mi(u){const m={};u=(u.g&&Kn(u)>=2&&u.g.getAllResponseHeaders()||"").split(`\r
`);for(let S=0;S<u.length;S++){if(C(u[S]))continue;var v=ru(u[S]);const U=v[0];if(v=v[1],typeof v!="string")continue;v=v.trim();const q=m[U]||[];m[U]=q,q.push(v)}Fe(m,function(S){return S.join(", ")})}s.ya=function(){return this.o},s.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function mi(u,m,v){return v&&v.internalChannelParams&&v.internalChannelParams[u]||m}function ms(u){this.za=0,this.i=[],this.j=new Bn,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=mi("failFast",!1,u),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=mi("baseRetryDelayMs",5e3,u),this.Za=mi("retryDelaySeedMs",1e4,u),this.Ta=mi("forwardChannelMaxRetries",2,u),this.va=mi("forwardChannelRequestTimeoutMs",2e4,u),this.ma=u&&u.xmlHttpFactory||void 0,this.Ua=u&&u.Rb||void 0,this.Aa=u&&u.useFetchStreams||!1,this.O=void 0,this.L=u&&u.supportsCrossDomainXhr||!1,this.M="",this.h=new yl(u&&u.concurrentRequestLimit),this.Ba=new fs,this.S=u&&u.fastHandshake||!1,this.R=u&&u.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=u&&u.Pb||!1,u&&u.ua&&this.j.ua(),u&&u.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&u&&u.detectBufferingProxy||!1,this.ia=void 0,u&&u.longPollingTimeout&&u.longPollingTimeout>0&&(this.ia=u.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}s=ms.prototype,s.ka=8,s.I=1,s.connect=function(u,m,v,S){yt(0),this.W=u,this.H=m||{},v&&S!==void 0&&(this.H.OSID=v,this.H.OAID=S),this.F=this.X,this.J=vu(this,null,this.W),pi(this)};function Il(u){if(ra(u),u.I==3){var m=u.V++,v=Et(u.J);if(Ge(v,"SID",u.M),Ge(v,"RID",m),Ge(v,"TYPE","terminate"),yr(u,v),m=new qn(u,u.j,m),m.M=2,m.A=hr(Et(v)),v=!1,d.navigator&&d.navigator.sendBeacon)try{v=d.navigator.sendBeacon(m.A.toString(),"")}catch{}!v&&d.Image&&(new Image().src=m.A,v=!0),v||(m.g=Eu(m.j,null),m.g.ea(m.A)),m.F=Date.now(),ai(m)}_u(u)}function ps(u){u.g&&(Dl(u),u.g.cancel(),u.g=null)}function ra(u){ps(u),u.v&&(d.clearTimeout(u.v),u.v=null),la(u),u.h.cancel(),u.m&&(typeof u.m=="number"&&d.clearTimeout(u.m),u.m=null)}function pi(u){if(!_l(u.h)&&!u.m){u.m=!0;var m=u.Ea;ze||R(),Le||(ze(),Le=!0),w.add(m,u),u.D=0}}function aa(u,m){return ui(u.h)>=u.h.j-(u.m?1:0)?!1:u.m?(u.i=m.G.concat(u.i),!0):u.I==1||u.I==2||u.D>=(u.Sa?0:u.Ta)?!1:(u.m=ii(y(u.Ea,u,m),yu(u,u.D)),u.D++,!0)}s.Ea=function(u){if(this.m)if(this.m=null,this.I==1){if(!u){this.V=Math.floor(Math.random()*1e5),u=this.V++;const U=new qn(this,this.j,u);let q=this.o;if(this.U&&(q?(q=M(q),ne(q,this.U)):q=this.U),this.u!==null||this.R||(U.J=q,q=null),this.S)e:{for(var m=0,v=0;v<this.i.length;v++){t:{var S=this.i[v];if("__data__"in S.map&&(S=S.map.__data__,typeof S=="string")){S=S.length;break t}S=void 0}if(S===void 0)break;if(m+=S,m>4096){m=v;break e}if(m===4096||v===this.i.length-1){m=v+1;break e}}m=1e3}else m=1e3;m=du(this,U,m),v=Et(this.J),Ge(v,"RID",u),Ge(v,"CVER",22),this.G&&Ge(v,"X-HTTP-Session-Id",this.G),yr(this,v),q&&(this.R?m="headers="+Di(xn(q))+"&"+m:this.u&&mr(v,this.u,q)),vl(this.h,U),this.Ra&&Ge(v,"TYPE","init"),this.S?(Ge(v,"$req",m),Ge(v,"SID","null"),U.U=!0,ri(U,v,null)):ri(U,v,m),this.I=2}}else this.I==3&&(u?Nl(this,u):this.i.length==0||_l(this.h)||Nl(this))};function Nl(u,m){var v;m?v=m.l:v=u.V++;const S=Et(u.J);Ge(S,"SID",u.M),Ge(S,"RID",v),Ge(S,"AID",u.K),yr(u,S),u.u&&u.o&&mr(S,u.u,u.o),v=new qn(u,u.j,v,u.D+1),u.u===null&&(v.J=u.o),m&&(u.i=m.G.concat(u.i)),m=du(u,v,1e3),v.H=Math.round(u.va*.5)+Math.round(u.va*.5*Math.random()),vl(u.h,v),ri(v,S,m)}function yr(u,m){u.H&&Ue(u.H,function(v,S){Ge(m,S,v)}),u.l&&Ue({},function(v,S){Ge(m,S,v)})}function du(u,m,v){v=Math.min(u.i.length,v);const S=u.l?y(u.l.Ka,u.l,u):null;e:{var U=u.i;let be=-1;for(;;){const ft=["count="+v];be==-1?v>0?(be=U[0].g,ft.push("ofs="+be)):be=0:ft.push("ofs="+be);let Be=!0;for(let at=0;at<v;at++){var q=U[at].g;const Cn=U[at].map;if(q-=be,q<0)be=Math.max(0,U[at].g-100),Be=!1;else try{q="req"+q+"_"||"";try{var ee=Cn instanceof Map?Cn:Object.entries(Cn);for(const[yi,Qn]of ee){let Yn=Qn;p(Qn)&&(Yn=ls(Qn)),ft.push(q+yi+"="+encodeURIComponent(Yn))}}catch(yi){throw ft.push(q+"type="+encodeURIComponent("_badmap")),yi}}catch{S&&S(Cn)}}if(Be){ee=ft.join("&");break e}}ee=void 0}return u=u.i.splice(0,v),m.G=u,ee}function mu(u){if(!u.g&&!u.v){u.Y=1;var m=u.Da;ze||R(),Le||(ze(),Le=!0),w.add(m,u),u.A=0}}function _r(u){return u.g||u.v||u.A>=3?!1:(u.Y++,u.v=ii(y(u.Da,u),yu(u,u.A)),u.A++,!0)}s.Da=function(){if(this.v=null,pu(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var u=4*this.T;this.j.info("BP detection timer enabled: "+u),this.B=ii(y(this.Wa,this),u)}},s.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,yt(10),ps(this),pu(this))};function Dl(u){u.B!=null&&(d.clearTimeout(u.B),u.B=null)}function pu(u){u.g=new qn(u,u.j,"rpc",u.Y),u.u===null&&(u.g.J=u.o),u.g.P=0;var m=Et(u.na);Ge(m,"RID","rpc"),Ge(m,"SID",u.M),Ge(m,"AID",u.K),Ge(m,"CI",u.F?"0":"1"),!u.F&&u.ia&&Ge(m,"TO",u.ia),Ge(m,"TYPE","xmlhttp"),yr(u,m),u.u&&u.o&&mr(m,u.u,u.o),u.O&&(u.g.H=u.O);var v=u.g;u=u.ba,v.M=1,v.A=hr(Et(m)),v.u=null,v.R=!0,Zr(v,u)}s.Va=function(){this.C!=null&&(this.C=null,ps(this),_r(this),yt(19))};function la(u){u.C!=null&&(d.clearTimeout(u.C),u.C=null)}function gu(u,m){var v=null;if(u.g==m){la(u),Dl(u),u.g=null;var S=2}else if(ci(u.h,m))v=m.G,El(u.h,m),S=1;else return;if(u.I!=0){if(m.o)if(S==1){v=m.u?m.u.length:0,m=Date.now()-m.F;var U=u.D;S=$r(),Nt(S,new ni(S,v)),pi(u)}else mu(u);else if(U=m.m,U==3||U==0&&m.X>0||!(S==1&&aa(u,m)||S==2&&_r(u)))switch(v&&v.length>0&&(m=u.h,m.i=m.i.concat(v)),U){case 1:gi(u,5);break;case 4:gi(u,10);break;case 3:gi(u,6);break;default:gi(u,2)}}}function yu(u,m){let v=u.Qa+Math.floor(Math.random()*u.Za);return u.isActive()||(v*=2),v*m}function gi(u,m){if(u.j.info("Error code "+m),m==2){var v=y(u.bb,u),S=u.Ua;const U=!S;S=new pn(S||"//www.google.com/images/cleardot.gif"),d.location&&d.location.protocol=="http"||Lt(S,"https"),hr(S),U?Fn(S.toString(),v):Rl(S.toString(),v)}else yt(2);u.I=0,u.l&&u.l.pa(m),_u(u),ra(u)}s.bb=function(u){u?(this.j.info("Successfully pinged google.com"),yt(2)):(this.j.info("Failed to ping google.com"),yt(1))};function _u(u){if(u.I=0,u.ja=[],u.l){const m=bl(u.h);(m.length!=0||u.i.length!=0)&&(K(u.ja,m),K(u.ja,u.i),u.h.i.length=0,B(u.i),u.i.length=0),u.l.oa()}}function vu(u,m,v){var S=v instanceof pn?Et(v):new pn(v);if(S.g!="")m&&(S.g=m+"."+S.g),os(S,S.u);else{var U=d.location;S=U.protocol,m=m?m+"."+U.hostname:U.hostname,U=+U.port;const q=new pn(null);S&&Lt(q,S),m&&(q.g=m),U&&os(q,U),v&&(q.h=v),S=q}return v=u.G,m=u.wa,v&&m&&Ge(S,v,m),Ge(S,"VER",u.ka),yr(u,S),S}function Eu(u,m,v){if(m&&!u.L)throw Error("Can't create secondary domain capable XhrIo object.");return m=u.Aa&&!u.ma?new Ye(new fi({ab:v})):new Ye(u.ma),m.Fa(u.L),m}s.isActive=function(){return!!this.l&&this.l.isActive(this)};function bu(){}s=bu.prototype,s.ra=function(){},s.qa=function(){},s.pa=function(){},s.oa=function(){},s.isActive=function(){return!0},s.Ka=function(){};function gs(){}gs.prototype.g=function(u,m){return new tn(u,m)};function tn(u,m){gt.call(this),this.g=new ms(m),this.l=u,this.h=m&&m.messageUrlParams||null,u=m&&m.messageHeaders||null,m&&m.clientProtocolHeaderRequired&&(u?u["X-Client-Protocol"]="webchannel":u={"X-Client-Protocol":"webchannel"}),this.g.o=u,u=m&&m.initMessageHeaders||null,m&&m.messageContentType&&(u?u["X-WebChannel-Content-Type"]=m.messageContentType:u={"X-WebChannel-Content-Type":m.messageContentType}),m&&m.sa&&(u?u["X-WebChannel-Client-Profile"]=m.sa:u={"X-WebChannel-Client-Profile":m.sa}),this.g.U=u,(u=m&&m.Qb)&&!C(u)&&(this.g.u=u),this.A=m&&m.supportsCrossDomainXhr||!1,this.v=m&&m.sendRawJson||!1,(m=m&&m.httpSessionIdParam)&&!C(m)&&(this.g.G=m,u=this.h,u!==null&&m in u&&(u=this.h,m in u&&delete u[m])),this.j=new Vi(this)}A(tn,gt),tn.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},tn.prototype.close=function(){Il(this.g)},tn.prototype.o=function(u){var m=this.g;if(typeof u=="string"){var v={};v.__data__=u,u=v}else this.v&&(v={},v.__data__=ls(u),u=v);m.i.push(new vt(m.Ya++,u)),m.I==3&&pi(m)},tn.prototype.N=function(){this.g.l=null,delete this.j,Il(this.g),delete this.g,tn.Z.N.call(this)};function Tu(u){Pt.call(this),u.__headers__&&(this.headers=u.__headers__,this.statusCode=u.__status__,delete u.__headers__,delete u.__status__);var m=u.__sm__;if(m){e:{for(const v in m){u=v;break e}u=void 0}(this.i=u)&&(u=this.i,m=m!==null&&u in m?m[u]:void 0),this.data=m}else this.data=u}A(Tu,Pt);function Su(){An.call(this),this.status=1}A(Su,An);function Vi(u){this.g=u}A(Vi,bu),Vi.prototype.ra=function(){Nt(this.g,"a")},Vi.prototype.qa=function(u){Nt(this.g,new Tu(u))},Vi.prototype.pa=function(u){Nt(this.g,new Su)},Vi.prototype.oa=function(){Nt(this.g,"b")},gs.prototype.createWebChannel=gs.prototype.g,tn.prototype.send=tn.prototype.o,tn.prototype.open=tn.prototype.m,tn.prototype.close=tn.prototype.close,B0=function(){return new gs},z0=function(){return $r()},P0=ht,em={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},ur.NO_ERROR=0,ur.TIMEOUT=8,ur.HTTP_ERROR=6,Mc=ur,pl.COMPLETE="complete",j0=pl,tu.EventType=zn,zn.OPEN="a",zn.CLOSE="b",zn.ERROR="c",zn.MESSAGE="d",gt.prototype.listen=gt.prototype.J,_o=tu,Ye.prototype.listenOnce=Ye.prototype.K,Ye.prototype.getLastError=Ye.prototype.Ha,Ye.prototype.getLastErrorCode=Ye.prototype.ya,Ye.prototype.getStatus=Ye.prototype.ca,Ye.prototype.getResponseJson=Ye.prototype.La,Ye.prototype.getResponseText=Ye.prototype.la,Ye.prototype.send=Ye.prototype.ea,Ye.prototype.setWithCredentials=Ye.prototype.Fa,U0=Ye}).apply(typeof xc<"u"?xc:typeof self<"u"?self:typeof window<"u"?window:{});/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $t{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}$t.UNAUTHENTICATED=new $t(null),$t.GOOGLE_CREDENTIALS=new $t("google-credentials-uid"),$t.FIRST_PARTY=new $t("first-party-uid"),$t.MOCK_USER=new $t("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let rl="12.9.0";function r2(s){rl=s}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Br=new Tm("@firebase/firestore");function Pa(){return Br.logLevel}function ie(s,...e){if(Br.logLevel<=Ie.DEBUG){const i=e.map(wm);Br.debug(`Firestore (${rl}): ${s}`,...i)}}function es(s,...e){if(Br.logLevel<=Ie.ERROR){const i=e.map(wm);Br.error(`Firestore (${rl}): ${s}`,...i)}}function qr(s,...e){if(Br.logLevel<=Ie.WARN){const i=e.map(wm);Br.warn(`Firestore (${rl}): ${s}`,...i)}}function wm(s){if(typeof s=="string")return s;try{return(function(i){return JSON.stringify(i)})(s)}catch{return s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pe(s,e,i){let r="Unexpected state";typeof e=="string"?r=e:i=e,q0(s,r,i)}function q0(s,e,i){let r=`FIRESTORE (${rl}) INTERNAL ASSERTION FAILED: ${e} (ID: ${s.toString(16)})`;if(i!==void 0)try{r+=" CONTEXT: "+JSON.stringify(i)}catch{r+=" CONTEXT: "+i}throw es(r),new Error(r)}function He(s,e,i,r){let o="Unexpected state";typeof i=="string"?o=i:r=i,s||q0(e,o,r)}function Ee(s,e){return s}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class oe extends rs{constructor(e,i){super(e,i),this.code=e,this.message=i,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ur{constructor(){this.promise=new Promise(((e,i)=>{this.resolve=e,this.reject=i}))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class H0{constructor(e,i){this.user=i,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class a2{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,i){e.enqueueRetryable((()=>i($t.UNAUTHENTICATED)))}shutdown(){}}class l2{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,i){this.changeListener=i,e.enqueueRetryable((()=>i(this.token.user)))}shutdown(){this.changeListener=null}}class o2{constructor(e){this.t=e,this.currentUser=$t.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,i){He(this.o===void 0,42304);let r=this.i;const o=_=>this.i!==r?(r=this.i,i(_)):Promise.resolve();let c=new Ur;this.o=()=>{this.i++,this.currentUser=this.u(),c.resolve(),c=new Ur,e.enqueueRetryable((()=>o(this.currentUser)))};const d=()=>{const _=c;e.enqueueRetryable((async()=>{await _.promise,await o(this.currentUser)}))},p=_=>{ie("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=_,this.o&&(this.auth.addAuthTokenListener(this.o),d())};this.t.onInit((_=>p(_))),setTimeout((()=>{if(!this.auth){const _=this.t.getImmediate({optional:!0});_?p(_):(ie("FirebaseAuthCredentialsProvider","Auth not yet detected"),c.resolve(),c=new Ur)}}),0),d()}getToken(){const e=this.i,i=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(i).then((r=>this.i!==e?(ie("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(He(typeof r.accessToken=="string",31837,{l:r}),new H0(r.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return He(e===null||typeof e=="string",2055,{h:e}),new $t(e)}}class u2{constructor(e,i,r){this.P=e,this.T=i,this.I=r,this.type="FirstParty",this.user=$t.FIRST_PARTY,this.R=new Map}A(){return this.I?this.I():null}get headers(){this.R.set("X-Goog-AuthUser",this.P);const e=this.A();return e&&this.R.set("Authorization",e),this.T&&this.R.set("X-Goog-Iam-Authorization-Token",this.T),this.R}}class c2{constructor(e,i,r){this.P=e,this.T=i,this.I=r}getToken(){return Promise.resolve(new u2(this.P,this.T,this.I))}start(e,i){e.enqueueRetryable((()=>i($t.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class tv{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class h2{constructor(e,i){this.V=i,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,Un(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,i){He(this.o===void 0,3512);const r=c=>{c.error!=null&&ie("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${c.error.message}`);const d=c.token!==this.m;return this.m=c.token,ie("FirebaseAppCheckTokenProvider",`Received ${d?"new":"existing"} token.`),d?i(c.token):Promise.resolve()};this.o=c=>{e.enqueueRetryable((()=>r(c)))};const o=c=>{ie("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=c,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((c=>o(c))),setTimeout((()=>{if(!this.appCheck){const c=this.V.getImmediate({optional:!0});c?o(c):ie("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new tv(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then((i=>i?(He(typeof i.token=="string",44558,{tokenResult:i}),this.m=i.token,new tv(i.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function f2(s){const e=typeof self<"u"&&(self.crypto||self.msCrypto),i=new Uint8Array(s);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(i);else for(let r=0;r<s;r++)i[r]=Math.floor(256*Math.random());return i}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rm{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",i=62*Math.floor(4.129032258064516);let r="";for(;r.length<20;){const o=f2(40);for(let c=0;c<o.length;++c)r.length<20&&o[c]<i&&(r+=e.charAt(o[c]%62))}return r}}function Ne(s,e){return s<e?-1:s>e?1:0}function tm(s,e){const i=Math.min(s.length,e.length);for(let r=0;r<i;r++){const o=s.charAt(r),c=e.charAt(r);if(o!==c)return Pd(o)===Pd(c)?Ne(o,c):Pd(o)?1:-1}return Ne(s.length,e.length)}const d2=55296,m2=57343;function Pd(s){const e=s.charCodeAt(0);return e>=d2&&e<=m2}function Za(s,e,i){return s.length===e.length&&s.every(((r,o)=>i(r,e[o])))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nv="__name__";class Ti{constructor(e,i,r){i===void 0?i=0:i>e.length&&pe(637,{offset:i,range:e.length}),r===void 0?r=e.length-i:r>e.length-i&&pe(1746,{length:r,range:e.length-i}),this.segments=e,this.offset=i,this.len=r}get length(){return this.len}isEqual(e){return Ti.comparator(this,e)===0}child(e){const i=this.segments.slice(this.offset,this.limit());return e instanceof Ti?e.forEach((r=>{i.push(r)})):i.push(e),this.construct(i)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let i=0;i<this.length;i++)if(this.get(i)!==e.get(i))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let i=0;i<this.length;i++)if(this.get(i)!==e.get(i))return!1;return!0}forEach(e){for(let i=this.offset,r=this.limit();i<r;i++)e(this.segments[i])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,i){const r=Math.min(e.length,i.length);for(let o=0;o<r;o++){const c=Ti.compareSegments(e.get(o),i.get(o));if(c!==0)return c}return Ne(e.length,i.length)}static compareSegments(e,i){const r=Ti.isNumericId(e),o=Ti.isNumericId(i);return r&&!o?-1:!r&&o?1:r&&o?Ti.extractNumericId(e).compare(Ti.extractNumericId(i)):tm(e,i)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return Ys.fromString(e.substring(4,e.length-2))}}class nt extends Ti{construct(e,i,r){return new nt(e,i,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const i=[];for(const r of e){if(r.indexOf("//")>=0)throw new oe($.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);i.push(...r.split("/").filter((o=>o.length>0)))}return new nt(i)}static emptyPath(){return new nt([])}}const p2=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Qt extends Ti{construct(e,i,r){return new Qt(e,i,r)}static isValidIdentifier(e){return p2.test(e)}canonicalString(){return this.toArray().map((e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Qt.isValidIdentifier(e)||(e="`"+e+"`"),e))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===nv}static keyField(){return new Qt([nv])}static fromServerFormat(e){const i=[];let r="",o=0;const c=()=>{if(r.length===0)throw new oe($.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);i.push(r),r=""};let d=!1;for(;o<e.length;){const p=e[o];if(p==="\\"){if(o+1===e.length)throw new oe($.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const _=e[o+1];if(_!=="\\"&&_!=="."&&_!=="`")throw new oe($.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=_,o+=2}else p==="`"?(d=!d,o++):p!=="."||d?(r+=p,o++):(c(),o++)}if(c(),d)throw new oe($.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Qt(i)}static emptyPath(){return new Qt([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class de{constructor(e){this.path=e}static fromPath(e){return new de(nt.fromString(e))}static fromName(e){return new de(nt.fromString(e).popFirst(5))}static empty(){return new de(nt.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&nt.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,i){return nt.comparator(e.path,i.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new de(new nt(e.slice()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function F0(s,e,i){if(!i)throw new oe($.INVALID_ARGUMENT,`Function ${s}() cannot be called with an empty ${e}.`)}function g2(s,e,i,r){if(e===!0&&r===!0)throw new oe($.INVALID_ARGUMENT,`${s} and ${i} cannot be used together.`)}function iv(s){if(!de.isDocumentKey(s))throw new oe($.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${s} has ${s.length}.`)}function sv(s){if(de.isDocumentKey(s))throw new oe($.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${s} has ${s.length}.`)}function G0(s){return typeof s=="object"&&s!==null&&(Object.getPrototypeOf(s)===Object.prototype||Object.getPrototypeOf(s)===null)}function xm(s){if(s===void 0)return"undefined";if(s===null)return"null";if(typeof s=="string")return s.length>20&&(s=`${s.substring(0,20)}...`),JSON.stringify(s);if(typeof s=="number"||typeof s=="boolean")return""+s;if(typeof s=="object"){if(s instanceof Array)return"an array";{const e=(function(r){return r.constructor?r.constructor.name:null})(s);return e?`a custom ${e} object`:"an object"}}return typeof s=="function"?"a function":pe(12329,{type:typeof s})}function Si(s,e){if("_delegate"in s&&(s=s._delegate),!(s instanceof e)){if(e.name===s.constructor.name)throw new oe($.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const i=xm(s);throw new oe($.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${i}`)}}return s}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Rt(s,e){const i={typeString:s};return e&&(i.value=e),i}function qo(s,e){if(!G0(s))throw new oe($.INVALID_ARGUMENT,"JSON must be an object");let i;for(const r in e)if(e[r]){const o=e[r].typeString,c="value"in e[r]?{value:e[r].value}:void 0;if(!(r in s)){i=`JSON missing required field: '${r}'`;break}const d=s[r];if(o&&typeof d!==o){i=`JSON field '${r}' must be a ${o}.`;break}if(c!==void 0&&d!==c.value){i=`Expected '${r}' field to equal '${c.value}'`;break}}if(i)throw new oe($.INVALID_ARGUMENT,i);return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rv=-62135596800,av=1e6;class it{static now(){return it.fromMillis(Date.now())}static fromDate(e){return it.fromMillis(e.getTime())}static fromMillis(e){const i=Math.floor(e/1e3),r=Math.floor((e-1e3*i)*av);return new it(i,r)}constructor(e,i){if(this.seconds=e,this.nanoseconds=i,i<0)throw new oe($.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+i);if(i>=1e9)throw new oe($.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+i);if(e<rv)throw new oe($.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new oe($.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/av}_compareTo(e){return this.seconds===e.seconds?Ne(this.nanoseconds,e.nanoseconds):Ne(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:it._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(qo(e,it._jsonSchema))return new it(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-rv;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}it._jsonSchemaVersion="firestore/timestamp/1.0",it._jsonSchema={type:Rt("string",it._jsonSchemaVersion),seconds:Rt("number"),nanoseconds:Rt("number")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _e{static fromTimestamp(e){return new _e(e)}static min(){return new _e(new it(0,0))}static max(){return new _e(new it(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Do=-1;function y2(s,e){const i=s.toTimestamp().seconds,r=s.toTimestamp().nanoseconds+1,o=_e.fromTimestamp(r===1e9?new it(i+1,0):new it(i,r));return new Js(o,de.empty(),e)}function _2(s){return new Js(s.readTime,s.key,Do)}class Js{constructor(e,i,r){this.readTime=e,this.documentKey=i,this.largestBatchId=r}static min(){return new Js(_e.min(),de.empty(),Do)}static max(){return new Js(_e.max(),de.empty(),Do)}}function v2(s,e){let i=s.readTime.compareTo(e.readTime);return i!==0?i:(i=de.comparator(s.documentKey,e.documentKey),i!==0?i:Ne(s.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const E2="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class b2{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((e=>e()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function al(s){if(s.code!==$.FAILED_PRECONDITION||s.message!==E2)throw s;ie("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class J{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e((i=>{this.isDone=!0,this.result=i,this.nextCallback&&this.nextCallback(i)}),(i=>{this.isDone=!0,this.error=i,this.catchCallback&&this.catchCallback(i)}))}catch(e){return this.next(void 0,e)}next(e,i){return this.callbackAttached&&pe(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(i,this.error):this.wrapSuccess(e,this.result):new J(((r,o)=>{this.nextCallback=c=>{this.wrapSuccess(e,c).next(r,o)},this.catchCallback=c=>{this.wrapFailure(i,c).next(r,o)}}))}toPromise(){return new Promise(((e,i)=>{this.next(e,i)}))}wrapUserFunction(e){try{const i=e();return i instanceof J?i:J.resolve(i)}catch(i){return J.reject(i)}}wrapSuccess(e,i){return e?this.wrapUserFunction((()=>e(i))):J.resolve(i)}wrapFailure(e,i){return e?this.wrapUserFunction((()=>e(i))):J.reject(i)}static resolve(e){return new J(((i,r)=>{i(e)}))}static reject(e){return new J(((i,r)=>{r(e)}))}static waitFor(e){return new J(((i,r)=>{let o=0,c=0,d=!1;e.forEach((p=>{++o,p.next((()=>{++c,d&&c===o&&i()}),(_=>r(_)))})),d=!0,c===o&&i()}))}static or(e){let i=J.resolve(!1);for(const r of e)i=i.next((o=>o?J.resolve(o):r()));return i}static forEach(e,i){const r=[];return e.forEach(((o,c)=>{r.push(i.call(this,o,c))})),this.waitFor(r)}static mapArray(e,i){return new J(((r,o)=>{const c=e.length,d=new Array(c);let p=0;for(let _=0;_<c;_++){const y=_;i(e[y]).next((T=>{d[y]=T,++p,p===c&&r(d)}),(T=>o(T)))}}))}static doWhile(e,i){return new J(((r,o)=>{const c=()=>{e()===!0?i().next((()=>{c()}),o):r()};c()}))}}function T2(s){const e=s.match(/Android ([\d.]+)/i),i=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(i)}function ll(s){return s.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uh{constructor(e,i){this.previousValue=e,i&&(i.sequenceNumberHandler=r=>this.ae(r),this.ue=r=>i.writeSequenceNumber(r))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ue&&this.ue(e),e}}uh.ce=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Cm=-1;function ch(s){return s==null}function Fc(s){return s===0&&1/s==-1/0}function S2(s){return typeof s=="number"&&Number.isInteger(s)&&!Fc(s)&&s<=Number.MAX_SAFE_INTEGER&&s>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const K0="";function A2(s){let e="";for(let i=0;i<s.length;i++)e.length>0&&(e=lv(e)),e=w2(s.get(i),e);return lv(e)}function w2(s,e){let i=e;const r=s.length;for(let o=0;o<r;o++){const c=s.charAt(o);switch(c){case"\0":i+="";break;case K0:i+="";break;default:i+=c}}return i}function lv(s){return s+K0+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ov(s){let e=0;for(const i in s)Object.prototype.hasOwnProperty.call(s,i)&&e++;return e}function nr(s,e){for(const i in s)Object.prototype.hasOwnProperty.call(s,i)&&e(i,s[i])}function Q0(s){for(const e in s)if(Object.prototype.hasOwnProperty.call(s,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ot{constructor(e,i){this.comparator=e,this.root=i||Kt.EMPTY}insert(e,i){return new ot(this.comparator,this.root.insert(e,i,this.comparator).copy(null,null,Kt.BLACK,null,null))}remove(e){return new ot(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Kt.BLACK,null,null))}get(e){let i=this.root;for(;!i.isEmpty();){const r=this.comparator(e,i.key);if(r===0)return i.value;r<0?i=i.left:r>0&&(i=i.right)}return null}indexOf(e){let i=0,r=this.root;for(;!r.isEmpty();){const o=this.comparator(e,r.key);if(o===0)return i+r.left.size;o<0?r=r.left:(i+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal(((i,r)=>(e(i,r),!1)))}toString(){const e=[];return this.inorderTraversal(((i,r)=>(e.push(`${i}:${r}`),!1))),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Cc(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Cc(this.root,e,this.comparator,!1)}getReverseIterator(){return new Cc(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Cc(this.root,e,this.comparator,!0)}}class Cc{constructor(e,i,r,o){this.isReverse=o,this.nodeStack=[];let c=1;for(;!e.isEmpty();)if(c=i?r(e.key,i):1,i&&o&&(c*=-1),c<0)e=this.isReverse?e.left:e.right;else{if(c===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const i={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return i}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Kt{constructor(e,i,r,o,c){this.key=e,this.value=i,this.color=r??Kt.RED,this.left=o??Kt.EMPTY,this.right=c??Kt.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,i,r,o,c){return new Kt(e??this.key,i??this.value,r??this.color,o??this.left,c??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,i,r){let o=this;const c=r(e,o.key);return o=c<0?o.copy(null,null,null,o.left.insert(e,i,r),null):c===0?o.copy(null,i,null,null,null):o.copy(null,null,null,null,o.right.insert(e,i,r)),o.fixUp()}removeMin(){if(this.left.isEmpty())return Kt.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,i){let r,o=this;if(i(e,o.key)<0)o.left.isEmpty()||o.left.isRed()||o.left.left.isRed()||(o=o.moveRedLeft()),o=o.copy(null,null,null,o.left.remove(e,i),null);else{if(o.left.isRed()&&(o=o.rotateRight()),o.right.isEmpty()||o.right.isRed()||o.right.left.isRed()||(o=o.moveRedRight()),i(e,o.key)===0){if(o.right.isEmpty())return Kt.EMPTY;r=o.right.min(),o=o.copy(r.key,r.value,null,null,o.right.removeMin())}o=o.copy(null,null,null,null,o.right.remove(e,i))}return o.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Kt.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Kt.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),i=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,i)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw pe(43730,{key:this.key,value:this.value});if(this.right.isRed())throw pe(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw pe(27949);return e+(this.isRed()?0:1)}}Kt.EMPTY=null,Kt.RED=!0,Kt.BLACK=!1;Kt.EMPTY=new class{constructor(){this.size=0}get key(){throw pe(57766)}get value(){throw pe(16141)}get color(){throw pe(16727)}get left(){throw pe(29726)}get right(){throw pe(36894)}copy(e,i,r,o,c){return this}insert(e,i,r){return new Kt(e,i)}remove(e,i){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mt{constructor(e){this.comparator=e,this.data=new ot(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal(((i,r)=>(e(i),!1)))}forEachInRange(e,i){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const o=r.getNext();if(this.comparator(o.key,e[1])>=0)return;i(o.key)}}forEachWhile(e,i){let r;for(r=i!==void 0?this.data.getIteratorFrom(i):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const i=this.data.getIteratorFrom(e);return i.hasNext()?i.getNext().key:null}getIterator(){return new uv(this.data.getIterator())}getIteratorFrom(e){return new uv(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let i=this;return i.size<e.size&&(i=e,e=this),e.forEach((r=>{i=i.add(r)})),i}isEqual(e){if(!(e instanceof Mt)||this.size!==e.size)return!1;const i=this.data.getIterator(),r=e.data.getIterator();for(;i.hasNext();){const o=i.getNext().key,c=r.getNext().key;if(this.comparator(o,c)!==0)return!1}return!0}toArray(){const e=[];return this.forEach((i=>{e.push(i)})),e}toString(){const e=[];return this.forEach((i=>e.push(i))),"SortedSet("+e.toString()+")"}copy(e){const i=new Mt(this.comparator);return i.data=e,i}}class uv{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sn{constructor(e){this.fields=e,e.sort(Qt.comparator)}static empty(){return new Sn([])}unionWith(e){let i=new Mt(Qt.comparator);for(const r of this.fields)i=i.add(r);for(const r of e)i=i.add(r);return new Sn(i.toArray())}covers(e){for(const i of this.fields)if(i.isPrefixOf(e))return!0;return!1}isEqual(e){return Za(this.fields,e.fields,((i,r)=>i.isEqual(r)))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Y0 extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yt{constructor(e){this.binaryString=e}static fromBase64String(e){const i=(function(o){try{return atob(o)}catch(c){throw typeof DOMException<"u"&&c instanceof DOMException?new Y0("Invalid base64 string: "+c):c}})(e);return new Yt(i)}static fromUint8Array(e){const i=(function(o){let c="";for(let d=0;d<o.length;++d)c+=String.fromCharCode(o[d]);return c})(e);return new Yt(i)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(i){return btoa(i)})(this.binaryString)}toUint8Array(){return(function(i){const r=new Uint8Array(i.length);for(let o=0;o<i.length;o++)r[o]=i.charCodeAt(o);return r})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Ne(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Yt.EMPTY_BYTE_STRING=new Yt("");const R2=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function $s(s){if(He(!!s,39018),typeof s=="string"){let e=0;const i=R2.exec(s);if(He(!!i,46558,{timestamp:s}),i[1]){let o=i[1];o=(o+"000000000").substr(0,9),e=Number(o)}const r=new Date(s);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:pt(s.seconds),nanos:pt(s.nanos)}}function pt(s){return typeof s=="number"?s:typeof s=="string"?Number(s):0}function Zs(s){return typeof s=="string"?Yt.fromBase64String(s):Yt.fromUint8Array(s)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const X0="server_timestamp",J0="__type__",$0="__previous_value__",Z0="__local_write_time__";function Im(s){var i,r;return((r=(((i=s==null?void 0:s.mapValue)==null?void 0:i.fields)||{})[J0])==null?void 0:r.stringValue)===X0}function hh(s){const e=s.mapValue.fields[$0];return Im(e)?hh(e):e}function Oo(s){const e=$s(s.mapValue.fields[Z0].timestampValue);return new it(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class x2{constructor(e,i,r,o,c,d,p,_,y,T,A){this.databaseId=e,this.appId=i,this.persistenceKey=r,this.host=o,this.ssl=c,this.forceLongPolling=d,this.autoDetectLongPolling=p,this.longPollingOptions=_,this.useFetchStreams=y,this.isUsingEmulator=T,this.apiKey=A}}const Gc="(default)";class Mo{constructor(e,i){this.projectId=e,this.database=i||Gc}static empty(){return new Mo("","")}get isDefaultDatabase(){return this.database===Gc}isEqual(e){return e instanceof Mo&&e.projectId===this.projectId&&e.database===this.database}}function C2(s,e){if(!Object.prototype.hasOwnProperty.apply(s.options,["projectId"]))throw new oe($.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Mo(s.options.projectId,e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const W0="__type__",I2="__max__",Ic={mapValue:{}},eE="__vector__",Kc="value";function Ws(s){return"nullValue"in s?0:"booleanValue"in s?1:"integerValue"in s||"doubleValue"in s?2:"timestampValue"in s?3:"stringValue"in s?5:"bytesValue"in s?6:"referenceValue"in s?7:"geoPointValue"in s?8:"arrayValue"in s?9:"mapValue"in s?Im(s)?4:D2(s)?9007199254740991:N2(s)?10:11:pe(28295,{value:s})}function Ii(s,e){if(s===e)return!0;const i=Ws(s);if(i!==Ws(e))return!1;switch(i){case 0:case 9007199254740991:return!0;case 1:return s.booleanValue===e.booleanValue;case 4:return Oo(s).isEqual(Oo(e));case 3:return(function(o,c){if(typeof o.timestampValue=="string"&&typeof c.timestampValue=="string"&&o.timestampValue.length===c.timestampValue.length)return o.timestampValue===c.timestampValue;const d=$s(o.timestampValue),p=$s(c.timestampValue);return d.seconds===p.seconds&&d.nanos===p.nanos})(s,e);case 5:return s.stringValue===e.stringValue;case 6:return(function(o,c){return Zs(o.bytesValue).isEqual(Zs(c.bytesValue))})(s,e);case 7:return s.referenceValue===e.referenceValue;case 8:return(function(o,c){return pt(o.geoPointValue.latitude)===pt(c.geoPointValue.latitude)&&pt(o.geoPointValue.longitude)===pt(c.geoPointValue.longitude)})(s,e);case 2:return(function(o,c){if("integerValue"in o&&"integerValue"in c)return pt(o.integerValue)===pt(c.integerValue);if("doubleValue"in o&&"doubleValue"in c){const d=pt(o.doubleValue),p=pt(c.doubleValue);return d===p?Fc(d)===Fc(p):isNaN(d)&&isNaN(p)}return!1})(s,e);case 9:return Za(s.arrayValue.values||[],e.arrayValue.values||[],Ii);case 10:case 11:return(function(o,c){const d=o.mapValue.fields||{},p=c.mapValue.fields||{};if(ov(d)!==ov(p))return!1;for(const _ in d)if(d.hasOwnProperty(_)&&(p[_]===void 0||!Ii(d[_],p[_])))return!1;return!0})(s,e);default:return pe(52216,{left:s})}}function Vo(s,e){return(s.values||[]).find((i=>Ii(i,e)))!==void 0}function Wa(s,e){if(s===e)return 0;const i=Ws(s),r=Ws(e);if(i!==r)return Ne(i,r);switch(i){case 0:case 9007199254740991:return 0;case 1:return Ne(s.booleanValue,e.booleanValue);case 2:return(function(c,d){const p=pt(c.integerValue||c.doubleValue),_=pt(d.integerValue||d.doubleValue);return p<_?-1:p>_?1:p===_?0:isNaN(p)?isNaN(_)?0:-1:1})(s,e);case 3:return cv(s.timestampValue,e.timestampValue);case 4:return cv(Oo(s),Oo(e));case 5:return tm(s.stringValue,e.stringValue);case 6:return(function(c,d){const p=Zs(c),_=Zs(d);return p.compareTo(_)})(s.bytesValue,e.bytesValue);case 7:return(function(c,d){const p=c.split("/"),_=d.split("/");for(let y=0;y<p.length&&y<_.length;y++){const T=Ne(p[y],_[y]);if(T!==0)return T}return Ne(p.length,_.length)})(s.referenceValue,e.referenceValue);case 8:return(function(c,d){const p=Ne(pt(c.latitude),pt(d.latitude));return p!==0?p:Ne(pt(c.longitude),pt(d.longitude))})(s.geoPointValue,e.geoPointValue);case 9:return hv(s.arrayValue,e.arrayValue);case 10:return(function(c,d){var x,B,K,Z;const p=c.fields||{},_=d.fields||{},y=(x=p[Kc])==null?void 0:x.arrayValue,T=(B=_[Kc])==null?void 0:B.arrayValue,A=Ne(((K=y==null?void 0:y.values)==null?void 0:K.length)||0,((Z=T==null?void 0:T.values)==null?void 0:Z.length)||0);return A!==0?A:hv(y,T)})(s.mapValue,e.mapValue);case 11:return(function(c,d){if(c===Ic.mapValue&&d===Ic.mapValue)return 0;if(c===Ic.mapValue)return 1;if(d===Ic.mapValue)return-1;const p=c.fields||{},_=Object.keys(p),y=d.fields||{},T=Object.keys(y);_.sort(),T.sort();for(let A=0;A<_.length&&A<T.length;++A){const x=tm(_[A],T[A]);if(x!==0)return x;const B=Wa(p[_[A]],y[T[A]]);if(B!==0)return B}return Ne(_.length,T.length)})(s.mapValue,e.mapValue);default:throw pe(23264,{he:i})}}function cv(s,e){if(typeof s=="string"&&typeof e=="string"&&s.length===e.length)return Ne(s,e);const i=$s(s),r=$s(e),o=Ne(i.seconds,r.seconds);return o!==0?o:Ne(i.nanos,r.nanos)}function hv(s,e){const i=s.values||[],r=e.values||[];for(let o=0;o<i.length&&o<r.length;++o){const c=Wa(i[o],r[o]);if(c)return c}return Ne(i.length,r.length)}function el(s){return nm(s)}function nm(s){return"nullValue"in s?"null":"booleanValue"in s?""+s.booleanValue:"integerValue"in s?""+s.integerValue:"doubleValue"in s?""+s.doubleValue:"timestampValue"in s?(function(i){const r=$s(i);return`time(${r.seconds},${r.nanos})`})(s.timestampValue):"stringValue"in s?s.stringValue:"bytesValue"in s?(function(i){return Zs(i).toBase64()})(s.bytesValue):"referenceValue"in s?(function(i){return de.fromName(i).toString()})(s.referenceValue):"geoPointValue"in s?(function(i){return`geo(${i.latitude},${i.longitude})`})(s.geoPointValue):"arrayValue"in s?(function(i){let r="[",o=!0;for(const c of i.values||[])o?o=!1:r+=",",r+=nm(c);return r+"]"})(s.arrayValue):"mapValue"in s?(function(i){const r=Object.keys(i.fields||{}).sort();let o="{",c=!0;for(const d of r)c?c=!1:o+=",",o+=`${d}:${nm(i.fields[d])}`;return o+"}"})(s.mapValue):pe(61005,{value:s})}function Vc(s){switch(Ws(s)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=hh(s);return e?16+Vc(e):16;case 5:return 2*s.stringValue.length;case 6:return Zs(s.bytesValue).approximateByteSize();case 7:return s.referenceValue.length;case 9:return(function(r){return(r.values||[]).reduce(((o,c)=>o+Vc(c)),0)})(s.arrayValue);case 10:case 11:return(function(r){let o=0;return nr(r.fields,((c,d)=>{o+=c.length+Vc(d)})),o})(s.mapValue);default:throw pe(13486,{value:s})}}function im(s){return!!s&&"integerValue"in s}function Nm(s){return!!s&&"arrayValue"in s}function fv(s){return!!s&&"nullValue"in s}function dv(s){return!!s&&"doubleValue"in s&&isNaN(Number(s.doubleValue))}function kc(s){return!!s&&"mapValue"in s}function N2(s){var i,r;return((r=(((i=s==null?void 0:s.mapValue)==null?void 0:i.fields)||{})[W0])==null?void 0:r.stringValue)===eE}function So(s){if(s.geoPointValue)return{geoPointValue:{...s.geoPointValue}};if(s.timestampValue&&typeof s.timestampValue=="object")return{timestampValue:{...s.timestampValue}};if(s.mapValue){const e={mapValue:{fields:{}}};return nr(s.mapValue.fields,((i,r)=>e.mapValue.fields[i]=So(r))),e}if(s.arrayValue){const e={arrayValue:{values:[]}};for(let i=0;i<(s.arrayValue.values||[]).length;++i)e.arrayValue.values[i]=So(s.arrayValue.values[i]);return e}return{...s}}function D2(s){return(((s.mapValue||{}).fields||{}).__type__||{}).stringValue===I2}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dn{constructor(e){this.value=e}static empty(){return new dn({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let i=this.value;for(let r=0;r<e.length-1;++r)if(i=(i.mapValue.fields||{})[e.get(r)],!kc(i))return null;return i=(i.mapValue.fields||{})[e.lastSegment()],i||null}}set(e,i){this.getFieldsMap(e.popLast())[e.lastSegment()]=So(i)}setAll(e){let i=Qt.emptyPath(),r={},o=[];e.forEach(((d,p)=>{if(!i.isImmediateParentOf(p)){const _=this.getFieldsMap(i);this.applyChanges(_,r,o),r={},o=[],i=p.popLast()}d?r[p.lastSegment()]=So(d):o.push(p.lastSegment())}));const c=this.getFieldsMap(i);this.applyChanges(c,r,o)}delete(e){const i=this.field(e.popLast());kc(i)&&i.mapValue.fields&&delete i.mapValue.fields[e.lastSegment()]}isEqual(e){return Ii(this.value,e.value)}getFieldsMap(e){let i=this.value;i.mapValue.fields||(i.mapValue={fields:{}});for(let r=0;r<e.length;++r){let o=i.mapValue.fields[e.get(r)];kc(o)&&o.mapValue.fields||(o={mapValue:{fields:{}}},i.mapValue.fields[e.get(r)]=o),i=o}return i.mapValue.fields}applyChanges(e,i,r){nr(i,((o,c)=>e[o]=c));for(const o of r)delete e[o]}clone(){return new dn(So(this.value))}}function tE(s){const e=[];return nr(s.fields,((i,r)=>{const o=new Qt([i]);if(kc(r)){const c=tE(r.mapValue).fields;if(c.length===0)e.push(o);else for(const d of c)e.push(o.child(d))}else e.push(o)})),new Sn(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zt{constructor(e,i,r,o,c,d,p){this.key=e,this.documentType=i,this.version=r,this.readTime=o,this.createTime=c,this.data=d,this.documentState=p}static newInvalidDocument(e){return new Zt(e,0,_e.min(),_e.min(),_e.min(),dn.empty(),0)}static newFoundDocument(e,i,r,o){return new Zt(e,1,i,_e.min(),r,o,0)}static newNoDocument(e,i){return new Zt(e,2,i,_e.min(),_e.min(),dn.empty(),0)}static newUnknownDocument(e,i){return new Zt(e,3,i,_e.min(),_e.min(),dn.empty(),2)}convertToFoundDocument(e,i){return!this.createTime.isEqual(_e.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=i,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=dn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=dn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=_e.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof Zt&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Zt(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qc{constructor(e,i){this.position=e,this.inclusive=i}}function mv(s,e,i){let r=0;for(let o=0;o<s.position.length;o++){const c=e[o],d=s.position[o];if(c.field.isKeyField()?r=de.comparator(de.fromName(d.referenceValue),i.key):r=Wa(d,i.data.field(c.field)),c.dir==="desc"&&(r*=-1),r!==0)break}return r}function pv(s,e){if(s===null)return e===null;if(e===null||s.inclusive!==e.inclusive||s.position.length!==e.position.length)return!1;for(let i=0;i<s.position.length;i++)if(!Ii(s.position[i],e.position[i]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yc{constructor(e,i="asc"){this.field=e,this.dir=i}}function O2(s,e){return s.dir===e.dir&&s.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nE{}class Ot extends nE{constructor(e,i,r){super(),this.field=e,this.op=i,this.value=r}static create(e,i,r){return e.isKeyField()?i==="in"||i==="not-in"?this.createKeyFieldInFilter(e,i,r):new V2(e,i,r):i==="array-contains"?new U2(e,r):i==="in"?new j2(e,r):i==="not-in"?new P2(e,r):i==="array-contains-any"?new z2(e,r):new Ot(e,i,r)}static createKeyFieldInFilter(e,i,r){return i==="in"?new k2(e,r):new L2(e,r)}matches(e){const i=e.data.field(this.field);return this.op==="!="?i!==null&&i.nullValue===void 0&&this.matchesComparison(Wa(i,this.value)):i!==null&&Ws(this.value)===Ws(i)&&this.matchesComparison(Wa(i,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return pe(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Ni extends nE{constructor(e,i){super(),this.filters=e,this.op=i,this.Pe=null}static create(e,i){return new Ni(e,i)}matches(e){return iE(this)?this.filters.find((i=>!i.matches(e)))===void 0:this.filters.find((i=>i.matches(e)))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce(((e,i)=>e.concat(i.getFlattenedFilters())),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function iE(s){return s.op==="and"}function sE(s){return M2(s)&&iE(s)}function M2(s){for(const e of s.filters)if(e instanceof Ni)return!1;return!0}function sm(s){if(s instanceof Ot)return s.field.canonicalString()+s.op.toString()+el(s.value);if(sE(s))return s.filters.map((e=>sm(e))).join(",");{const e=s.filters.map((i=>sm(i))).join(",");return`${s.op}(${e})`}}function rE(s,e){return s instanceof Ot?(function(r,o){return o instanceof Ot&&r.op===o.op&&r.field.isEqual(o.field)&&Ii(r.value,o.value)})(s,e):s instanceof Ni?(function(r,o){return o instanceof Ni&&r.op===o.op&&r.filters.length===o.filters.length?r.filters.reduce(((c,d,p)=>c&&rE(d,o.filters[p])),!0):!1})(s,e):void pe(19439)}function aE(s){return s instanceof Ot?(function(i){return`${i.field.canonicalString()} ${i.op} ${el(i.value)}`})(s):s instanceof Ni?(function(i){return i.op.toString()+" {"+i.getFilters().map(aE).join(" ,")+"}"})(s):"Filter"}class V2 extends Ot{constructor(e,i,r){super(e,i,r),this.key=de.fromName(r.referenceValue)}matches(e){const i=de.comparator(e.key,this.key);return this.matchesComparison(i)}}class k2 extends Ot{constructor(e,i){super(e,"in",i),this.keys=lE("in",i)}matches(e){return this.keys.some((i=>i.isEqual(e.key)))}}class L2 extends Ot{constructor(e,i){super(e,"not-in",i),this.keys=lE("not-in",i)}matches(e){return!this.keys.some((i=>i.isEqual(e.key)))}}function lE(s,e){var i;return(((i=e.arrayValue)==null?void 0:i.values)||[]).map((r=>de.fromName(r.referenceValue)))}class U2 extends Ot{constructor(e,i){super(e,"array-contains",i)}matches(e){const i=e.data.field(this.field);return Nm(i)&&Vo(i.arrayValue,this.value)}}class j2 extends Ot{constructor(e,i){super(e,"in",i)}matches(e){const i=e.data.field(this.field);return i!==null&&Vo(this.value.arrayValue,i)}}class P2 extends Ot{constructor(e,i){super(e,"not-in",i)}matches(e){if(Vo(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const i=e.data.field(this.field);return i!==null&&i.nullValue===void 0&&!Vo(this.value.arrayValue,i)}}class z2 extends Ot{constructor(e,i){super(e,"array-contains-any",i)}matches(e){const i=e.data.field(this.field);return!(!Nm(i)||!i.arrayValue.values)&&i.arrayValue.values.some((r=>Vo(this.value.arrayValue,r)))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class B2{constructor(e,i=null,r=[],o=[],c=null,d=null,p=null){this.path=e,this.collectionGroup=i,this.orderBy=r,this.filters=o,this.limit=c,this.startAt=d,this.endAt=p,this.Te=null}}function gv(s,e=null,i=[],r=[],o=null,c=null,d=null){return new B2(s,e,i,r,o,c,d)}function Dm(s){const e=Ee(s);if(e.Te===null){let i=e.path.canonicalString();e.collectionGroup!==null&&(i+="|cg:"+e.collectionGroup),i+="|f:",i+=e.filters.map((r=>sm(r))).join(","),i+="|ob:",i+=e.orderBy.map((r=>(function(c){return c.field.canonicalString()+c.dir})(r))).join(","),ch(e.limit)||(i+="|l:",i+=e.limit),e.startAt&&(i+="|lb:",i+=e.startAt.inclusive?"b:":"a:",i+=e.startAt.position.map((r=>el(r))).join(",")),e.endAt&&(i+="|ub:",i+=e.endAt.inclusive?"a:":"b:",i+=e.endAt.position.map((r=>el(r))).join(",")),e.Te=i}return e.Te}function Om(s,e){if(s.limit!==e.limit||s.orderBy.length!==e.orderBy.length)return!1;for(let i=0;i<s.orderBy.length;i++)if(!O2(s.orderBy[i],e.orderBy[i]))return!1;if(s.filters.length!==e.filters.length)return!1;for(let i=0;i<s.filters.length;i++)if(!rE(s.filters[i],e.filters[i]))return!1;return s.collectionGroup===e.collectionGroup&&!!s.path.isEqual(e.path)&&!!pv(s.startAt,e.startAt)&&pv(s.endAt,e.endAt)}function rm(s){return de.isDocumentKey(s.path)&&s.collectionGroup===null&&s.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fh{constructor(e,i=null,r=[],o=[],c=null,d="F",p=null,_=null){this.path=e,this.collectionGroup=i,this.explicitOrderBy=r,this.filters=o,this.limit=c,this.limitType=d,this.startAt=p,this.endAt=_,this.Ie=null,this.Ee=null,this.Re=null,this.startAt,this.endAt}}function q2(s,e,i,r,o,c,d,p){return new fh(s,e,i,r,o,c,d,p)}function Mm(s){return new fh(s)}function yv(s){return s.filters.length===0&&s.limit===null&&s.startAt==null&&s.endAt==null&&(s.explicitOrderBy.length===0||s.explicitOrderBy.length===1&&s.explicitOrderBy[0].field.isKeyField())}function H2(s){return de.isDocumentKey(s.path)&&s.collectionGroup===null&&s.filters.length===0}function F2(s){return s.collectionGroup!==null}function Ao(s){const e=Ee(s);if(e.Ie===null){e.Ie=[];const i=new Set;for(const c of e.explicitOrderBy)e.Ie.push(c),i.add(c.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(d){let p=new Mt(Qt.comparator);return d.filters.forEach((_=>{_.getFlattenedFilters().forEach((y=>{y.isInequality()&&(p=p.add(y.field))}))})),p})(e).forEach((c=>{i.has(c.canonicalString())||c.isKeyField()||e.Ie.push(new Yc(c,r))})),i.has(Qt.keyField().canonicalString())||e.Ie.push(new Yc(Qt.keyField(),r))}return e.Ie}function Ai(s){const e=Ee(s);return e.Ee||(e.Ee=G2(e,Ao(s))),e.Ee}function G2(s,e){if(s.limitType==="F")return gv(s.path,s.collectionGroup,e,s.filters,s.limit,s.startAt,s.endAt);{e=e.map((o=>{const c=o.dir==="desc"?"asc":"desc";return new Yc(o.field,c)}));const i=s.endAt?new Qc(s.endAt.position,s.endAt.inclusive):null,r=s.startAt?new Qc(s.startAt.position,s.startAt.inclusive):null;return gv(s.path,s.collectionGroup,e,s.filters,s.limit,i,r)}}function am(s,e,i){return new fh(s.path,s.collectionGroup,s.explicitOrderBy.slice(),s.filters.slice(),e,i,s.startAt,s.endAt)}function dh(s,e){return Om(Ai(s),Ai(e))&&s.limitType===e.limitType}function oE(s){return`${Dm(Ai(s))}|lt:${s.limitType}`}function za(s){return`Query(target=${(function(i){let r=i.path.canonicalString();return i.collectionGroup!==null&&(r+=" collectionGroup="+i.collectionGroup),i.filters.length>0&&(r+=`, filters: [${i.filters.map((o=>aE(o))).join(", ")}]`),ch(i.limit)||(r+=", limit: "+i.limit),i.orderBy.length>0&&(r+=`, orderBy: [${i.orderBy.map((o=>(function(d){return`${d.field.canonicalString()} (${d.dir})`})(o))).join(", ")}]`),i.startAt&&(r+=", startAt: ",r+=i.startAt.inclusive?"b:":"a:",r+=i.startAt.position.map((o=>el(o))).join(",")),i.endAt&&(r+=", endAt: ",r+=i.endAt.inclusive?"a:":"b:",r+=i.endAt.position.map((o=>el(o))).join(",")),`Target(${r})`})(Ai(s))}; limitType=${s.limitType})`}function mh(s,e){return e.isFoundDocument()&&(function(r,o){const c=o.key.path;return r.collectionGroup!==null?o.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(c):de.isDocumentKey(r.path)?r.path.isEqual(c):r.path.isImmediateParentOf(c)})(s,e)&&(function(r,o){for(const c of Ao(r))if(!c.field.isKeyField()&&o.data.field(c.field)===null)return!1;return!0})(s,e)&&(function(r,o){for(const c of r.filters)if(!c.matches(o))return!1;return!0})(s,e)&&(function(r,o){return!(r.startAt&&!(function(d,p,_){const y=mv(d,p,_);return d.inclusive?y<=0:y<0})(r.startAt,Ao(r),o)||r.endAt&&!(function(d,p,_){const y=mv(d,p,_);return d.inclusive?y>=0:y>0})(r.endAt,Ao(r),o))})(s,e)}function K2(s){return s.collectionGroup||(s.path.length%2==1?s.path.lastSegment():s.path.get(s.path.length-2))}function uE(s){return(e,i)=>{let r=!1;for(const o of Ao(s)){const c=Q2(o,e,i);if(c!==0)return c;r=r||o.field.isKeyField()}return 0}}function Q2(s,e,i){const r=s.field.isKeyField()?de.comparator(e.key,i.key):(function(c,d,p){const _=d.data.field(c),y=p.data.field(c);return _!==null&&y!==null?Wa(_,y):pe(42886)})(s.field,e,i);switch(s.dir){case"asc":return r;case"desc":return-1*r;default:return pe(19790,{direction:s.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kr{constructor(e,i){this.mapKeyFn=e,this.equalsFn=i,this.inner={},this.innerSize=0}get(e){const i=this.mapKeyFn(e),r=this.inner[i];if(r!==void 0){for(const[o,c]of r)if(this.equalsFn(o,e))return c}}has(e){return this.get(e)!==void 0}set(e,i){const r=this.mapKeyFn(e),o=this.inner[r];if(o===void 0)return this.inner[r]=[[e,i]],void this.innerSize++;for(let c=0;c<o.length;c++)if(this.equalsFn(o[c][0],e))return void(o[c]=[e,i]);o.push([e,i]),this.innerSize++}delete(e){const i=this.mapKeyFn(e),r=this.inner[i];if(r===void 0)return!1;for(let o=0;o<r.length;o++)if(this.equalsFn(r[o][0],e))return r.length===1?delete this.inner[i]:r.splice(o,1),this.innerSize--,!0;return!1}forEach(e){nr(this.inner,((i,r)=>{for(const[o,c]of r)e(o,c)}))}isEmpty(){return Q0(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Y2=new ot(de.comparator);function ts(){return Y2}const cE=new ot(de.comparator);function vo(...s){let e=cE;for(const i of s)e=e.insert(i.key,i);return e}function hE(s){let e=cE;return s.forEach(((i,r)=>e=e.insert(i,r.overlayedDocument))),e}function Lr(){return wo()}function fE(){return wo()}function wo(){return new Kr((s=>s.toString()),((s,e)=>s.isEqual(e)))}const X2=new ot(de.comparator),J2=new Mt(de.comparator);function De(...s){let e=J2;for(const i of s)e=e.add(i);return e}const $2=new Mt(Ne);function Z2(){return $2}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Vm(s,e){if(s.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Fc(e)?"-0":e}}function dE(s){return{integerValue:""+s}}function W2(s,e){return S2(e)?dE(e):Vm(s,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ph{constructor(){this._=void 0}}function ew(s,e,i){return s instanceof Xc?(function(o,c){const d={fields:{[J0]:{stringValue:X0},[Z0]:{timestampValue:{seconds:o.seconds,nanos:o.nanoseconds}}}};return c&&Im(c)&&(c=hh(c)),c&&(d.fields[$0]=c),{mapValue:d}})(i,e):s instanceof ko?pE(s,e):s instanceof Lo?gE(s,e):(function(o,c){const d=mE(o,c),p=_v(d)+_v(o.Ae);return im(d)&&im(o.Ae)?dE(p):Vm(o.serializer,p)})(s,e)}function tw(s,e,i){return s instanceof ko?pE(s,e):s instanceof Lo?gE(s,e):i}function mE(s,e){return s instanceof Jc?(function(r){return im(r)||(function(c){return!!c&&"doubleValue"in c})(r)})(e)?e:{integerValue:0}:null}class Xc extends ph{}class ko extends ph{constructor(e){super(),this.elements=e}}function pE(s,e){const i=yE(e);for(const r of s.elements)i.some((o=>Ii(o,r)))||i.push(r);return{arrayValue:{values:i}}}class Lo extends ph{constructor(e){super(),this.elements=e}}function gE(s,e){let i=yE(e);for(const r of s.elements)i=i.filter((o=>!Ii(o,r)));return{arrayValue:{values:i}}}class Jc extends ph{constructor(e,i){super(),this.serializer=e,this.Ae=i}}function _v(s){return pt(s.integerValue||s.doubleValue)}function yE(s){return Nm(s)&&s.arrayValue.values?s.arrayValue.values.slice():[]}function nw(s,e){return s.field.isEqual(e.field)&&(function(r,o){return r instanceof ko&&o instanceof ko||r instanceof Lo&&o instanceof Lo?Za(r.elements,o.elements,Ii):r instanceof Jc&&o instanceof Jc?Ii(r.Ae,o.Ae):r instanceof Xc&&o instanceof Xc})(s.transform,e.transform)}class iw{constructor(e,i){this.version=e,this.transformResults=i}}class Pn{constructor(e,i){this.updateTime=e,this.exists=i}static none(){return new Pn}static exists(e){return new Pn(void 0,e)}static updateTime(e){return new Pn(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Lc(s,e){return s.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(s.updateTime):s.exists===void 0||s.exists===e.isFoundDocument()}class gh{}function _E(s,e){if(!s.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return s.isNoDocument()?new km(s.key,Pn.none()):new Ho(s.key,s.data,Pn.none());{const i=s.data,r=dn.empty();let o=new Mt(Qt.comparator);for(let c of e.fields)if(!o.has(c)){let d=i.field(c);d===null&&c.length>1&&(c=c.popLast(),d=i.field(c)),d===null?r.delete(c):r.set(c,d),o=o.add(c)}return new ir(s.key,r,new Sn(o.toArray()),Pn.none())}}function sw(s,e,i){s instanceof Ho?(function(o,c,d){const p=o.value.clone(),_=Ev(o.fieldTransforms,c,d.transformResults);p.setAll(_),c.convertToFoundDocument(d.version,p).setHasCommittedMutations()})(s,e,i):s instanceof ir?(function(o,c,d){if(!Lc(o.precondition,c))return void c.convertToUnknownDocument(d.version);const p=Ev(o.fieldTransforms,c,d.transformResults),_=c.data;_.setAll(vE(o)),_.setAll(p),c.convertToFoundDocument(d.version,_).setHasCommittedMutations()})(s,e,i):(function(o,c,d){c.convertToNoDocument(d.version).setHasCommittedMutations()})(0,e,i)}function Ro(s,e,i,r){return s instanceof Ho?(function(c,d,p,_){if(!Lc(c.precondition,d))return p;const y=c.value.clone(),T=bv(c.fieldTransforms,_,d);return y.setAll(T),d.convertToFoundDocument(d.version,y).setHasLocalMutations(),null})(s,e,i,r):s instanceof ir?(function(c,d,p,_){if(!Lc(c.precondition,d))return p;const y=bv(c.fieldTransforms,_,d),T=d.data;return T.setAll(vE(c)),T.setAll(y),d.convertToFoundDocument(d.version,T).setHasLocalMutations(),p===null?null:p.unionWith(c.fieldMask.fields).unionWith(c.fieldTransforms.map((A=>A.field)))})(s,e,i,r):(function(c,d,p){return Lc(c.precondition,d)?(d.convertToNoDocument(d.version).setHasLocalMutations(),null):p})(s,e,i)}function rw(s,e){let i=null;for(const r of s.fieldTransforms){const o=e.data.field(r.field),c=mE(r.transform,o||null);c!=null&&(i===null&&(i=dn.empty()),i.set(r.field,c))}return i||null}function vv(s,e){return s.type===e.type&&!!s.key.isEqual(e.key)&&!!s.precondition.isEqual(e.precondition)&&!!(function(r,o){return r===void 0&&o===void 0||!(!r||!o)&&Za(r,o,((c,d)=>nw(c,d)))})(s.fieldTransforms,e.fieldTransforms)&&(s.type===0?s.value.isEqual(e.value):s.type!==1||s.data.isEqual(e.data)&&s.fieldMask.isEqual(e.fieldMask))}class Ho extends gh{constructor(e,i,r,o=[]){super(),this.key=e,this.value=i,this.precondition=r,this.fieldTransforms=o,this.type=0}getFieldMask(){return null}}class ir extends gh{constructor(e,i,r,o,c=[]){super(),this.key=e,this.data=i,this.fieldMask=r,this.precondition=o,this.fieldTransforms=c,this.type=1}getFieldMask(){return this.fieldMask}}function vE(s){const e=new Map;return s.fieldMask.fields.forEach((i=>{if(!i.isEmpty()){const r=s.data.field(i);e.set(i,r)}})),e}function Ev(s,e,i){const r=new Map;He(s.length===i.length,32656,{Ve:i.length,de:s.length});for(let o=0;o<i.length;o++){const c=s[o],d=c.transform,p=e.data.field(c.field);r.set(c.field,tw(d,p,i[o]))}return r}function bv(s,e,i){const r=new Map;for(const o of s){const c=o.transform,d=i.data.field(o.field);r.set(o.field,ew(c,d,e))}return r}class km extends gh{constructor(e,i){super(),this.key=e,this.precondition=i,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class aw extends gh{constructor(e,i){super(),this.key=e,this.precondition=i,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lw{constructor(e,i,r,o){this.batchId=e,this.localWriteTime=i,this.baseMutations=r,this.mutations=o}applyToRemoteDocument(e,i){const r=i.mutationResults;for(let o=0;o<this.mutations.length;o++){const c=this.mutations[o];c.key.isEqual(e.key)&&sw(c,e,r[o])}}applyToLocalView(e,i){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(i=Ro(r,e,i,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(i=Ro(r,e,i,this.localWriteTime));return i}applyToLocalDocumentSet(e,i){const r=fE();return this.mutations.forEach((o=>{const c=e.get(o.key),d=c.overlayedDocument;let p=this.applyToLocalView(d,c.mutatedFields);p=i.has(o.key)?null:p;const _=_E(d,p);_!==null&&r.set(o.key,_),d.isValidDocument()||d.convertToNoDocument(_e.min())})),r}keys(){return this.mutations.reduce(((e,i)=>e.add(i.key)),De())}isEqual(e){return this.batchId===e.batchId&&Za(this.mutations,e.mutations,((i,r)=>vv(i,r)))&&Za(this.baseMutations,e.baseMutations,((i,r)=>vv(i,r)))}}class Lm{constructor(e,i,r,o){this.batch=e,this.commitVersion=i,this.mutationResults=r,this.docVersions=o}static from(e,i,r){He(e.mutations.length===r.length,58842,{me:e.mutations.length,fe:r.length});let o=(function(){return X2})();const c=e.mutations;for(let d=0;d<c.length;d++)o=o.insert(c[d].key,r[d].version);return new Lm(e,i,r,o)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ow{constructor(e,i){this.largestBatchId=e,this.mutation=i}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uw{constructor(e,i){this.count=e,this.unchangedNames=i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var wt,Ve;function cw(s){switch(s){case $.OK:return pe(64938);case $.CANCELLED:case $.UNKNOWN:case $.DEADLINE_EXCEEDED:case $.RESOURCE_EXHAUSTED:case $.INTERNAL:case $.UNAVAILABLE:case $.UNAUTHENTICATED:return!1;case $.INVALID_ARGUMENT:case $.NOT_FOUND:case $.ALREADY_EXISTS:case $.PERMISSION_DENIED:case $.FAILED_PRECONDITION:case $.ABORTED:case $.OUT_OF_RANGE:case $.UNIMPLEMENTED:case $.DATA_LOSS:return!0;default:return pe(15467,{code:s})}}function EE(s){if(s===void 0)return es("GRPC error has no .code"),$.UNKNOWN;switch(s){case wt.OK:return $.OK;case wt.CANCELLED:return $.CANCELLED;case wt.UNKNOWN:return $.UNKNOWN;case wt.DEADLINE_EXCEEDED:return $.DEADLINE_EXCEEDED;case wt.RESOURCE_EXHAUSTED:return $.RESOURCE_EXHAUSTED;case wt.INTERNAL:return $.INTERNAL;case wt.UNAVAILABLE:return $.UNAVAILABLE;case wt.UNAUTHENTICATED:return $.UNAUTHENTICATED;case wt.INVALID_ARGUMENT:return $.INVALID_ARGUMENT;case wt.NOT_FOUND:return $.NOT_FOUND;case wt.ALREADY_EXISTS:return $.ALREADY_EXISTS;case wt.PERMISSION_DENIED:return $.PERMISSION_DENIED;case wt.FAILED_PRECONDITION:return $.FAILED_PRECONDITION;case wt.ABORTED:return $.ABORTED;case wt.OUT_OF_RANGE:return $.OUT_OF_RANGE;case wt.UNIMPLEMENTED:return $.UNIMPLEMENTED;case wt.DATA_LOSS:return $.DATA_LOSS;default:return pe(39323,{code:s})}}(Ve=wt||(wt={}))[Ve.OK=0]="OK",Ve[Ve.CANCELLED=1]="CANCELLED",Ve[Ve.UNKNOWN=2]="UNKNOWN",Ve[Ve.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Ve[Ve.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Ve[Ve.NOT_FOUND=5]="NOT_FOUND",Ve[Ve.ALREADY_EXISTS=6]="ALREADY_EXISTS",Ve[Ve.PERMISSION_DENIED=7]="PERMISSION_DENIED",Ve[Ve.UNAUTHENTICATED=16]="UNAUTHENTICATED",Ve[Ve.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Ve[Ve.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Ve[Ve.ABORTED=10]="ABORTED",Ve[Ve.OUT_OF_RANGE=11]="OUT_OF_RANGE",Ve[Ve.UNIMPLEMENTED=12]="UNIMPLEMENTED",Ve[Ve.INTERNAL=13]="INTERNAL",Ve[Ve.UNAVAILABLE=14]="UNAVAILABLE",Ve[Ve.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hw(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fw=new Ys([4294967295,4294967295],0);function Tv(s){const e=hw().encode(s),i=new L0;return i.update(e),new Uint8Array(i.digest())}function Sv(s){const e=new DataView(s.buffer),i=e.getUint32(0,!0),r=e.getUint32(4,!0),o=e.getUint32(8,!0),c=e.getUint32(12,!0);return[new Ys([i,r],0),new Ys([o,c],0)]}class Um{constructor(e,i,r){if(this.bitmap=e,this.padding=i,this.hashCount=r,i<0||i>=8)throw new Eo(`Invalid padding: ${i}`);if(r<0)throw new Eo(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new Eo(`Invalid hash count: ${r}`);if(e.length===0&&i!==0)throw new Eo(`Invalid padding when bitmap length is 0: ${i}`);this.ge=8*e.length-i,this.pe=Ys.fromNumber(this.ge)}ye(e,i,r){let o=e.add(i.multiply(Ys.fromNumber(r)));return o.compare(fw)===1&&(o=new Ys([o.getBits(0),o.getBits(1)],0)),o.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.ge===0)return!1;const i=Tv(e),[r,o]=Sv(i);for(let c=0;c<this.hashCount;c++){const d=this.ye(r,o,c);if(!this.we(d))return!1}return!0}static create(e,i,r){const o=e%8==0?0:8-e%8,c=new Uint8Array(Math.ceil(e/8)),d=new Um(c,o,i);return r.forEach((p=>d.insert(p))),d}insert(e){if(this.ge===0)return;const i=Tv(e),[r,o]=Sv(i);for(let c=0;c<this.hashCount;c++){const d=this.ye(r,o,c);this.be(d)}}be(e){const i=Math.floor(e/8),r=e%8;this.bitmap[i]|=1<<r}}class Eo extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yh{constructor(e,i,r,o,c){this.snapshotVersion=e,this.targetChanges=i,this.targetMismatches=r,this.documentUpdates=o,this.resolvedLimboDocuments=c}static createSynthesizedRemoteEventForCurrentChange(e,i,r){const o=new Map;return o.set(e,Fo.createSynthesizedTargetChangeForCurrentChange(e,i,r)),new yh(_e.min(),o,new ot(Ne),ts(),De())}}class Fo{constructor(e,i,r,o,c){this.resumeToken=e,this.current=i,this.addedDocuments=r,this.modifiedDocuments=o,this.removedDocuments=c}static createSynthesizedTargetChangeForCurrentChange(e,i,r){return new Fo(r,i,De(),De(),De())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Uc{constructor(e,i,r,o){this.Se=e,this.removedTargetIds=i,this.key=r,this.De=o}}class bE{constructor(e,i){this.targetId=e,this.Ce=i}}class TE{constructor(e,i,r=Yt.EMPTY_BYTE_STRING,o=null){this.state=e,this.targetIds=i,this.resumeToken=r,this.cause=o}}class Av{constructor(){this.ve=0,this.Fe=wv(),this.Me=Yt.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=De(),i=De(),r=De();return this.Fe.forEach(((o,c)=>{switch(c){case 0:e=e.add(o);break;case 2:i=i.add(o);break;case 1:r=r.add(o);break;default:pe(38017,{changeType:c})}})),new Fo(this.Me,this.xe,e,i,r)}Ke(){this.Oe=!1,this.Fe=wv()}qe(e,i){this.Oe=!0,this.Fe=this.Fe.insert(e,i)}Ue(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}$e(){this.ve+=1}We(){this.ve-=1,He(this.ve>=0,3241,{ve:this.ve})}Qe(){this.Oe=!0,this.xe=!0}}class dw{constructor(e){this.Ge=e,this.ze=new Map,this.je=ts(),this.He=Nc(),this.Je=Nc(),this.Ze=new ot(Ne)}Xe(e){for(const i of e.Se)e.De&&e.De.isFoundDocument()?this.Ye(i,e.De):this.et(i,e.key,e.De);for(const i of e.removedTargetIds)this.et(i,e.key,e.De)}tt(e){this.forEachTarget(e,(i=>{const r=this.nt(i);switch(e.state){case 0:this.rt(i)&&r.Le(e.resumeToken);break;case 1:r.We(),r.Ne||r.Ke(),r.Le(e.resumeToken);break;case 2:r.We(),r.Ne||this.removeTarget(i);break;case 3:this.rt(i)&&(r.Qe(),r.Le(e.resumeToken));break;case 4:this.rt(i)&&(this.it(i),r.Le(e.resumeToken));break;default:pe(56790,{state:e.state})}}))}forEachTarget(e,i){e.targetIds.length>0?e.targetIds.forEach(i):this.ze.forEach(((r,o)=>{this.rt(o)&&i(o)}))}st(e){const i=e.targetId,r=e.Ce.count,o=this.ot(i);if(o){const c=o.target;if(rm(c))if(r===0){const d=new de(c.path);this.et(i,d,Zt.newNoDocument(d,_e.min()))}else He(r===1,20013,{expectedCount:r});else{const d=this._t(i);if(d!==r){const p=this.ut(e),_=p?this.ct(p,e,d):1;if(_!==0){this.it(i);const y=_===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ze=this.Ze.insert(i,y)}}}}}ut(e){const i=e.Ce.unchangedNames;if(!i||!i.bits)return null;const{bits:{bitmap:r="",padding:o=0},hashCount:c=0}=i;let d,p;try{d=Zs(r).toUint8Array()}catch(_){if(_ instanceof Y0)return qr("Decoding the base64 bloom filter in existence filter failed ("+_.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw _}try{p=new Um(d,o,c)}catch(_){return qr(_ instanceof Eo?"BloomFilter error: ":"Applying bloom filter failed: ",_),null}return p.ge===0?null:p}ct(e,i,r){return i.Ce.count===r-this.Pt(e,i.targetId)?0:2}Pt(e,i){const r=this.Ge.getRemoteKeysForTarget(i);let o=0;return r.forEach((c=>{const d=this.Ge.ht(),p=`projects/${d.projectId}/databases/${d.database}/documents/${c.path.canonicalString()}`;e.mightContain(p)||(this.et(i,c,null),o++)})),o}Tt(e){const i=new Map;this.ze.forEach(((c,d)=>{const p=this.ot(d);if(p){if(c.current&&rm(p.target)){const _=new de(p.target.path);this.It(_).has(d)||this.Et(d,_)||this.et(d,_,Zt.newNoDocument(_,e))}c.Be&&(i.set(d,c.ke()),c.Ke())}}));let r=De();this.Je.forEach(((c,d)=>{let p=!0;d.forEachWhile((_=>{const y=this.ot(_);return!y||y.purpose==="TargetPurposeLimboResolution"||(p=!1,!1)})),p&&(r=r.add(c))})),this.je.forEach(((c,d)=>d.setReadTime(e)));const o=new yh(e,i,this.Ze,this.je,r);return this.je=ts(),this.He=Nc(),this.Je=Nc(),this.Ze=new ot(Ne),o}Ye(e,i){if(!this.rt(e))return;const r=this.Et(e,i.key)?2:0;this.nt(e).qe(i.key,r),this.je=this.je.insert(i.key,i),this.He=this.He.insert(i.key,this.It(i.key).add(e)),this.Je=this.Je.insert(i.key,this.Rt(i.key).add(e))}et(e,i,r){if(!this.rt(e))return;const o=this.nt(e);this.Et(e,i)?o.qe(i,1):o.Ue(i),this.Je=this.Je.insert(i,this.Rt(i).delete(e)),this.Je=this.Je.insert(i,this.Rt(i).add(e)),r&&(this.je=this.je.insert(i,r))}removeTarget(e){this.ze.delete(e)}_t(e){const i=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+i.addedDocuments.size-i.removedDocuments.size}$e(e){this.nt(e).$e()}nt(e){let i=this.ze.get(e);return i||(i=new Av,this.ze.set(e,i)),i}Rt(e){let i=this.Je.get(e);return i||(i=new Mt(Ne),this.Je=this.Je.insert(e,i)),i}It(e){let i=this.He.get(e);return i||(i=new Mt(Ne),this.He=this.He.insert(e,i)),i}rt(e){const i=this.ot(e)!==null;return i||ie("WatchChangeAggregator","Detected inactive target",e),i}ot(e){const i=this.ze.get(e);return i&&i.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new Av),this.Ge.getRemoteKeysForTarget(e).forEach((i=>{this.et(e,i,null)}))}Et(e,i){return this.Ge.getRemoteKeysForTarget(e).has(i)}}function Nc(){return new ot(de.comparator)}function wv(){return new ot(de.comparator)}const mw={asc:"ASCENDING",desc:"DESCENDING"},pw={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},gw={and:"AND",or:"OR"};class yw{constructor(e,i){this.databaseId=e,this.useProto3Json=i}}function lm(s,e){return s.useProto3Json||ch(e)?e:{value:e}}function $c(s,e){return s.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function SE(s,e){return s.useProto3Json?e.toBase64():e.toUint8Array()}function _w(s,e){return $c(s,e.toTimestamp())}function wi(s){return He(!!s,49232),_e.fromTimestamp((function(i){const r=$s(i);return new it(r.seconds,r.nanos)})(s))}function jm(s,e){return om(s,e).canonicalString()}function om(s,e){const i=(function(o){return new nt(["projects",o.projectId,"databases",o.database])})(s).child("documents");return e===void 0?i:i.child(e)}function AE(s){const e=nt.fromString(s);return He(IE(e),10190,{key:e.toString()}),e}function um(s,e){return jm(s.databaseId,e.path)}function zd(s,e){const i=AE(e);if(i.get(1)!==s.databaseId.projectId)throw new oe($.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+i.get(1)+" vs "+s.databaseId.projectId);if(i.get(3)!==s.databaseId.database)throw new oe($.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+i.get(3)+" vs "+s.databaseId.database);return new de(RE(i))}function wE(s,e){return jm(s.databaseId,e)}function vw(s){const e=AE(s);return e.length===4?nt.emptyPath():RE(e)}function cm(s){return new nt(["projects",s.databaseId.projectId,"databases",s.databaseId.database]).canonicalString()}function RE(s){return He(s.length>4&&s.get(4)==="documents",29091,{key:s.toString()}),s.popFirst(5)}function Rv(s,e,i){return{name:um(s,e),fields:i.value.mapValue.fields}}function Ew(s,e){let i;if("targetChange"in e){e.targetChange;const r=(function(y){return y==="NO_CHANGE"?0:y==="ADD"?1:y==="REMOVE"?2:y==="CURRENT"?3:y==="RESET"?4:pe(39313,{state:y})})(e.targetChange.targetChangeType||"NO_CHANGE"),o=e.targetChange.targetIds||[],c=(function(y,T){return y.useProto3Json?(He(T===void 0||typeof T=="string",58123),Yt.fromBase64String(T||"")):(He(T===void 0||T instanceof Buffer||T instanceof Uint8Array,16193),Yt.fromUint8Array(T||new Uint8Array))})(s,e.targetChange.resumeToken),d=e.targetChange.cause,p=d&&(function(y){const T=y.code===void 0?$.UNKNOWN:EE(y.code);return new oe(T,y.message||"")})(d);i=new TE(r,o,c,p||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const o=zd(s,r.document.name),c=wi(r.document.updateTime),d=r.document.createTime?wi(r.document.createTime):_e.min(),p=new dn({mapValue:{fields:r.document.fields}}),_=Zt.newFoundDocument(o,c,d,p),y=r.targetIds||[],T=r.removedTargetIds||[];i=new Uc(y,T,_.key,_)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const o=zd(s,r.document),c=r.readTime?wi(r.readTime):_e.min(),d=Zt.newNoDocument(o,c),p=r.removedTargetIds||[];i=new Uc([],p,d.key,d)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const o=zd(s,r.document),c=r.removedTargetIds||[];i=new Uc([],c,o,null)}else{if(!("filter"in e))return pe(11601,{Vt:e});{e.filter;const r=e.filter;r.targetId;const{count:o=0,unchangedNames:c}=r,d=new uw(o,c),p=r.targetId;i=new bE(p,d)}}return i}function bw(s,e){let i;if(e instanceof Ho)i={update:Rv(s,e.key,e.value)};else if(e instanceof km)i={delete:um(s,e.key)};else if(e instanceof ir)i={update:Rv(s,e.key,e.data),updateMask:Nw(e.fieldMask)};else{if(!(e instanceof aw))return pe(16599,{dt:e.type});i={verify:um(s,e.key)}}return e.fieldTransforms.length>0&&(i.updateTransforms=e.fieldTransforms.map((r=>(function(c,d){const p=d.transform;if(p instanceof Xc)return{fieldPath:d.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(p instanceof ko)return{fieldPath:d.field.canonicalString(),appendMissingElements:{values:p.elements}};if(p instanceof Lo)return{fieldPath:d.field.canonicalString(),removeAllFromArray:{values:p.elements}};if(p instanceof Jc)return{fieldPath:d.field.canonicalString(),increment:p.Ae};throw pe(20930,{transform:d.transform})})(0,r)))),e.precondition.isNone||(i.currentDocument=(function(o,c){return c.updateTime!==void 0?{updateTime:_w(o,c.updateTime)}:c.exists!==void 0?{exists:c.exists}:pe(27497)})(s,e.precondition)),i}function Tw(s,e){return s&&s.length>0?(He(e!==void 0,14353),s.map((i=>(function(o,c){let d=o.updateTime?wi(o.updateTime):wi(c);return d.isEqual(_e.min())&&(d=wi(c)),new iw(d,o.transformResults||[])})(i,e)))):[]}function Sw(s,e){return{documents:[wE(s,e.path)]}}function Aw(s,e){const i={structuredQuery:{}},r=e.path;let o;e.collectionGroup!==null?(o=r,i.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(o=r.popLast(),i.structuredQuery.from=[{collectionId:r.lastSegment()}]),i.parent=wE(s,o);const c=(function(y){if(y.length!==0)return CE(Ni.create(y,"and"))})(e.filters);c&&(i.structuredQuery.where=c);const d=(function(y){if(y.length!==0)return y.map((T=>(function(x){return{field:Ba(x.field),direction:xw(x.dir)}})(T)))})(e.orderBy);d&&(i.structuredQuery.orderBy=d);const p=lm(s,e.limit);return p!==null&&(i.structuredQuery.limit=p),e.startAt&&(i.structuredQuery.startAt=(function(y){return{before:y.inclusive,values:y.position}})(e.startAt)),e.endAt&&(i.structuredQuery.endAt=(function(y){return{before:!y.inclusive,values:y.position}})(e.endAt)),{ft:i,parent:o}}function ww(s){let e=vw(s.parent);const i=s.structuredQuery,r=i.from?i.from.length:0;let o=null;if(r>0){He(r===1,65062);const T=i.from[0];T.allDescendants?o=T.collectionId:e=e.child(T.collectionId)}let c=[];i.where&&(c=(function(A){const x=xE(A);return x instanceof Ni&&sE(x)?x.getFilters():[x]})(i.where));let d=[];i.orderBy&&(d=(function(A){return A.map((x=>(function(K){return new Yc(qa(K.field),(function(W){switch(W){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(K.direction))})(x)))})(i.orderBy));let p=null;i.limit&&(p=(function(A){let x;return x=typeof A=="object"?A.value:A,ch(x)?null:x})(i.limit));let _=null;i.startAt&&(_=(function(A){const x=!!A.before,B=A.values||[];return new Qc(B,x)})(i.startAt));let y=null;return i.endAt&&(y=(function(A){const x=!A.before,B=A.values||[];return new Qc(B,x)})(i.endAt)),q2(e,o,d,c,p,"F",_,y)}function Rw(s,e){const i=(function(o){switch(o){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return pe(28987,{purpose:o})}})(e.purpose);return i==null?null:{"goog-listen-tags":i}}function xE(s){return s.unaryFilter!==void 0?(function(i){switch(i.unaryFilter.op){case"IS_NAN":const r=qa(i.unaryFilter.field);return Ot.create(r,"==",{doubleValue:NaN});case"IS_NULL":const o=qa(i.unaryFilter.field);return Ot.create(o,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const c=qa(i.unaryFilter.field);return Ot.create(c,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const d=qa(i.unaryFilter.field);return Ot.create(d,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return pe(61313);default:return pe(60726)}})(s):s.fieldFilter!==void 0?(function(i){return Ot.create(qa(i.fieldFilter.field),(function(o){switch(o){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return pe(58110);default:return pe(50506)}})(i.fieldFilter.op),i.fieldFilter.value)})(s):s.compositeFilter!==void 0?(function(i){return Ni.create(i.compositeFilter.filters.map((r=>xE(r))),(function(o){switch(o){case"AND":return"and";case"OR":return"or";default:return pe(1026)}})(i.compositeFilter.op))})(s):pe(30097,{filter:s})}function xw(s){return mw[s]}function Cw(s){return pw[s]}function Iw(s){return gw[s]}function Ba(s){return{fieldPath:s.canonicalString()}}function qa(s){return Qt.fromServerFormat(s.fieldPath)}function CE(s){return s instanceof Ot?(function(i){if(i.op==="=="){if(dv(i.value))return{unaryFilter:{field:Ba(i.field),op:"IS_NAN"}};if(fv(i.value))return{unaryFilter:{field:Ba(i.field),op:"IS_NULL"}}}else if(i.op==="!="){if(dv(i.value))return{unaryFilter:{field:Ba(i.field),op:"IS_NOT_NAN"}};if(fv(i.value))return{unaryFilter:{field:Ba(i.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Ba(i.field),op:Cw(i.op),value:i.value}}})(s):s instanceof Ni?(function(i){const r=i.getFilters().map((o=>CE(o)));return r.length===1?r[0]:{compositeFilter:{op:Iw(i.op),filters:r}}})(s):pe(54877,{filter:s})}function Nw(s){const e=[];return s.fields.forEach((i=>e.push(i.canonicalString()))),{fieldPaths:e}}function IE(s){return s.length>=4&&s.get(0)==="projects"&&s.get(2)==="databases"}function NE(s){return!!s&&typeof s._toProto=="function"&&s._protoValueType==="ProtoValue"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fs{constructor(e,i,r,o,c=_e.min(),d=_e.min(),p=Yt.EMPTY_BYTE_STRING,_=null){this.target=e,this.targetId=i,this.purpose=r,this.sequenceNumber=o,this.snapshotVersion=c,this.lastLimboFreeSnapshotVersion=d,this.resumeToken=p,this.expectedCount=_}withSequenceNumber(e){return new Fs(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,i){return new Fs(this.target,this.targetId,this.purpose,this.sequenceNumber,i,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Fs(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Fs(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dw{constructor(e){this.yt=e}}function Ow(s){const e=ww({parent:s.parent,structuredQuery:s.structuredQuery});return s.limitType==="LAST"?am(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mw{constructor(){this.Sn=new Vw}addToCollectionParentIndex(e,i){return this.Sn.add(i),J.resolve()}getCollectionParents(e,i){return J.resolve(this.Sn.getEntries(i))}addFieldIndex(e,i){return J.resolve()}deleteFieldIndex(e,i){return J.resolve()}deleteAllFieldIndexes(e){return J.resolve()}createTargetIndexes(e,i){return J.resolve()}getDocumentsMatchingTarget(e,i){return J.resolve(null)}getIndexType(e,i){return J.resolve(0)}getFieldIndexes(e,i){return J.resolve([])}getNextCollectionGroupToUpdate(e){return J.resolve(null)}getMinOffset(e,i){return J.resolve(Js.min())}getMinOffsetFromCollectionGroup(e,i){return J.resolve(Js.min())}updateCollectionGroup(e,i,r){return J.resolve()}updateIndexEntries(e,i){return J.resolve()}}class Vw{constructor(){this.index={}}add(e){const i=e.lastSegment(),r=e.popLast(),o=this.index[i]||new Mt(nt.comparator),c=!o.has(r);return this.index[i]=o.add(r),c}has(e){const i=e.lastSegment(),r=e.popLast(),o=this.index[i];return o&&o.has(r)}getEntries(e){return(this.index[e]||new Mt(nt.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xv={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},DE=41943040;class fn{static withCacheSize(e){return new fn(e,fn.DEFAULT_COLLECTION_PERCENTILE,fn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,i,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=i,this.maximumSequenceNumbersToCollect=r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */fn.DEFAULT_COLLECTION_PERCENTILE=10,fn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,fn.DEFAULT=new fn(DE,fn.DEFAULT_COLLECTION_PERCENTILE,fn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),fn.DISABLED=new fn(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tl{constructor(e){this.sr=e}next(){return this.sr+=2,this.sr}static _r(){return new tl(0)}static ar(){return new tl(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Cv="LruGarbageCollector",kw=1048576;function Iv([s,e],[i,r]){const o=Ne(s,i);return o===0?Ne(e,r):o}class Lw{constructor(e){this.Pr=e,this.buffer=new Mt(Iv),this.Tr=0}Ir(){return++this.Tr}Er(e){const i=[e,this.Ir()];if(this.buffer.size<this.Pr)this.buffer=this.buffer.add(i);else{const r=this.buffer.last();Iv(i,r)<0&&(this.buffer=this.buffer.delete(r).add(i))}}get maxValue(){return this.buffer.last()[0]}}class Uw{constructor(e,i,r){this.garbageCollector=e,this.asyncQueue=i,this.localStore=r,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Ar(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Ar(e){ie(Cv,`Garbage collection scheduled in ${e}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(i){ll(i)?ie(Cv,"Ignoring IndexedDB error during garbage collection: ",i):await al(i)}await this.Ar(3e5)}))}}class jw{constructor(e,i){this.Vr=e,this.params=i}calculateTargetCount(e,i){return this.Vr.dr(e).next((r=>Math.floor(i/100*r)))}nthSequenceNumber(e,i){if(i===0)return J.resolve(uh.ce);const r=new Lw(i);return this.Vr.forEachTarget(e,(o=>r.Er(o.sequenceNumber))).next((()=>this.Vr.mr(e,(o=>r.Er(o))))).next((()=>r.maxValue))}removeTargets(e,i,r){return this.Vr.removeTargets(e,i,r)}removeOrphanedDocuments(e,i){return this.Vr.removeOrphanedDocuments(e,i)}collect(e,i){return this.params.cacheSizeCollectionThreshold===-1?(ie("LruGarbageCollector","Garbage collection skipped; disabled"),J.resolve(xv)):this.getCacheSize(e).next((r=>r<this.params.cacheSizeCollectionThreshold?(ie("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),xv):this.gr(e,i)))}getCacheSize(e){return this.Vr.getCacheSize(e)}gr(e,i){let r,o,c,d,p,_,y;const T=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next((A=>(A>this.params.maximumSequenceNumbersToCollect?(ie("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${A}`),o=this.params.maximumSequenceNumbersToCollect):o=A,d=Date.now(),this.nthSequenceNumber(e,o)))).next((A=>(r=A,p=Date.now(),this.removeTargets(e,r,i)))).next((A=>(c=A,_=Date.now(),this.removeOrphanedDocuments(e,r)))).next((A=>(y=Date.now(),Pa()<=Ie.DEBUG&&ie("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${d-T}ms
	Determined least recently used ${o} in `+(p-d)+`ms
	Removed ${c} targets in `+(_-p)+`ms
	Removed ${A} documents in `+(y-_)+`ms
Total Duration: ${y-T}ms`),J.resolve({didRun:!0,sequenceNumbersCollected:o,targetsRemoved:c,documentsRemoved:A}))))}}function Pw(s,e){return new jw(s,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zw{constructor(){this.changes=new Kr((e=>e.toString()),((e,i)=>e.isEqual(i))),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,i){this.assertNotApplied(),this.changes.set(e,Zt.newInvalidDocument(e).setReadTime(i))}getEntry(e,i){this.assertNotApplied();const r=this.changes.get(i);return r!==void 0?J.resolve(r):this.getFromCache(e,i)}getEntries(e,i){return this.getAllFromCache(e,i)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bw{constructor(e,i){this.overlayedDocument=e,this.mutatedFields=i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qw{constructor(e,i,r,o){this.remoteDocumentCache=e,this.mutationQueue=i,this.documentOverlayCache=r,this.indexManager=o}getDocument(e,i){let r=null;return this.documentOverlayCache.getOverlay(e,i).next((o=>(r=o,this.remoteDocumentCache.getEntry(e,i)))).next((o=>(r!==null&&Ro(r.mutation,o,Sn.empty(),it.now()),o)))}getDocuments(e,i){return this.remoteDocumentCache.getEntries(e,i).next((r=>this.getLocalViewOfDocuments(e,r,De()).next((()=>r))))}getLocalViewOfDocuments(e,i,r=De()){const o=Lr();return this.populateOverlays(e,o,i).next((()=>this.computeViews(e,i,o,r).next((c=>{let d=vo();return c.forEach(((p,_)=>{d=d.insert(p,_.overlayedDocument)})),d}))))}getOverlayedDocuments(e,i){const r=Lr();return this.populateOverlays(e,r,i).next((()=>this.computeViews(e,i,r,De())))}populateOverlays(e,i,r){const o=[];return r.forEach((c=>{i.has(c)||o.push(c)})),this.documentOverlayCache.getOverlays(e,o).next((c=>{c.forEach(((d,p)=>{i.set(d,p)}))}))}computeViews(e,i,r,o){let c=ts();const d=wo(),p=(function(){return wo()})();return i.forEach(((_,y)=>{const T=r.get(y.key);o.has(y.key)&&(T===void 0||T.mutation instanceof ir)?c=c.insert(y.key,y):T!==void 0?(d.set(y.key,T.mutation.getFieldMask()),Ro(T.mutation,y,T.mutation.getFieldMask(),it.now())):d.set(y.key,Sn.empty())})),this.recalculateAndSaveOverlays(e,c).next((_=>(_.forEach(((y,T)=>d.set(y,T))),i.forEach(((y,T)=>p.set(y,new Bw(T,d.get(y)??null)))),p)))}recalculateAndSaveOverlays(e,i){const r=wo();let o=new ot(((d,p)=>d-p)),c=De();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,i).next((d=>{for(const p of d)p.keys().forEach((_=>{const y=i.get(_);if(y===null)return;let T=r.get(_)||Sn.empty();T=p.applyToLocalView(y,T),r.set(_,T);const A=(o.get(p.batchId)||De()).add(_);o=o.insert(p.batchId,A)}))})).next((()=>{const d=[],p=o.getReverseIterator();for(;p.hasNext();){const _=p.getNext(),y=_.key,T=_.value,A=fE();T.forEach((x=>{if(!c.has(x)){const B=_E(i.get(x),r.get(x));B!==null&&A.set(x,B),c=c.add(x)}})),d.push(this.documentOverlayCache.saveOverlays(e,y,A))}return J.waitFor(d)})).next((()=>r))}recalculateAndSaveOverlaysForDocumentKeys(e,i){return this.remoteDocumentCache.getEntries(e,i).next((r=>this.recalculateAndSaveOverlays(e,r)))}getDocumentsMatchingQuery(e,i,r,o){return H2(i)?this.getDocumentsMatchingDocumentQuery(e,i.path):F2(i)?this.getDocumentsMatchingCollectionGroupQuery(e,i,r,o):this.getDocumentsMatchingCollectionQuery(e,i,r,o)}getNextDocuments(e,i,r,o){return this.remoteDocumentCache.getAllFromCollectionGroup(e,i,r,o).next((c=>{const d=o-c.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,i,r.largestBatchId,o-c.size):J.resolve(Lr());let p=Do,_=c;return d.next((y=>J.forEach(y,((T,A)=>(p<A.largestBatchId&&(p=A.largestBatchId),c.get(T)?J.resolve():this.remoteDocumentCache.getEntry(e,T).next((x=>{_=_.insert(T,x)}))))).next((()=>this.populateOverlays(e,y,c))).next((()=>this.computeViews(e,_,y,De()))).next((T=>({batchId:p,changes:hE(T)})))))}))}getDocumentsMatchingDocumentQuery(e,i){return this.getDocument(e,new de(i)).next((r=>{let o=vo();return r.isFoundDocument()&&(o=o.insert(r.key,r)),o}))}getDocumentsMatchingCollectionGroupQuery(e,i,r,o){const c=i.collectionGroup;let d=vo();return this.indexManager.getCollectionParents(e,c).next((p=>J.forEach(p,(_=>{const y=(function(A,x){return new fh(x,null,A.explicitOrderBy.slice(),A.filters.slice(),A.limit,A.limitType,A.startAt,A.endAt)})(i,_.child(c));return this.getDocumentsMatchingCollectionQuery(e,y,r,o).next((T=>{T.forEach(((A,x)=>{d=d.insert(A,x)}))}))})).next((()=>d))))}getDocumentsMatchingCollectionQuery(e,i,r,o){let c;return this.documentOverlayCache.getOverlaysForCollection(e,i.path,r.largestBatchId).next((d=>(c=d,this.remoteDocumentCache.getDocumentsMatchingQuery(e,i,r,c,o)))).next((d=>{c.forEach(((_,y)=>{const T=y.getKey();d.get(T)===null&&(d=d.insert(T,Zt.newInvalidDocument(T)))}));let p=vo();return d.forEach(((_,y)=>{const T=c.get(_);T!==void 0&&Ro(T.mutation,y,Sn.empty(),it.now()),mh(i,y)&&(p=p.insert(_,y))})),p}))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hw{constructor(e){this.serializer=e,this.Nr=new Map,this.Br=new Map}getBundleMetadata(e,i){return J.resolve(this.Nr.get(i))}saveBundleMetadata(e,i){return this.Nr.set(i.id,(function(o){return{id:o.id,version:o.version,createTime:wi(o.createTime)}})(i)),J.resolve()}getNamedQuery(e,i){return J.resolve(this.Br.get(i))}saveNamedQuery(e,i){return this.Br.set(i.name,(function(o){return{name:o.name,query:Ow(o.bundledQuery),readTime:wi(o.readTime)}})(i)),J.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fw{constructor(){this.overlays=new ot(de.comparator),this.Lr=new Map}getOverlay(e,i){return J.resolve(this.overlays.get(i))}getOverlays(e,i){const r=Lr();return J.forEach(i,(o=>this.getOverlay(e,o).next((c=>{c!==null&&r.set(o,c)})))).next((()=>r))}saveOverlays(e,i,r){return r.forEach(((o,c)=>{this.bt(e,i,c)})),J.resolve()}removeOverlaysForBatchId(e,i,r){const o=this.Lr.get(r);return o!==void 0&&(o.forEach((c=>this.overlays=this.overlays.remove(c))),this.Lr.delete(r)),J.resolve()}getOverlaysForCollection(e,i,r){const o=Lr(),c=i.length+1,d=new de(i.child("")),p=this.overlays.getIteratorFrom(d);for(;p.hasNext();){const _=p.getNext().value,y=_.getKey();if(!i.isPrefixOf(y.path))break;y.path.length===c&&_.largestBatchId>r&&o.set(_.getKey(),_)}return J.resolve(o)}getOverlaysForCollectionGroup(e,i,r,o){let c=new ot(((y,T)=>y-T));const d=this.overlays.getIterator();for(;d.hasNext();){const y=d.getNext().value;if(y.getKey().getCollectionGroup()===i&&y.largestBatchId>r){let T=c.get(y.largestBatchId);T===null&&(T=Lr(),c=c.insert(y.largestBatchId,T)),T.set(y.getKey(),y)}}const p=Lr(),_=c.getIterator();for(;_.hasNext()&&(_.getNext().value.forEach(((y,T)=>p.set(y,T))),!(p.size()>=o)););return J.resolve(p)}bt(e,i,r){const o=this.overlays.get(r.key);if(o!==null){const d=this.Lr.get(o.largestBatchId).delete(r.key);this.Lr.set(o.largestBatchId,d)}this.overlays=this.overlays.insert(r.key,new ow(i,r));let c=this.Lr.get(i);c===void 0&&(c=De(),this.Lr.set(i,c)),this.Lr.set(i,c.add(r.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gw{constructor(){this.sessionToken=Yt.EMPTY_BYTE_STRING}getSessionToken(e){return J.resolve(this.sessionToken)}setSessionToken(e,i){return this.sessionToken=i,J.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pm{constructor(){this.kr=new Mt(jt.Kr),this.qr=new Mt(jt.Ur)}isEmpty(){return this.kr.isEmpty()}addReference(e,i){const r=new jt(e,i);this.kr=this.kr.add(r),this.qr=this.qr.add(r)}$r(e,i){e.forEach((r=>this.addReference(r,i)))}removeReference(e,i){this.Wr(new jt(e,i))}Qr(e,i){e.forEach((r=>this.removeReference(r,i)))}Gr(e){const i=new de(new nt([])),r=new jt(i,e),o=new jt(i,e+1),c=[];return this.qr.forEachInRange([r,o],(d=>{this.Wr(d),c.push(d.key)})),c}zr(){this.kr.forEach((e=>this.Wr(e)))}Wr(e){this.kr=this.kr.delete(e),this.qr=this.qr.delete(e)}jr(e){const i=new de(new nt([])),r=new jt(i,e),o=new jt(i,e+1);let c=De();return this.qr.forEachInRange([r,o],(d=>{c=c.add(d.key)})),c}containsKey(e){const i=new jt(e,0),r=this.kr.firstAfterOrEqual(i);return r!==null&&e.isEqual(r.key)}}class jt{constructor(e,i){this.key=e,this.Hr=i}static Kr(e,i){return de.comparator(e.key,i.key)||Ne(e.Hr,i.Hr)}static Ur(e,i){return Ne(e.Hr,i.Hr)||de.comparator(e.key,i.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kw{constructor(e,i){this.indexManager=e,this.referenceDelegate=i,this.mutationQueue=[],this.Yn=1,this.Jr=new Mt(jt.Kr)}checkEmpty(e){return J.resolve(this.mutationQueue.length===0)}addMutationBatch(e,i,r,o){const c=this.Yn;this.Yn++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const d=new lw(c,i,r,o);this.mutationQueue.push(d);for(const p of o)this.Jr=this.Jr.add(new jt(p.key,c)),this.indexManager.addToCollectionParentIndex(e,p.key.path.popLast());return J.resolve(d)}lookupMutationBatch(e,i){return J.resolve(this.Zr(i))}getNextMutationBatchAfterBatchId(e,i){const r=i+1,o=this.Xr(r),c=o<0?0:o;return J.resolve(this.mutationQueue.length>c?this.mutationQueue[c]:null)}getHighestUnacknowledgedBatchId(){return J.resolve(this.mutationQueue.length===0?Cm:this.Yn-1)}getAllMutationBatches(e){return J.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,i){const r=new jt(i,0),o=new jt(i,Number.POSITIVE_INFINITY),c=[];return this.Jr.forEachInRange([r,o],(d=>{const p=this.Zr(d.Hr);c.push(p)})),J.resolve(c)}getAllMutationBatchesAffectingDocumentKeys(e,i){let r=new Mt(Ne);return i.forEach((o=>{const c=new jt(o,0),d=new jt(o,Number.POSITIVE_INFINITY);this.Jr.forEachInRange([c,d],(p=>{r=r.add(p.Hr)}))})),J.resolve(this.Yr(r))}getAllMutationBatchesAffectingQuery(e,i){const r=i.path,o=r.length+1;let c=r;de.isDocumentKey(c)||(c=c.child(""));const d=new jt(new de(c),0);let p=new Mt(Ne);return this.Jr.forEachWhile((_=>{const y=_.key.path;return!!r.isPrefixOf(y)&&(y.length===o&&(p=p.add(_.Hr)),!0)}),d),J.resolve(this.Yr(p))}Yr(e){const i=[];return e.forEach((r=>{const o=this.Zr(r);o!==null&&i.push(o)})),i}removeMutationBatch(e,i){He(this.ei(i.batchId,"removed")===0,55003),this.mutationQueue.shift();let r=this.Jr;return J.forEach(i.mutations,(o=>{const c=new jt(o.key,i.batchId);return r=r.delete(c),this.referenceDelegate.markPotentiallyOrphaned(e,o.key)})).next((()=>{this.Jr=r}))}nr(e){}containsKey(e,i){const r=new jt(i,0),o=this.Jr.firstAfterOrEqual(r);return J.resolve(i.isEqual(o&&o.key))}performConsistencyCheck(e){return this.mutationQueue.length,J.resolve()}ei(e,i){return this.Xr(e)}Xr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Zr(e){const i=this.Xr(e);return i<0||i>=this.mutationQueue.length?null:this.mutationQueue[i]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qw{constructor(e){this.ti=e,this.docs=(function(){return new ot(de.comparator)})(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,i){const r=i.key,o=this.docs.get(r),c=o?o.size:0,d=this.ti(i);return this.docs=this.docs.insert(r,{document:i.mutableCopy(),size:d}),this.size+=d-c,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const i=this.docs.get(e);i&&(this.docs=this.docs.remove(e),this.size-=i.size)}getEntry(e,i){const r=this.docs.get(i);return J.resolve(r?r.document.mutableCopy():Zt.newInvalidDocument(i))}getEntries(e,i){let r=ts();return i.forEach((o=>{const c=this.docs.get(o);r=r.insert(o,c?c.document.mutableCopy():Zt.newInvalidDocument(o))})),J.resolve(r)}getDocumentsMatchingQuery(e,i,r,o){let c=ts();const d=i.path,p=new de(d.child("__id-9223372036854775808__")),_=this.docs.getIteratorFrom(p);for(;_.hasNext();){const{key:y,value:{document:T}}=_.getNext();if(!d.isPrefixOf(y.path))break;y.path.length>d.length+1||v2(_2(T),r)<=0||(o.has(T.key)||mh(i,T))&&(c=c.insert(T.key,T.mutableCopy()))}return J.resolve(c)}getAllFromCollectionGroup(e,i,r,o){pe(9500)}ni(e,i){return J.forEach(this.docs,(r=>i(r)))}newChangeBuffer(e){return new Yw(this)}getSize(e){return J.resolve(this.size)}}class Yw extends zw{constructor(e){super(),this.Mr=e}applyChanges(e){const i=[];return this.changes.forEach(((r,o)=>{o.isValidDocument()?i.push(this.Mr.addEntry(e,o)):this.Mr.removeEntry(r)})),J.waitFor(i)}getFromCache(e,i){return this.Mr.getEntry(e,i)}getAllFromCache(e,i){return this.Mr.getEntries(e,i)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xw{constructor(e){this.persistence=e,this.ri=new Kr((i=>Dm(i)),Om),this.lastRemoteSnapshotVersion=_e.min(),this.highestTargetId=0,this.ii=0,this.si=new Pm,this.targetCount=0,this.oi=tl._r()}forEachTarget(e,i){return this.ri.forEach(((r,o)=>i(o))),J.resolve()}getLastRemoteSnapshotVersion(e){return J.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return J.resolve(this.ii)}allocateTargetId(e){return this.highestTargetId=this.oi.next(),J.resolve(this.highestTargetId)}setTargetsMetadata(e,i,r){return r&&(this.lastRemoteSnapshotVersion=r),i>this.ii&&(this.ii=i),J.resolve()}lr(e){this.ri.set(e.target,e);const i=e.targetId;i>this.highestTargetId&&(this.oi=new tl(i),this.highestTargetId=i),e.sequenceNumber>this.ii&&(this.ii=e.sequenceNumber)}addTargetData(e,i){return this.lr(i),this.targetCount+=1,J.resolve()}updateTargetData(e,i){return this.lr(i),J.resolve()}removeTargetData(e,i){return this.ri.delete(i.target),this.si.Gr(i.targetId),this.targetCount-=1,J.resolve()}removeTargets(e,i,r){let o=0;const c=[];return this.ri.forEach(((d,p)=>{p.sequenceNumber<=i&&r.get(p.targetId)===null&&(this.ri.delete(d),c.push(this.removeMatchingKeysForTargetId(e,p.targetId)),o++)})),J.waitFor(c).next((()=>o))}getTargetCount(e){return J.resolve(this.targetCount)}getTargetData(e,i){const r=this.ri.get(i)||null;return J.resolve(r)}addMatchingKeys(e,i,r){return this.si.$r(i,r),J.resolve()}removeMatchingKeys(e,i,r){this.si.Qr(i,r);const o=this.persistence.referenceDelegate,c=[];return o&&i.forEach((d=>{c.push(o.markPotentiallyOrphaned(e,d))})),J.waitFor(c)}removeMatchingKeysForTargetId(e,i){return this.si.Gr(i),J.resolve()}getMatchingKeysForTargetId(e,i){const r=this.si.jr(i);return J.resolve(r)}containsKey(e,i){return J.resolve(this.si.containsKey(i))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OE{constructor(e,i){this._i={},this.overlays={},this.ai=new uh(0),this.ui=!1,this.ui=!0,this.ci=new Gw,this.referenceDelegate=e(this),this.li=new Xw(this),this.indexManager=new Mw,this.remoteDocumentCache=(function(o){return new Qw(o)})((r=>this.referenceDelegate.hi(r))),this.serializer=new Dw(i),this.Pi=new Hw(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.ui=!1,Promise.resolve()}get started(){return this.ui}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let i=this.overlays[e.toKey()];return i||(i=new Fw,this.overlays[e.toKey()]=i),i}getMutationQueue(e,i){let r=this._i[e.toKey()];return r||(r=new Kw(i,this.referenceDelegate),this._i[e.toKey()]=r),r}getGlobalsCache(){return this.ci}getTargetCache(){return this.li}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Pi}runTransaction(e,i,r){ie("MemoryPersistence","Starting transaction:",e);const o=new Jw(this.ai.next());return this.referenceDelegate.Ti(),r(o).next((c=>this.referenceDelegate.Ii(o).next((()=>c)))).toPromise().then((c=>(o.raiseOnCommittedEvent(),c)))}Ei(e,i){return J.or(Object.values(this._i).map((r=>()=>r.containsKey(e,i))))}}class Jw extends b2{constructor(e){super(),this.currentSequenceNumber=e}}class zm{constructor(e){this.persistence=e,this.Ri=new Pm,this.Ai=null}static Vi(e){return new zm(e)}get di(){if(this.Ai)return this.Ai;throw pe(60996)}addReference(e,i,r){return this.Ri.addReference(r,i),this.di.delete(r.toString()),J.resolve()}removeReference(e,i,r){return this.Ri.removeReference(r,i),this.di.add(r.toString()),J.resolve()}markPotentiallyOrphaned(e,i){return this.di.add(i.toString()),J.resolve()}removeTarget(e,i){this.Ri.Gr(i.targetId).forEach((o=>this.di.add(o.toString())));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,i.targetId).next((o=>{o.forEach((c=>this.di.add(c.toString())))})).next((()=>r.removeTargetData(e,i)))}Ti(){this.Ai=new Set}Ii(e){const i=this.persistence.getRemoteDocumentCache().newChangeBuffer();return J.forEach(this.di,(r=>{const o=de.fromPath(r);return this.mi(e,o).next((c=>{c||i.removeEntry(o,_e.min())}))})).next((()=>(this.Ai=null,i.apply(e))))}updateLimboDocument(e,i){return this.mi(e,i).next((r=>{r?this.di.delete(i.toString()):this.di.add(i.toString())}))}hi(e){return 0}mi(e,i){return J.or([()=>J.resolve(this.Ri.containsKey(i)),()=>this.persistence.getTargetCache().containsKey(e,i),()=>this.persistence.Ei(e,i)])}}class Zc{constructor(e,i){this.persistence=e,this.fi=new Kr((r=>A2(r.path)),((r,o)=>r.isEqual(o))),this.garbageCollector=Pw(this,i)}static Vi(e,i){return new Zc(e,i)}Ti(){}Ii(e){return J.resolve()}forEachTarget(e,i){return this.persistence.getTargetCache().forEachTarget(e,i)}dr(e){const i=this.pr(e);return this.persistence.getTargetCache().getTargetCount(e).next((r=>i.next((o=>r+o))))}pr(e){let i=0;return this.mr(e,(r=>{i++})).next((()=>i))}mr(e,i){return J.forEach(this.fi,((r,o)=>this.wr(e,r,o).next((c=>c?J.resolve():i(o)))))}removeTargets(e,i,r){return this.persistence.getTargetCache().removeTargets(e,i,r)}removeOrphanedDocuments(e,i){let r=0;const o=this.persistence.getRemoteDocumentCache(),c=o.newChangeBuffer();return o.ni(e,(d=>this.wr(e,d,i).next((p=>{p||(r++,c.removeEntry(d,_e.min()))})))).next((()=>c.apply(e))).next((()=>r))}markPotentiallyOrphaned(e,i){return this.fi.set(i,e.currentSequenceNumber),J.resolve()}removeTarget(e,i){const r=i.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,r)}addReference(e,i,r){return this.fi.set(r,e.currentSequenceNumber),J.resolve()}removeReference(e,i,r){return this.fi.set(r,e.currentSequenceNumber),J.resolve()}updateLimboDocument(e,i){return this.fi.set(i,e.currentSequenceNumber),J.resolve()}hi(e){let i=e.key.toString().length;return e.isFoundDocument()&&(i+=Vc(e.data.value)),i}wr(e,i,r){return J.or([()=>this.persistence.Ei(e,i),()=>this.persistence.getTargetCache().containsKey(e,i),()=>{const o=this.fi.get(i);return J.resolve(o!==void 0&&o>r)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bm{constructor(e,i,r,o){this.targetId=e,this.fromCache=i,this.Ts=r,this.Is=o}static Es(e,i){let r=De(),o=De();for(const c of i.docChanges)switch(c.type){case 0:r=r.add(c.doc.key);break;case 1:o=o.add(c.doc.key)}return new Bm(e,i.fromCache,r,o)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $w{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zw{constructor(){this.Rs=!1,this.As=!1,this.Vs=100,this.ds=(function(){return BS()?8:T2(Wt())>0?6:4})()}initialize(e,i){this.fs=e,this.indexManager=i,this.Rs=!0}getDocumentsMatchingQuery(e,i,r,o){const c={result:null};return this.gs(e,i).next((d=>{c.result=d})).next((()=>{if(!c.result)return this.ps(e,i,o,r).next((d=>{c.result=d}))})).next((()=>{if(c.result)return;const d=new $w;return this.ys(e,i,d).next((p=>{if(c.result=p,this.As)return this.ws(e,i,d,p.size)}))})).next((()=>c.result))}ws(e,i,r,o){return r.documentReadCount<this.Vs?(Pa()<=Ie.DEBUG&&ie("QueryEngine","SDK will not create cache indexes for query:",za(i),"since it only creates cache indexes for collection contains","more than or equal to",this.Vs,"documents"),J.resolve()):(Pa()<=Ie.DEBUG&&ie("QueryEngine","Query:",za(i),"scans",r.documentReadCount,"local documents and returns",o,"documents as results."),r.documentReadCount>this.ds*o?(Pa()<=Ie.DEBUG&&ie("QueryEngine","The SDK decides to create cache indexes for query:",za(i),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Ai(i))):J.resolve())}gs(e,i){if(yv(i))return J.resolve(null);let r=Ai(i);return this.indexManager.getIndexType(e,r).next((o=>o===0?null:(i.limit!==null&&o===1&&(i=am(i,null,"F"),r=Ai(i)),this.indexManager.getDocumentsMatchingTarget(e,r).next((c=>{const d=De(...c);return this.fs.getDocuments(e,d).next((p=>this.indexManager.getMinOffset(e,r).next((_=>{const y=this.bs(i,p);return this.Ss(i,y,d,_.readTime)?this.gs(e,am(i,null,"F")):this.Ds(e,y,i,_)}))))})))))}ps(e,i,r,o){return yv(i)||o.isEqual(_e.min())?J.resolve(null):this.fs.getDocuments(e,r).next((c=>{const d=this.bs(i,c);return this.Ss(i,d,r,o)?J.resolve(null):(Pa()<=Ie.DEBUG&&ie("QueryEngine","Re-using previous result from %s to execute query: %s",o.toString(),za(i)),this.Ds(e,d,i,y2(o,Do)).next((p=>p)))}))}bs(e,i){let r=new Mt(uE(e));return i.forEach(((o,c)=>{mh(e,c)&&(r=r.add(c))})),r}Ss(e,i,r,o){if(e.limit===null)return!1;if(r.size!==i.size)return!0;const c=e.limitType==="F"?i.last():i.first();return!!c&&(c.hasPendingWrites||c.version.compareTo(o)>0)}ys(e,i,r){return Pa()<=Ie.DEBUG&&ie("QueryEngine","Using full collection scan to execute query:",za(i)),this.fs.getDocumentsMatchingQuery(e,i,Js.min(),r)}Ds(e,i,r,o){return this.fs.getDocumentsMatchingQuery(e,r,o).next((c=>(i.forEach((d=>{c=c.insert(d.key,d)})),c)))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qm="LocalStore",Ww=3e8;class eR{constructor(e,i,r,o){this.persistence=e,this.Cs=i,this.serializer=o,this.vs=new ot(Ne),this.Fs=new Kr((c=>Dm(c)),Om),this.Ms=new Map,this.xs=e.getRemoteDocumentCache(),this.li=e.getTargetCache(),this.Pi=e.getBundleCache(),this.Os(r)}Os(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new qw(this.xs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.xs.setIndexManager(this.indexManager),this.Cs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(i=>e.collect(i,this.vs)))}}function tR(s,e,i,r){return new eR(s,e,i,r)}async function ME(s,e){const i=Ee(s);return await i.persistence.runTransaction("Handle user change","readonly",(r=>{let o;return i.mutationQueue.getAllMutationBatches(r).next((c=>(o=c,i.Os(e),i.mutationQueue.getAllMutationBatches(r)))).next((c=>{const d=[],p=[];let _=De();for(const y of o){d.push(y.batchId);for(const T of y.mutations)_=_.add(T.key)}for(const y of c){p.push(y.batchId);for(const T of y.mutations)_=_.add(T.key)}return i.localDocuments.getDocuments(r,_).next((y=>({Ns:y,removedBatchIds:d,addedBatchIds:p})))}))}))}function nR(s,e){const i=Ee(s);return i.persistence.runTransaction("Acknowledge batch","readwrite-primary",(r=>{const o=e.batch.keys(),c=i.xs.newChangeBuffer({trackRemovals:!0});return(function(p,_,y,T){const A=y.batch,x=A.keys();let B=J.resolve();return x.forEach((K=>{B=B.next((()=>T.getEntry(_,K))).next((Z=>{const W=y.docVersions.get(K);He(W!==null,48541),Z.version.compareTo(W)<0&&(A.applyToRemoteDocument(Z,y),Z.isValidDocument()&&(Z.setReadTime(y.commitVersion),T.addEntry(Z)))}))})),B.next((()=>p.mutationQueue.removeMutationBatch(_,A)))})(i,r,e,c).next((()=>c.apply(r))).next((()=>i.mutationQueue.performConsistencyCheck(r))).next((()=>i.documentOverlayCache.removeOverlaysForBatchId(r,o,e.batch.batchId))).next((()=>i.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,(function(p){let _=De();for(let y=0;y<p.mutationResults.length;++y)p.mutationResults[y].transformResults.length>0&&(_=_.add(p.batch.mutations[y].key));return _})(e)))).next((()=>i.localDocuments.getDocuments(r,o)))}))}function VE(s){const e=Ee(s);return e.persistence.runTransaction("Get last remote snapshot version","readonly",(i=>e.li.getLastRemoteSnapshotVersion(i)))}function iR(s,e){const i=Ee(s),r=e.snapshotVersion;let o=i.vs;return i.persistence.runTransaction("Apply remote event","readwrite-primary",(c=>{const d=i.xs.newChangeBuffer({trackRemovals:!0});o=i.vs;const p=[];e.targetChanges.forEach(((T,A)=>{const x=o.get(A);if(!x)return;p.push(i.li.removeMatchingKeys(c,T.removedDocuments,A).next((()=>i.li.addMatchingKeys(c,T.addedDocuments,A))));let B=x.withSequenceNumber(c.currentSequenceNumber);e.targetMismatches.get(A)!==null?B=B.withResumeToken(Yt.EMPTY_BYTE_STRING,_e.min()).withLastLimboFreeSnapshotVersion(_e.min()):T.resumeToken.approximateByteSize()>0&&(B=B.withResumeToken(T.resumeToken,r)),o=o.insert(A,B),(function(Z,W,ae){return Z.resumeToken.approximateByteSize()===0||W.snapshotVersion.toMicroseconds()-Z.snapshotVersion.toMicroseconds()>=Ww?!0:ae.addedDocuments.size+ae.modifiedDocuments.size+ae.removedDocuments.size>0})(x,B,T)&&p.push(i.li.updateTargetData(c,B))}));let _=ts(),y=De();if(e.documentUpdates.forEach((T=>{e.resolvedLimboDocuments.has(T)&&p.push(i.persistence.referenceDelegate.updateLimboDocument(c,T))})),p.push(sR(c,d,e.documentUpdates).next((T=>{_=T.Bs,y=T.Ls}))),!r.isEqual(_e.min())){const T=i.li.getLastRemoteSnapshotVersion(c).next((A=>i.li.setTargetsMetadata(c,c.currentSequenceNumber,r)));p.push(T)}return J.waitFor(p).next((()=>d.apply(c))).next((()=>i.localDocuments.getLocalViewOfDocuments(c,_,y))).next((()=>_))})).then((c=>(i.vs=o,c)))}function sR(s,e,i){let r=De(),o=De();return i.forEach((c=>r=r.add(c))),e.getEntries(s,r).next((c=>{let d=ts();return i.forEach(((p,_)=>{const y=c.get(p);_.isFoundDocument()!==y.isFoundDocument()&&(o=o.add(p)),_.isNoDocument()&&_.version.isEqual(_e.min())?(e.removeEntry(p,_.readTime),d=d.insert(p,_)):!y.isValidDocument()||_.version.compareTo(y.version)>0||_.version.compareTo(y.version)===0&&y.hasPendingWrites?(e.addEntry(_),d=d.insert(p,_)):ie(qm,"Ignoring outdated watch update for ",p,". Current version:",y.version," Watch version:",_.version)})),{Bs:d,Ls:o}}))}function rR(s,e){const i=Ee(s);return i.persistence.runTransaction("Get next mutation batch","readonly",(r=>(e===void 0&&(e=Cm),i.mutationQueue.getNextMutationBatchAfterBatchId(r,e))))}function aR(s,e){const i=Ee(s);return i.persistence.runTransaction("Allocate target","readwrite",(r=>{let o;return i.li.getTargetData(r,e).next((c=>c?(o=c,J.resolve(o)):i.li.allocateTargetId(r).next((d=>(o=new Fs(e,d,"TargetPurposeListen",r.currentSequenceNumber),i.li.addTargetData(r,o).next((()=>o)))))))})).then((r=>{const o=i.vs.get(r.targetId);return(o===null||r.snapshotVersion.compareTo(o.snapshotVersion)>0)&&(i.vs=i.vs.insert(r.targetId,r),i.Fs.set(e,r.targetId)),r}))}async function hm(s,e,i){const r=Ee(s),o=r.vs.get(e),c=i?"readwrite":"readwrite-primary";try{i||await r.persistence.runTransaction("Release target",c,(d=>r.persistence.referenceDelegate.removeTarget(d,o)))}catch(d){if(!ll(d))throw d;ie(qm,`Failed to update sequence numbers for target ${e}: ${d}`)}r.vs=r.vs.remove(e),r.Fs.delete(o.target)}function Nv(s,e,i){const r=Ee(s);let o=_e.min(),c=De();return r.persistence.runTransaction("Execute query","readwrite",(d=>(function(_,y,T){const A=Ee(_),x=A.Fs.get(T);return x!==void 0?J.resolve(A.vs.get(x)):A.li.getTargetData(y,T)})(r,d,Ai(e)).next((p=>{if(p)return o=p.lastLimboFreeSnapshotVersion,r.li.getMatchingKeysForTargetId(d,p.targetId).next((_=>{c=_}))})).next((()=>r.Cs.getDocumentsMatchingQuery(d,e,i?o:_e.min(),i?c:De()))).next((p=>(lR(r,K2(e),p),{documents:p,ks:c})))))}function lR(s,e,i){let r=s.Ms.get(e)||_e.min();i.forEach(((o,c)=>{c.readTime.compareTo(r)>0&&(r=c.readTime)})),s.Ms.set(e,r)}class Dv{constructor(){this.activeTargetIds=Z2()}Qs(e){this.activeTargetIds=this.activeTargetIds.add(e)}Gs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Ws(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class oR{constructor(){this.vo=new Dv,this.Fo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,i,r){}addLocalQueryTarget(e,i=!0){return i&&this.vo.Qs(e),this.Fo[e]||"not-current"}updateQueryState(e,i,r){this.Fo[e]=i}removeLocalQueryTarget(e){this.vo.Gs(e)}isLocalQueryTarget(e){return this.vo.activeTargetIds.has(e)}clearQueryState(e){delete this.Fo[e]}getAllActiveQueryTargets(){return this.vo.activeTargetIds}isActiveQueryTarget(e){return this.vo.activeTargetIds.has(e)}start(){return this.vo=new Dv,Promise.resolve()}handleUserChange(e,i,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uR{Mo(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ov="ConnectivityMonitor";class Mv{constructor(){this.xo=()=>this.Oo(),this.No=()=>this.Bo(),this.Lo=[],this.ko()}Mo(e){this.Lo.push(e)}shutdown(){window.removeEventListener("online",this.xo),window.removeEventListener("offline",this.No)}ko(){window.addEventListener("online",this.xo),window.addEventListener("offline",this.No)}Oo(){ie(Ov,"Network connectivity changed: AVAILABLE");for(const e of this.Lo)e(0)}Bo(){ie(Ov,"Network connectivity changed: UNAVAILABLE");for(const e of this.Lo)e(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Dc=null;function fm(){return Dc===null?Dc=(function(){return 268435456+Math.round(2147483648*Math.random())})():Dc++,"0x"+Dc.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Bd="RestConnection",cR={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery",ExecutePipeline:"executePipeline"};class hR{get Ko(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const i=e.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),o=encodeURIComponent(this.databaseId.database);this.qo=i+"://"+e.host,this.Uo=`projects/${r}/databases/${o}`,this.$o=this.databaseId.database===Gc?`project_id=${r}`:`project_id=${r}&database_id=${o}`}Wo(e,i,r,o,c){const d=fm(),p=this.Qo(e,i.toUriEncodedString());ie(Bd,`Sending RPC '${e}' ${d}:`,p,r);const _={"google-cloud-resource-prefix":this.Uo,"x-goog-request-params":this.$o};this.Go(_,o,c);const{host:y}=new URL(p),T=il(y);return this.zo(e,p,_,r,T).then((A=>(ie(Bd,`Received RPC '${e}' ${d}: `,A),A)),(A=>{throw qr(Bd,`RPC '${e}' ${d} failed with error: `,A,"url: ",p,"request:",r),A}))}jo(e,i,r,o,c,d){return this.Wo(e,i,r,o,c)}Go(e,i,r){e["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+rl})(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),i&&i.headers.forEach(((o,c)=>e[c]=o)),r&&r.headers.forEach(((o,c)=>e[c]=o))}Qo(e,i){const r=cR[e];let o=`${this.qo}/v1/${i}:${r}`;return this.databaseInfo.apiKey&&(o=`${o}?key=${encodeURIComponent(this.databaseInfo.apiKey)}`),o}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fR{constructor(e){this.Ho=e.Ho,this.Jo=e.Jo}Zo(e){this.Xo=e}Yo(e){this.e_=e}t_(e){this.n_=e}onMessage(e){this.r_=e}close(){this.Jo()}send(e){this.Ho(e)}i_(){this.Xo()}s_(){this.e_()}o_(e){this.n_(e)}__(e){this.r_(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Jt="WebChannelConnection",yo=(s,e,i)=>{s.listen(e,(r=>{try{i(r)}catch(o){setTimeout((()=>{throw o}),0)}}))};class Ga extends hR{constructor(e){super(e),this.a_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}static u_(){if(!Ga.c_){const e=z0();yo(e,P0.STAT_EVENT,(i=>{i.stat===em.PROXY?ie(Jt,"STAT_EVENT: detected buffering proxy"):i.stat===em.NOPROXY&&ie(Jt,"STAT_EVENT: detected no buffering proxy")})),Ga.c_=!0}}zo(e,i,r,o,c){const d=fm();return new Promise(((p,_)=>{const y=new U0;y.setWithCredentials(!0),y.listenOnce(j0.COMPLETE,(()=>{try{switch(y.getLastErrorCode()){case Mc.NO_ERROR:const A=y.getResponseJson();ie(Jt,`XHR for RPC '${e}' ${d} received:`,JSON.stringify(A)),p(A);break;case Mc.TIMEOUT:ie(Jt,`RPC '${e}' ${d} timed out`),_(new oe($.DEADLINE_EXCEEDED,"Request time out"));break;case Mc.HTTP_ERROR:const x=y.getStatus();if(ie(Jt,`RPC '${e}' ${d} failed with status:`,x,"response text:",y.getResponseText()),x>0){let B=y.getResponseJson();Array.isArray(B)&&(B=B[0]);const K=B==null?void 0:B.error;if(K&&K.status&&K.message){const Z=(function(ae){const ue=ae.toLowerCase().replace(/_/g,"-");return Object.values($).indexOf(ue)>=0?ue:$.UNKNOWN})(K.status);_(new oe(Z,K.message))}else _(new oe($.UNKNOWN,"Server responded with status "+y.getStatus()))}else _(new oe($.UNAVAILABLE,"Connection failed."));break;default:pe(9055,{l_:e,streamId:d,h_:y.getLastErrorCode(),P_:y.getLastError()})}}finally{ie(Jt,`RPC '${e}' ${d} completed.`)}}));const T=JSON.stringify(o);ie(Jt,`RPC '${e}' ${d} sending request:`,o),y.send(i,"POST",T,r,15)}))}T_(e,i,r){const o=fm(),c=[this.qo,"/","google.firestore.v1.Firestore","/",e,"/channel"],d=this.createWebChannelTransport(),p={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},_=this.longPollingOptions.timeoutSeconds;_!==void 0&&(p.longPollingTimeout=Math.round(1e3*_)),this.useFetchStreams&&(p.useFetchStreams=!0),this.Go(p.initMessageHeaders,i,r),p.encodeInitMessageHeaders=!0;const y=c.join("");ie(Jt,`Creating RPC '${e}' stream ${o}: ${y}`,p);const T=d.createWebChannel(y,p);this.I_(T);let A=!1,x=!1;const B=new fR({Ho:K=>{x?ie(Jt,`Not sending because RPC '${e}' stream ${o} is closed:`,K):(A||(ie(Jt,`Opening RPC '${e}' stream ${o} transport.`),T.open(),A=!0),ie(Jt,`RPC '${e}' stream ${o} sending:`,K),T.send(K))},Jo:()=>T.close()});return yo(T,_o.EventType.OPEN,(()=>{x||(ie(Jt,`RPC '${e}' stream ${o} transport opened.`),B.i_())})),yo(T,_o.EventType.CLOSE,(()=>{x||(x=!0,ie(Jt,`RPC '${e}' stream ${o} transport closed`),B.o_(),this.E_(T))})),yo(T,_o.EventType.ERROR,(K=>{x||(x=!0,qr(Jt,`RPC '${e}' stream ${o} transport errored. Name:`,K.name,"Message:",K.message),B.o_(new oe($.UNAVAILABLE,"The operation could not be completed")))})),yo(T,_o.EventType.MESSAGE,(K=>{var Z;if(!x){const W=K.data[0];He(!!W,16349);const ae=W,ue=(ae==null?void 0:ae.error)||((Z=ae[0])==null?void 0:Z.error);if(ue){ie(Jt,`RPC '${e}' stream ${o} received error:`,ue);const he=ue.status;let ke=(function(w){const R=wt[w];if(R!==void 0)return EE(R)})(he),ze=ue.message;he==="NOT_FOUND"&&ze.includes("database")&&ze.includes("does not exist")&&ze.includes(this.databaseId.database)&&qr(`Database '${this.databaseId.database}' not found. Please check your project configuration.`),ke===void 0&&(ke=$.INTERNAL,ze="Unknown error status: "+he+" with message "+ue.message),x=!0,B.o_(new oe(ke,ze)),T.close()}else ie(Jt,`RPC '${e}' stream ${o} received:`,W),B.__(W)}})),Ga.u_(),setTimeout((()=>{B.s_()}),0),B}terminate(){this.a_.forEach((e=>e.close())),this.a_=[]}I_(e){this.a_.push(e)}E_(e){this.a_=this.a_.filter((i=>i===e))}Go(e,i,r){super.Go(e,i,r),this.databaseInfo.apiKey&&(e["x-goog-api-key"]=this.databaseInfo.apiKey)}createWebChannelTransport(){return B0()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dR(s){return new Ga(s)}function qd(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _h(s){return new yw(s,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Ga.c_=!1;class kE{constructor(e,i,r=1e3,o=1.5,c=6e4){this.Ci=e,this.timerId=i,this.R_=r,this.A_=o,this.V_=c,this.d_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.d_=0}g_(){this.d_=this.V_}p_(e){this.cancel();const i=Math.floor(this.d_+this.y_()),r=Math.max(0,Date.now()-this.f_),o=Math.max(0,i-r);o>0&&ie("ExponentialBackoff",`Backing off for ${o} ms (base delay: ${this.d_} ms, delay with jitter: ${i} ms, last attempt: ${r} ms ago)`),this.m_=this.Ci.enqueueAfterDelay(this.timerId,o,(()=>(this.f_=Date.now(),e()))),this.d_*=this.A_,this.d_<this.R_&&(this.d_=this.R_),this.d_>this.V_&&(this.d_=this.V_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.d_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Vv="PersistentStream";class LE{constructor(e,i,r,o,c,d,p,_){this.Ci=e,this.b_=r,this.S_=o,this.connection=c,this.authCredentialsProvider=d,this.appCheckCredentialsProvider=p,this.listener=_,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new kE(e,i)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Ci.enqueueAfterDelay(this.b_,6e4,(()=>this.k_())))}K_(e){this.q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,i){this.q_(),this.U_(),this.M_.cancel(),this.D_++,e!==4?this.M_.reset():i&&i.code===$.RESOURCE_EXHAUSTED?(es(i.toString()),es("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):i&&i.code===$.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.W_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.t_(i)}W_(){}auth(){this.state=1;const e=this.Q_(this.D_),i=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([r,o])=>{this.D_===i&&this.G_(r,o)}),(r=>{e((()=>{const o=new oe($.UNKNOWN,"Fetching auth token failed: "+r.message);return this.z_(o)}))}))}G_(e,i){const r=this.Q_(this.D_);this.stream=this.j_(e,i),this.stream.Zo((()=>{r((()=>this.listener.Zo()))})),this.stream.Yo((()=>{r((()=>(this.state=2,this.v_=this.Ci.enqueueAfterDelay(this.S_,1e4,(()=>(this.O_()&&(this.state=3),Promise.resolve()))),this.listener.Yo())))})),this.stream.t_((o=>{r((()=>this.z_(o)))})),this.stream.onMessage((o=>{r((()=>++this.F_==1?this.H_(o):this.onNext(o)))}))}N_(){this.state=5,this.M_.p_((async()=>{this.state=0,this.start()}))}z_(e){return ie(Vv,`close with error: ${e}`),this.stream=null,this.close(4,e)}Q_(e){return i=>{this.Ci.enqueueAndForget((()=>this.D_===e?i():(ie(Vv,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class mR extends LE{constructor(e,i,r,o,c,d){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",i,r,o,d),this.serializer=c}j_(e,i){return this.connection.T_("Listen",e,i)}H_(e){return this.onNext(e)}onNext(e){this.M_.reset();const i=Ew(this.serializer,e),r=(function(c){if(!("targetChange"in c))return _e.min();const d=c.targetChange;return d.targetIds&&d.targetIds.length?_e.min():d.readTime?wi(d.readTime):_e.min()})(e);return this.listener.J_(i,r)}Z_(e){const i={};i.database=cm(this.serializer),i.addTarget=(function(c,d){let p;const _=d.target;if(p=rm(_)?{documents:Sw(c,_)}:{query:Aw(c,_).ft},p.targetId=d.targetId,d.resumeToken.approximateByteSize()>0){p.resumeToken=SE(c,d.resumeToken);const y=lm(c,d.expectedCount);y!==null&&(p.expectedCount=y)}else if(d.snapshotVersion.compareTo(_e.min())>0){p.readTime=$c(c,d.snapshotVersion.toTimestamp());const y=lm(c,d.expectedCount);y!==null&&(p.expectedCount=y)}return p})(this.serializer,e);const r=Rw(this.serializer,e);r&&(i.labels=r),this.K_(i)}X_(e){const i={};i.database=cm(this.serializer),i.removeTarget=e,this.K_(i)}}class pR extends LE{constructor(e,i,r,o,c,d){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",i,r,o,d),this.serializer=c}get Y_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}W_(){this.Y_&&this.ea([])}j_(e,i){return this.connection.T_("Write",e,i)}H_(e){return He(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,He(!e.writeResults||e.writeResults.length===0,55816),this.listener.ta()}onNext(e){He(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.M_.reset();const i=Tw(e.writeResults,e.commitTime),r=wi(e.commitTime);return this.listener.na(r,i)}ra(){const e={};e.database=cm(this.serializer),this.K_(e)}ea(e){const i={streamToken:this.lastStreamToken,writes:e.map((r=>bw(this.serializer,r)))};this.K_(i)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gR{}class yR extends gR{constructor(e,i,r,o){super(),this.authCredentials=e,this.appCheckCredentials=i,this.connection=r,this.serializer=o,this.ia=!1}sa(){if(this.ia)throw new oe($.FAILED_PRECONDITION,"The client has already been terminated.")}Wo(e,i,r,o){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([c,d])=>this.connection.Wo(e,om(i,r),o,c,d))).catch((c=>{throw c.name==="FirebaseError"?(c.code===$.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),c):new oe($.UNKNOWN,c.toString())}))}jo(e,i,r,o,c){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([d,p])=>this.connection.jo(e,om(i,r),o,d,p,c))).catch((d=>{throw d.name==="FirebaseError"?(d.code===$.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),d):new oe($.UNKNOWN,d.toString())}))}terminate(){this.ia=!0,this.connection.terminate()}}function _R(s,e,i,r){return new yR(s,e,i,r)}class vR{constructor(e,i){this.asyncQueue=e,this.onlineStateHandler=i,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve()))))}ha(e){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,e==="Online"&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){const i=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(es(i),this.aa=!1):ie("OnlineStateTracker",i)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Hr="RemoteStore";class ER{constructor(e,i,r,o,c){this.localStore=e,this.datastore=i,this.asyncQueue=r,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.Ra=[],this.Aa=c,this.Aa.Mo((d=>{r.enqueueAndForget((async()=>{Qr(this)&&(ie(Hr,"Restarting streams for network reachability change."),await(async function(_){const y=Ee(_);y.Ea.add(4),await Go(y),y.Va.set("Unknown"),y.Ea.delete(4),await vh(y)})(this))}))})),this.Va=new vR(r,o)}}async function vh(s){if(Qr(s))for(const e of s.Ra)await e(!0)}async function Go(s){for(const e of s.Ra)await e(!1)}function UE(s,e){const i=Ee(s);i.Ia.has(e.targetId)||(i.Ia.set(e.targetId,e),Km(i)?Gm(i):ol(i).O_()&&Fm(i,e))}function Hm(s,e){const i=Ee(s),r=ol(i);i.Ia.delete(e),r.O_()&&jE(i,e),i.Ia.size===0&&(r.O_()?r.L_():Qr(i)&&i.Va.set("Unknown"))}function Fm(s,e){if(s.da.$e(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(_e.min())>0){const i=s.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(i)}ol(s).Z_(e)}function jE(s,e){s.da.$e(e),ol(s).X_(e)}function Gm(s){s.da=new dw({getRemoteKeysForTarget:e=>s.remoteSyncer.getRemoteKeysForTarget(e),At:e=>s.Ia.get(e)||null,ht:()=>s.datastore.serializer.databaseId}),ol(s).start(),s.Va.ua()}function Km(s){return Qr(s)&&!ol(s).x_()&&s.Ia.size>0}function Qr(s){return Ee(s).Ea.size===0}function PE(s){s.da=void 0}async function bR(s){s.Va.set("Online")}async function TR(s){s.Ia.forEach(((e,i)=>{Fm(s,e)}))}async function SR(s,e){PE(s),Km(s)?(s.Va.ha(e),Gm(s)):s.Va.set("Unknown")}async function AR(s,e,i){if(s.Va.set("Online"),e instanceof TE&&e.state===2&&e.cause)try{await(async function(o,c){const d=c.cause;for(const p of c.targetIds)o.Ia.has(p)&&(await o.remoteSyncer.rejectListen(p,d),o.Ia.delete(p),o.da.removeTarget(p))})(s,e)}catch(r){ie(Hr,"Failed to remove targets %s: %s ",e.targetIds.join(","),r),await Wc(s,r)}else if(e instanceof Uc?s.da.Xe(e):e instanceof bE?s.da.st(e):s.da.tt(e),!i.isEqual(_e.min()))try{const r=await VE(s.localStore);i.compareTo(r)>=0&&await(function(c,d){const p=c.da.Tt(d);return p.targetChanges.forEach(((_,y)=>{if(_.resumeToken.approximateByteSize()>0){const T=c.Ia.get(y);T&&c.Ia.set(y,T.withResumeToken(_.resumeToken,d))}})),p.targetMismatches.forEach(((_,y)=>{const T=c.Ia.get(_);if(!T)return;c.Ia.set(_,T.withResumeToken(Yt.EMPTY_BYTE_STRING,T.snapshotVersion)),jE(c,_);const A=new Fs(T.target,_,y,T.sequenceNumber);Fm(c,A)})),c.remoteSyncer.applyRemoteEvent(p)})(s,i)}catch(r){ie(Hr,"Failed to raise snapshot:",r),await Wc(s,r)}}async function Wc(s,e,i){if(!ll(e))throw e;s.Ea.add(1),await Go(s),s.Va.set("Offline"),i||(i=()=>VE(s.localStore)),s.asyncQueue.enqueueRetryable((async()=>{ie(Hr,"Retrying IndexedDB access"),await i(),s.Ea.delete(1),await vh(s)}))}function zE(s,e){return e().catch((i=>Wc(s,i,e)))}async function Eh(s){const e=Ee(s),i=er(e);let r=e.Ta.length>0?e.Ta[e.Ta.length-1].batchId:Cm;for(;wR(e);)try{const o=await rR(e.localStore,r);if(o===null){e.Ta.length===0&&i.L_();break}r=o.batchId,RR(e,o)}catch(o){await Wc(e,o)}BE(e)&&qE(e)}function wR(s){return Qr(s)&&s.Ta.length<10}function RR(s,e){s.Ta.push(e);const i=er(s);i.O_()&&i.Y_&&i.ea(e.mutations)}function BE(s){return Qr(s)&&!er(s).x_()&&s.Ta.length>0}function qE(s){er(s).start()}async function xR(s){er(s).ra()}async function CR(s){const e=er(s);for(const i of s.Ta)e.ea(i.mutations)}async function IR(s,e,i){const r=s.Ta.shift(),o=Lm.from(r,e,i);await zE(s,(()=>s.remoteSyncer.applySuccessfulWrite(o))),await Eh(s)}async function NR(s,e){e&&er(s).Y_&&await(async function(r,o){if((function(d){return cw(d)&&d!==$.ABORTED})(o.code)){const c=r.Ta.shift();er(r).B_(),await zE(r,(()=>r.remoteSyncer.rejectFailedWrite(c.batchId,o))),await Eh(r)}})(s,e),BE(s)&&qE(s)}async function kv(s,e){const i=Ee(s);i.asyncQueue.verifyOperationInProgress(),ie(Hr,"RemoteStore received new credentials");const r=Qr(i);i.Ea.add(3),await Go(i),r&&i.Va.set("Unknown"),await i.remoteSyncer.handleCredentialChange(e),i.Ea.delete(3),await vh(i)}async function DR(s,e){const i=Ee(s);e?(i.Ea.delete(2),await vh(i)):e||(i.Ea.add(2),await Go(i),i.Va.set("Unknown"))}function ol(s){return s.ma||(s.ma=(function(i,r,o){const c=Ee(i);return c.sa(),new mR(r,c.connection,c.authCredentials,c.appCheckCredentials,c.serializer,o)})(s.datastore,s.asyncQueue,{Zo:bR.bind(null,s),Yo:TR.bind(null,s),t_:SR.bind(null,s),J_:AR.bind(null,s)}),s.Ra.push((async e=>{e?(s.ma.B_(),Km(s)?Gm(s):s.Va.set("Unknown")):(await s.ma.stop(),PE(s))}))),s.ma}function er(s){return s.fa||(s.fa=(function(i,r,o){const c=Ee(i);return c.sa(),new pR(r,c.connection,c.authCredentials,c.appCheckCredentials,c.serializer,o)})(s.datastore,s.asyncQueue,{Zo:()=>Promise.resolve(),Yo:xR.bind(null,s),t_:NR.bind(null,s),ta:CR.bind(null,s),na:IR.bind(null,s)}),s.Ra.push((async e=>{e?(s.fa.B_(),await Eh(s)):(await s.fa.stop(),s.Ta.length>0&&(ie(Hr,`Stopping write stream with ${s.Ta.length} pending writes`),s.Ta=[]))}))),s.fa}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qm{constructor(e,i,r,o,c){this.asyncQueue=e,this.timerId=i,this.targetTimeMs=r,this.op=o,this.removalCallback=c,this.deferred=new Ur,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((d=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(e,i,r,o,c){const d=Date.now()+r,p=new Qm(e,i,d,o,c);return p.start(r),p}start(e){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new oe($.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((e=>this.deferred.resolve(e)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Ym(s,e){if(es("AsyncQueue",`${e}: ${s}`),ll(s))return new oe($.UNAVAILABLE,`${e}: ${s}`);throw s}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ka{static emptySet(e){return new Ka(e.comparator)}constructor(e){this.comparator=e?(i,r)=>e(i,r)||de.comparator(i.key,r.key):(i,r)=>de.comparator(i.key,r.key),this.keyedMap=vo(),this.sortedSet=new ot(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const i=this.keyedMap.get(e);return i?this.sortedSet.indexOf(i):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal(((i,r)=>(e(i),!1)))}add(e){const i=this.delete(e.key);return i.copy(i.keyedMap.insert(e.key,e),i.sortedSet.insert(e,null))}delete(e){const i=this.get(e);return i?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(i)):this}isEqual(e){if(!(e instanceof Ka)||this.size!==e.size)return!1;const i=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;i.hasNext();){const o=i.getNext().key,c=r.getNext().key;if(!o.isEqual(c))return!1}return!0}toString(){const e=[];return this.forEach((i=>{e.push(i.toString())})),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,i){const r=new Ka;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=i,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lv{constructor(){this.ga=new ot(de.comparator)}track(e){const i=e.doc.key,r=this.ga.get(i);r?e.type!==0&&r.type===3?this.ga=this.ga.insert(i,e):e.type===3&&r.type!==1?this.ga=this.ga.insert(i,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.ga=this.ga.insert(i,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.ga=this.ga.insert(i,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.ga=this.ga.remove(i):e.type===1&&r.type===2?this.ga=this.ga.insert(i,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.ga=this.ga.insert(i,{type:2,doc:e.doc}):pe(63341,{Vt:e,pa:r}):this.ga=this.ga.insert(i,e)}ya(){const e=[];return this.ga.inorderTraversal(((i,r)=>{e.push(r)})),e}}class nl{constructor(e,i,r,o,c,d,p,_,y){this.query=e,this.docs=i,this.oldDocs=r,this.docChanges=o,this.mutatedKeys=c,this.fromCache=d,this.syncStateChanged=p,this.excludesMetadataChanges=_,this.hasCachedResults=y}static fromInitialDocuments(e,i,r,o,c){const d=[];return i.forEach((p=>{d.push({type:0,doc:p})})),new nl(e,i,Ka.emptySet(i),d,r,o,!0,!1,c)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&dh(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const i=this.docChanges,r=e.docChanges;if(i.length!==r.length)return!1;for(let o=0;o<i.length;o++)if(i[o].type!==r[o].type||!i[o].doc.isEqual(r[o].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OR{constructor(){this.wa=void 0,this.ba=[]}Sa(){return this.ba.some((e=>e.Da()))}}class MR{constructor(){this.queries=Uv(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(i,r){const o=Ee(i),c=o.queries;o.queries=Uv(),c.forEach(((d,p)=>{for(const _ of p.ba)_.onError(r)}))})(this,new oe($.ABORTED,"Firestore shutting down"))}}function Uv(){return new Kr((s=>oE(s)),dh)}async function VR(s,e){const i=Ee(s);let r=3;const o=e.query;let c=i.queries.get(o);c?!c.Sa()&&e.Da()&&(r=2):(c=new OR,r=e.Da()?0:1);try{switch(r){case 0:c.wa=await i.onListen(o,!0);break;case 1:c.wa=await i.onListen(o,!1);break;case 2:await i.onFirstRemoteStoreListen(o)}}catch(d){const p=Ym(d,`Initialization of query '${za(e.query)}' failed`);return void e.onError(p)}i.queries.set(o,c),c.ba.push(e),e.va(i.onlineState),c.wa&&e.Fa(c.wa)&&Xm(i)}async function kR(s,e){const i=Ee(s),r=e.query;let o=3;const c=i.queries.get(r);if(c){const d=c.ba.indexOf(e);d>=0&&(c.ba.splice(d,1),c.ba.length===0?o=e.Da()?0:1:!c.Sa()&&e.Da()&&(o=2))}switch(o){case 0:return i.queries.delete(r),i.onUnlisten(r,!0);case 1:return i.queries.delete(r),i.onUnlisten(r,!1);case 2:return i.onLastRemoteStoreUnlisten(r);default:return}}function LR(s,e){const i=Ee(s);let r=!1;for(const o of e){const c=o.query,d=i.queries.get(c);if(d){for(const p of d.ba)p.Fa(o)&&(r=!0);d.wa=o}}r&&Xm(i)}function UR(s,e,i){const r=Ee(s),o=r.queries.get(e);if(o)for(const c of o.ba)c.onError(i);r.queries.delete(e)}function Xm(s){s.Ca.forEach((e=>{e.next()}))}var dm,jv;(jv=dm||(dm={})).Ma="default",jv.Cache="cache";class jR{constructor(e,i,r){this.query=e,this.xa=i,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=r||{}}Fa(e){if(!this.options.includeMetadataChanges){const r=[];for(const o of e.docChanges)o.type!==3&&r.push(o);e=new nl(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let i=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),i=!0):this.La(e,this.onlineState)&&(this.ka(e),i=!0),this.Na=e,i}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let i=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),i=!0),i}La(e,i){if(!e.fromCache||!this.Da())return!0;const r=i!=="Offline";return(!this.options.Ka||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||i==="Offline")}Ba(e){if(e.docChanges.length>0)return!0;const i=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!i)&&this.options.includeMetadataChanges===!0}ka(e){e=nl.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==dm.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HE{constructor(e){this.key=e}}class FE{constructor(e){this.key=e}}class PR{constructor(e,i){this.query=e,this.Za=i,this.Xa=null,this.hasCachedResults=!1,this.current=!1,this.Ya=De(),this.mutatedKeys=De(),this.eu=uE(e),this.tu=new Ka(this.eu)}get nu(){return this.Za}ru(e,i){const r=i?i.iu:new Lv,o=i?i.tu:this.tu;let c=i?i.mutatedKeys:this.mutatedKeys,d=o,p=!1;const _=this.query.limitType==="F"&&o.size===this.query.limit?o.last():null,y=this.query.limitType==="L"&&o.size===this.query.limit?o.first():null;if(e.inorderTraversal(((T,A)=>{const x=o.get(T),B=mh(this.query,A)?A:null,K=!!x&&this.mutatedKeys.has(x.key),Z=!!B&&(B.hasLocalMutations||this.mutatedKeys.has(B.key)&&B.hasCommittedMutations);let W=!1;x&&B?x.data.isEqual(B.data)?K!==Z&&(r.track({type:3,doc:B}),W=!0):this.su(x,B)||(r.track({type:2,doc:B}),W=!0,(_&&this.eu(B,_)>0||y&&this.eu(B,y)<0)&&(p=!0)):!x&&B?(r.track({type:0,doc:B}),W=!0):x&&!B&&(r.track({type:1,doc:x}),W=!0,(_||y)&&(p=!0)),W&&(B?(d=d.add(B),c=Z?c.add(T):c.delete(T)):(d=d.delete(T),c=c.delete(T)))})),this.query.limit!==null)for(;d.size>this.query.limit;){const T=this.query.limitType==="F"?d.last():d.first();d=d.delete(T.key),c=c.delete(T.key),r.track({type:1,doc:T})}return{tu:d,iu:r,Ss:p,mutatedKeys:c}}su(e,i){return e.hasLocalMutations&&i.hasCommittedMutations&&!i.hasLocalMutations}applyChanges(e,i,r,o){const c=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;const d=e.iu.ya();d.sort(((T,A)=>(function(B,K){const Z=W=>{switch(W){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return pe(20277,{Vt:W})}};return Z(B)-Z(K)})(T.type,A.type)||this.eu(T.doc,A.doc))),this.ou(r),o=o??!1;const p=i&&!o?this._u():[],_=this.Ya.size===0&&this.current&&!o?1:0,y=_!==this.Xa;return this.Xa=_,d.length!==0||y?{snapshot:new nl(this.query,e.tu,c,d,e.mutatedKeys,_===0,y,!1,!!r&&r.resumeToken.approximateByteSize()>0),au:p}:{au:p}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new Lv,mutatedKeys:this.mutatedKeys,Ss:!1},!1)):{au:[]}}uu(e){return!this.Za.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach((i=>this.Za=this.Za.add(i))),e.modifiedDocuments.forEach((i=>{})),e.removedDocuments.forEach((i=>this.Za=this.Za.delete(i))),this.current=e.current)}_u(){if(!this.current)return[];const e=this.Ya;this.Ya=De(),this.tu.forEach((r=>{this.uu(r.key)&&(this.Ya=this.Ya.add(r.key))}));const i=[];return e.forEach((r=>{this.Ya.has(r)||i.push(new FE(r))})),this.Ya.forEach((r=>{e.has(r)||i.push(new HE(r))})),i}cu(e){this.Za=e.ks,this.Ya=De();const i=this.ru(e.documents);return this.applyChanges(i,!0)}lu(){return nl.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Xa===0,this.hasCachedResults)}}const Jm="SyncEngine";class zR{constructor(e,i,r){this.query=e,this.targetId=i,this.view=r}}class BR{constructor(e){this.key=e,this.hu=!1}}class qR{constructor(e,i,r,o,c,d){this.localStore=e,this.remoteStore=i,this.eventManager=r,this.sharedClientState=o,this.currentUser=c,this.maxConcurrentLimboResolutions=d,this.Pu={},this.Tu=new Kr((p=>oE(p)),dh),this.Iu=new Map,this.Eu=new Set,this.Ru=new ot(de.comparator),this.Au=new Map,this.Vu=new Pm,this.du={},this.mu=new Map,this.fu=tl.ar(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function HR(s,e,i=!0){const r=JE(s);let o;const c=r.Tu.get(e);return c?(r.sharedClientState.addLocalQueryTarget(c.targetId),o=c.view.lu()):o=await GE(r,e,i,!0),o}async function FR(s,e){const i=JE(s);await GE(i,e,!0,!1)}async function GE(s,e,i,r){const o=await aR(s.localStore,Ai(e)),c=o.targetId,d=s.sharedClientState.addLocalQueryTarget(c,i);let p;return r&&(p=await GR(s,e,c,d==="current",o.resumeToken)),s.isPrimaryClient&&i&&UE(s.remoteStore,o),p}async function GR(s,e,i,r,o){s.pu=(A,x,B)=>(async function(Z,W,ae,ue){let he=W.view.ru(ae);he.Ss&&(he=await Nv(Z.localStore,W.query,!1).then((({documents:w})=>W.view.ru(w,he))));const ke=ue&&ue.targetChanges.get(W.targetId),ze=ue&&ue.targetMismatches.get(W.targetId)!=null,Le=W.view.applyChanges(he,Z.isPrimaryClient,ke,ze);return zv(Z,W.targetId,Le.au),Le.snapshot})(s,A,x,B);const c=await Nv(s.localStore,e,!0),d=new PR(e,c.ks),p=d.ru(c.documents),_=Fo.createSynthesizedTargetChangeForCurrentChange(i,r&&s.onlineState!=="Offline",o),y=d.applyChanges(p,s.isPrimaryClient,_);zv(s,i,y.au);const T=new zR(e,i,d);return s.Tu.set(e,T),s.Iu.has(i)?s.Iu.get(i).push(e):s.Iu.set(i,[e]),y.snapshot}async function KR(s,e,i){const r=Ee(s),o=r.Tu.get(e),c=r.Iu.get(o.targetId);if(c.length>1)return r.Iu.set(o.targetId,c.filter((d=>!dh(d,e)))),void r.Tu.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(o.targetId),r.sharedClientState.isActiveQueryTarget(o.targetId)||await hm(r.localStore,o.targetId,!1).then((()=>{r.sharedClientState.clearQueryState(o.targetId),i&&Hm(r.remoteStore,o.targetId),mm(r,o.targetId)})).catch(al)):(mm(r,o.targetId),await hm(r.localStore,o.targetId,!0))}async function QR(s,e){const i=Ee(s),r=i.Tu.get(e),o=i.Iu.get(r.targetId);i.isPrimaryClient&&o.length===1&&(i.sharedClientState.removeLocalQueryTarget(r.targetId),Hm(i.remoteStore,r.targetId))}async function YR(s,e,i){const r=tx(s);try{const o=await(function(d,p){const _=Ee(d),y=it.now(),T=p.reduce(((B,K)=>B.add(K.key)),De());let A,x;return _.persistence.runTransaction("Locally write mutations","readwrite",(B=>{let K=ts(),Z=De();return _.xs.getEntries(B,T).next((W=>{K=W,K.forEach(((ae,ue)=>{ue.isValidDocument()||(Z=Z.add(ae))}))})).next((()=>_.localDocuments.getOverlayedDocuments(B,K))).next((W=>{A=W;const ae=[];for(const ue of p){const he=rw(ue,A.get(ue.key).overlayedDocument);he!=null&&ae.push(new ir(ue.key,he,tE(he.value.mapValue),Pn.exists(!0)))}return _.mutationQueue.addMutationBatch(B,y,ae,p)})).next((W=>{x=W;const ae=W.applyToLocalDocumentSet(A,Z);return _.documentOverlayCache.saveOverlays(B,W.batchId,ae)}))})).then((()=>({batchId:x.batchId,changes:hE(A)})))})(r.localStore,e);r.sharedClientState.addPendingMutation(o.batchId),(function(d,p,_){let y=d.du[d.currentUser.toKey()];y||(y=new ot(Ne)),y=y.insert(p,_),d.du[d.currentUser.toKey()]=y})(r,o.batchId,i),await Ko(r,o.changes),await Eh(r.remoteStore)}catch(o){const c=Ym(o,"Failed to persist write");i.reject(c)}}async function KE(s,e){const i=Ee(s);try{const r=await iR(i.localStore,e);e.targetChanges.forEach(((o,c)=>{const d=i.Au.get(c);d&&(He(o.addedDocuments.size+o.modifiedDocuments.size+o.removedDocuments.size<=1,22616),o.addedDocuments.size>0?d.hu=!0:o.modifiedDocuments.size>0?He(d.hu,14607):o.removedDocuments.size>0&&(He(d.hu,42227),d.hu=!1))})),await Ko(i,r,e)}catch(r){await al(r)}}function Pv(s,e,i){const r=Ee(s);if(r.isPrimaryClient&&i===0||!r.isPrimaryClient&&i===1){const o=[];r.Tu.forEach(((c,d)=>{const p=d.view.va(e);p.snapshot&&o.push(p.snapshot)})),(function(d,p){const _=Ee(d);_.onlineState=p;let y=!1;_.queries.forEach(((T,A)=>{for(const x of A.ba)x.va(p)&&(y=!0)})),y&&Xm(_)})(r.eventManager,e),o.length&&r.Pu.J_(o),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function XR(s,e,i){const r=Ee(s);r.sharedClientState.updateQueryState(e,"rejected",i);const o=r.Au.get(e),c=o&&o.key;if(c){let d=new ot(de.comparator);d=d.insert(c,Zt.newNoDocument(c,_e.min()));const p=De().add(c),_=new yh(_e.min(),new Map,new ot(Ne),d,p);await KE(r,_),r.Ru=r.Ru.remove(c),r.Au.delete(e),$m(r)}else await hm(r.localStore,e,!1).then((()=>mm(r,e,i))).catch(al)}async function JR(s,e){const i=Ee(s),r=e.batch.batchId;try{const o=await nR(i.localStore,e);YE(i,r,null),QE(i,r),i.sharedClientState.updateMutationState(r,"acknowledged"),await Ko(i,o)}catch(o){await al(o)}}async function $R(s,e,i){const r=Ee(s);try{const o=await(function(d,p){const _=Ee(d);return _.persistence.runTransaction("Reject batch","readwrite-primary",(y=>{let T;return _.mutationQueue.lookupMutationBatch(y,p).next((A=>(He(A!==null,37113),T=A.keys(),_.mutationQueue.removeMutationBatch(y,A)))).next((()=>_.mutationQueue.performConsistencyCheck(y))).next((()=>_.documentOverlayCache.removeOverlaysForBatchId(y,T,p))).next((()=>_.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(y,T))).next((()=>_.localDocuments.getDocuments(y,T)))}))})(r.localStore,e);YE(r,e,i),QE(r,e),r.sharedClientState.updateMutationState(e,"rejected",i),await Ko(r,o)}catch(o){await al(o)}}function QE(s,e){(s.mu.get(e)||[]).forEach((i=>{i.resolve()})),s.mu.delete(e)}function YE(s,e,i){const r=Ee(s);let o=r.du[r.currentUser.toKey()];if(o){const c=o.get(e);c&&(i?c.reject(i):c.resolve(),o=o.remove(e)),r.du[r.currentUser.toKey()]=o}}function mm(s,e,i=null){s.sharedClientState.removeLocalQueryTarget(e);for(const r of s.Iu.get(e))s.Tu.delete(r),i&&s.Pu.yu(r,i);s.Iu.delete(e),s.isPrimaryClient&&s.Vu.Gr(e).forEach((r=>{s.Vu.containsKey(r)||XE(s,r)}))}function XE(s,e){s.Eu.delete(e.path.canonicalString());const i=s.Ru.get(e);i!==null&&(Hm(s.remoteStore,i),s.Ru=s.Ru.remove(e),s.Au.delete(i),$m(s))}function zv(s,e,i){for(const r of i)r instanceof HE?(s.Vu.addReference(r.key,e),ZR(s,r)):r instanceof FE?(ie(Jm,"Document no longer in limbo: "+r.key),s.Vu.removeReference(r.key,e),s.Vu.containsKey(r.key)||XE(s,r.key)):pe(19791,{wu:r})}function ZR(s,e){const i=e.key,r=i.path.canonicalString();s.Ru.get(i)||s.Eu.has(r)||(ie(Jm,"New document in limbo: "+i),s.Eu.add(r),$m(s))}function $m(s){for(;s.Eu.size>0&&s.Ru.size<s.maxConcurrentLimboResolutions;){const e=s.Eu.values().next().value;s.Eu.delete(e);const i=new de(nt.fromString(e)),r=s.fu.next();s.Au.set(r,new BR(i)),s.Ru=s.Ru.insert(i,r),UE(s.remoteStore,new Fs(Ai(Mm(i.path)),r,"TargetPurposeLimboResolution",uh.ce))}}async function Ko(s,e,i){const r=Ee(s),o=[],c=[],d=[];r.Tu.isEmpty()||(r.Tu.forEach(((p,_)=>{d.push(r.pu(_,e,i).then((y=>{var T;if((y||i)&&r.isPrimaryClient){const A=y?!y.fromCache:(T=i==null?void 0:i.targetChanges.get(_.targetId))==null?void 0:T.current;r.sharedClientState.updateQueryState(_.targetId,A?"current":"not-current")}if(y){o.push(y);const A=Bm.Es(_.targetId,y);c.push(A)}})))})),await Promise.all(d),r.Pu.J_(o),await(async function(_,y){const T=Ee(_);try{await T.persistence.runTransaction("notifyLocalViewChanges","readwrite",(A=>J.forEach(y,(x=>J.forEach(x.Ts,(B=>T.persistence.referenceDelegate.addReference(A,x.targetId,B))).next((()=>J.forEach(x.Is,(B=>T.persistence.referenceDelegate.removeReference(A,x.targetId,B)))))))))}catch(A){if(!ll(A))throw A;ie(qm,"Failed to update sequence numbers: "+A)}for(const A of y){const x=A.targetId;if(!A.fromCache){const B=T.vs.get(x),K=B.snapshotVersion,Z=B.withLastLimboFreeSnapshotVersion(K);T.vs=T.vs.insert(x,Z)}}})(r.localStore,c))}async function WR(s,e){const i=Ee(s);if(!i.currentUser.isEqual(e)){ie(Jm,"User change. New user:",e.toKey());const r=await ME(i.localStore,e);i.currentUser=e,(function(c,d){c.mu.forEach((p=>{p.forEach((_=>{_.reject(new oe($.CANCELLED,d))}))})),c.mu.clear()})(i,"'waitForPendingWrites' promise is rejected due to a user change."),i.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await Ko(i,r.Ns)}}function ex(s,e){const i=Ee(s),r=i.Au.get(e);if(r&&r.hu)return De().add(r.key);{let o=De();const c=i.Iu.get(e);if(!c)return o;for(const d of c){const p=i.Tu.get(d);o=o.unionWith(p.view.nu)}return o}}function JE(s){const e=Ee(s);return e.remoteStore.remoteSyncer.applyRemoteEvent=KE.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=ex.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=XR.bind(null,e),e.Pu.J_=LR.bind(null,e.eventManager),e.Pu.yu=UR.bind(null,e.eventManager),e}function tx(s){const e=Ee(s);return e.remoteStore.remoteSyncer.applySuccessfulWrite=JR.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=$R.bind(null,e),e}class eh{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=_h(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)}Fu(e,i){return null}Mu(e,i){return null}vu(e){return tR(this.persistence,new Zw,e.initialUser,this.serializer)}Cu(e){return new OE(zm.Vi,this.serializer)}Du(e){return new oR}async terminate(){var e,i;(e=this.gcScheduler)==null||e.stop(),(i=this.indexBackfillerScheduler)==null||i.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}eh.provider={build:()=>new eh};class nx extends eh{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,i){He(this.persistence.referenceDelegate instanceof Zc,46915);const r=this.persistence.referenceDelegate.garbageCollector;return new Uw(r,e.asyncQueue,i)}Cu(e){const i=this.cacheSizeBytes!==void 0?fn.withCacheSize(this.cacheSizeBytes):fn.DEFAULT;return new OE((r=>Zc.Vi(r,i)),this.serializer)}}class pm{async initialize(e,i){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(i),this.remoteStore=this.createRemoteStore(i),this.eventManager=this.createEventManager(i),this.syncEngine=this.createSyncEngine(i,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>Pv(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=WR.bind(null,this.syncEngine),await DR(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return(function(){return new MR})()}createDatastore(e){const i=_h(e.databaseInfo.databaseId),r=dR(e.databaseInfo);return _R(e.authCredentials,e.appCheckCredentials,r,i)}createRemoteStore(e){return(function(r,o,c,d,p){return new ER(r,o,c,d,p)})(this.localStore,this.datastore,e.asyncQueue,(i=>Pv(this.syncEngine,i,0)),(function(){return Mv.v()?new Mv:new uR})())}createSyncEngine(e,i){return(function(o,c,d,p,_,y,T){const A=new qR(o,c,d,p,_,y);return T&&(A.gu=!0),A})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,i)}async terminate(){var e,i;await(async function(o){const c=Ee(o);ie(Hr,"RemoteStore shutting down."),c.Ea.add(5),await Go(c),c.Aa.shutdown(),c.Va.set("Unknown")})(this.remoteStore),(e=this.datastore)==null||e.terminate(),(i=this.eventManager)==null||i.terminate()}}pm.provider={build:()=>new pm};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ix{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):es("Uncaught Error in snapshot listener:",e.toString()))}Nu(){this.muted=!0}Ou(e,i){setTimeout((()=>{this.muted||e(i)}),0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tr="FirestoreClient";class sx{constructor(e,i,r,o,c){this.authCredentials=e,this.appCheckCredentials=i,this.asyncQueue=r,this._databaseInfo=o,this.user=$t.UNAUTHENTICATED,this.clientId=Rm.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=c,this.authCredentials.start(r,(async d=>{ie(tr,"Received user=",d.uid),await this.authCredentialListener(d),this.user=d})),this.appCheckCredentials.start(r,(d=>(ie(tr,"Received new app check token=",d),this.appCheckCredentialListener(d,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this._databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Ur;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(i){const r=Ym(i,"Failed to shutdown persistence");e.reject(r)}})),e.promise}}async function Hd(s,e){s.asyncQueue.verifyOperationInProgress(),ie(tr,"Initializing OfflineComponentProvider");const i=s.configuration;await e.initialize(i);let r=i.initialUser;s.setCredentialChangeListener((async o=>{r.isEqual(o)||(await ME(e.localStore,o),r=o)})),e.persistence.setDatabaseDeletedListener((()=>s.terminate())),s._offlineComponents=e}async function Bv(s,e){s.asyncQueue.verifyOperationInProgress();const i=await rx(s);ie(tr,"Initializing OnlineComponentProvider"),await e.initialize(i,s.configuration),s.setCredentialChangeListener((r=>kv(e.remoteStore,r))),s.setAppCheckTokenChangeListener(((r,o)=>kv(e.remoteStore,o))),s._onlineComponents=e}async function rx(s){if(!s._offlineComponents)if(s._uninitializedComponentsProvider){ie(tr,"Using user provided OfflineComponentProvider");try{await Hd(s,s._uninitializedComponentsProvider._offline)}catch(e){const i=e;if(!(function(o){return o.name==="FirebaseError"?o.code===$.FAILED_PRECONDITION||o.code===$.UNIMPLEMENTED:!(typeof DOMException<"u"&&o instanceof DOMException)||o.code===22||o.code===20||o.code===11})(i))throw i;qr("Error using user provided cache. Falling back to memory cache: "+i),await Hd(s,new eh)}}else ie(tr,"Using default OfflineComponentProvider"),await Hd(s,new nx(void 0));return s._offlineComponents}async function $E(s){return s._onlineComponents||(s._uninitializedComponentsProvider?(ie(tr,"Using user provided OnlineComponentProvider"),await Bv(s,s._uninitializedComponentsProvider._online)):(ie(tr,"Using default OnlineComponentProvider"),await Bv(s,new pm))),s._onlineComponents}function ax(s){return $E(s).then((e=>e.syncEngine))}async function qv(s){const e=await $E(s),i=e.eventManager;return i.onListen=HR.bind(null,e.syncEngine),i.onUnlisten=KR.bind(null,e.syncEngine),i.onFirstRemoteStoreListen=FR.bind(null,e.syncEngine),i.onLastRemoteStoreUnlisten=QR.bind(null,e.syncEngine),i}function lx(s,e,i,r){const o=new ix(r),c=new jR(e,o,i);return s.asyncQueue.enqueueAndForget((async()=>VR(await qv(s),c))),()=>{o.Nu(),s.asyncQueue.enqueueAndForget((async()=>kR(await qv(s),c)))}}function ox(s,e){const i=new Ur;return s.asyncQueue.enqueueAndForget((async()=>YR(await ax(s),e,i))),i.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ZE(s){const e={};return s.timeoutSeconds!==void 0&&(e.timeoutSeconds=s.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ux="ComponentProvider",Hv=new Map;function cx(s,e,i,r,o){return new x2(s,e,i,o.host,o.ssl,o.experimentalForceLongPolling,o.experimentalAutoDetectLongPolling,ZE(o.experimentalLongPollingOptions),o.useFetchStreams,o.isUsingEmulator,r)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const WE="firestore.googleapis.com",Fv=!0;class Gv{constructor(e){if(e.host===void 0){if(e.ssl!==void 0)throw new oe($.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=WE,this.ssl=Fv}else this.host=e.host,this.ssl=e.ssl??Fv;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=DE;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<kw)throw new oe($.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}g2("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=ZE(e.experimentalLongPollingOptions??{}),(function(r){if(r.timeoutSeconds!==void 0){if(isNaN(r.timeoutSeconds))throw new oe($.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (must not be NaN)`);if(r.timeoutSeconds<5)throw new oe($.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (minimum allowed value is 5)`);if(r.timeoutSeconds>30)throw new oe($.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&(function(r,o){return r.timeoutSeconds===o.timeoutSeconds})(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class bh{constructor(e,i,r,o){this._authCredentials=e,this._appCheckCredentials=i,this._databaseId=r,this._app=o,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new Gv({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new oe($.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new oe($.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new Gv(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=(function(r){if(!r)return new a2;switch(r.type){case"firstParty":return new c2(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new oe($.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(i){const r=Hv.get(i);r&&(ie(ux,"Removing Datastore"),Hv.delete(i),r.terminate())})(this),Promise.resolve()}}function hx(s,e,i,r={}){var y;s=Si(s,bh);const o=il(e),c=s._getSettings(),d={...c,emulatorOptions:s._getEmulatorOptions()},p=`${e}:${i}`;o&&(C0(`https://${p}`),I0("Firestore",!0)),c.host!==WE&&c.host!==p&&qr("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const _={...c,host:p,ssl:o,emulatorOptions:r};if(!Pr(_,d)&&(s._setSettings(_),r.mockUserToken)){let T,A;if(typeof r.mockUserToken=="string")T=r.mockUserToken,A=$t.MOCK_USER;else{T=OS(r.mockUserToken,(y=s._app)==null?void 0:y.options.projectId);const x=r.mockUserToken.sub||r.mockUserToken.user_id;if(!x)throw new oe($.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");A=new $t(x)}s._authCredentials=new l2(new H0(T,A))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Th{constructor(e,i,r){this.converter=i,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new Th(this.firestore,e,this._query)}}class xt{constructor(e,i,r){this.converter=i,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Xs(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new xt(this.firestore,e,this._key)}toJSON(){return{type:xt._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,i,r){if(qo(i,xt._jsonSchema))return new xt(e,r||null,new de(nt.fromString(i.referencePath)))}}xt._jsonSchemaVersion="firestore/documentReference/1.0",xt._jsonSchema={type:Rt("string",xt._jsonSchemaVersion),referencePath:Rt("string")};class Xs extends Th{constructor(e,i,r){super(e,i,Mm(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new xt(this.firestore,null,new de(e))}withConverter(e){return new Xs(this.firestore,e,this._path)}}function Kv(s,e,...i){if(s=sn(s),F0("collection","path",e),s instanceof bh){const r=nt.fromString(e,...i);return sv(r),new Xs(s,null,r)}{if(!(s instanceof xt||s instanceof Xs))throw new oe($.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=s._path.child(nt.fromString(e,...i));return sv(r),new Xs(s.firestore,null,r)}}function Uo(s,e,...i){if(s=sn(s),arguments.length===1&&(e=Rm.newId()),F0("doc","path",e),s instanceof bh){const r=nt.fromString(e,...i);return iv(r),new xt(s,null,new de(r))}{if(!(s instanceof xt||s instanceof Xs))throw new oe($.INVALID_ARGUMENT,"Expected first argument to doc() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=s._path.child(nt.fromString(e,...i));return iv(r),new xt(s.firestore,s instanceof Xs?s.converter:null,new de(r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Qv="AsyncQueue";class Yv{constructor(e=Promise.resolve()){this.Yu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new kE(this,"async_queue_retry"),this._c=()=>{const r=qd();r&&ie(Qv,"Visibility state changed to "+r.visibilityState),this.M_.w_()},this.ac=e;const i=qd();i&&typeof i.addEventListener=="function"&&i.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const i=qd();i&&typeof i.removeEventListener=="function"&&i.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise((()=>{}));const i=new Ur;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(e().then(i.resolve,i.reject),i.promise))).then((()=>i.promise))}enqueueRetryable(e){this.enqueueAndForget((()=>(this.Yu.push(e),this.lc())))}async lc(){if(this.Yu.length!==0){try{await this.Yu[0](),this.Yu.shift(),this.M_.reset()}catch(e){if(!ll(e))throw e;ie(Qv,"Operation failed with retryable error: "+e)}this.Yu.length>0&&this.M_.p_((()=>this.lc()))}}cc(e){const i=this.ac.then((()=>(this.rc=!0,e().catch((r=>{throw this.nc=r,this.rc=!1,es("INTERNAL UNHANDLED ERROR: ",Xv(r)),r})).then((r=>(this.rc=!1,r))))));return this.ac=i,i}enqueueAfterDelay(e,i,r){this.uc(),this.oc.indexOf(e)>-1&&(i=0);const o=Qm.createAndSchedule(this,e,i,r,(c=>this.hc(c)));return this.tc.push(o),o}uc(){this.nc&&pe(47125,{Pc:Xv(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do e=this.ac,await e;while(e!==this.ac)}Ic(e){for(const i of this.tc)if(i.timerId===e)return!0;return!1}Ec(e){return this.Tc().then((()=>{this.tc.sort(((i,r)=>i.targetTimeMs-r.targetTimeMs));for(const i of this.tc)if(i.skipDelay(),e!=="all"&&i.timerId===e)break;return this.Tc()}))}Rc(e){this.oc.push(e)}hc(e){const i=this.tc.indexOf(e);this.tc.splice(i,1)}}function Xv(s){let e=s.message||"";return s.stack&&(e=s.stack.includes(s.message)?s.stack:s.message+`
`+s.stack),e}class Fr extends bh{constructor(e,i,r,o){super(e,i,r,o),this.type="firestore",this._queue=new Yv,this._persistenceKey=(o==null?void 0:o.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new Yv(e),this._firestoreClient=void 0,await e}}}function fx(s,e){const i=typeof s=="object"?s:M0(),r=typeof s=="string"?s:Gc,o=Am(i,"firestore").getImmediate({identifier:r});if(!o._initialized){const c=NS("firestore");c&&hx(o,...c)}return o}function eb(s){if(s._terminated)throw new oe($.FAILED_PRECONDITION,"The client has already been terminated.");return s._firestoreClient||dx(s),s._firestoreClient}function dx(s){var r,o,c,d;const e=s._freezeSettings(),i=cx(s._databaseId,((r=s._app)==null?void 0:r.options.appId)||"",s._persistenceKey,(o=s._app)==null?void 0:o.options.apiKey,e);s._componentsProvider||(c=e.localCache)!=null&&c._offlineComponentProvider&&((d=e.localCache)!=null&&d._onlineComponentProvider)&&(s._componentsProvider={_offline:e.localCache._offlineComponentProvider,_online:e.localCache._onlineComponentProvider}),s._firestoreClient=new sx(s._authCredentials,s._appCheckCredentials,s._queue,i,s._componentsProvider&&(function(_){const y=_==null?void 0:_._online.build();return{_offline:_==null?void 0:_._offline.build(y),_online:y}})(s._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jn{constructor(e){this._byteString=e}static fromBase64String(e){try{return new jn(Yt.fromBase64String(e))}catch(i){throw new oe($.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+i)}}static fromUint8Array(e){return new jn(Yt.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:jn._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(qo(e,jn._jsonSchema))return jn.fromBase64String(e.bytes)}}jn._jsonSchemaVersion="firestore/bytes/1.0",jn._jsonSchema={type:Rt("string",jn._jsonSchemaVersion),bytes:Rt("string")};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zm{constructor(...e){for(let i=0;i<e.length;++i)if(e[i].length===0)throw new oe($.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Qt(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wm{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ri{constructor(e,i){if(!isFinite(e)||e<-90||e>90)throw new oe($.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(i)||i<-180||i>180)throw new oe($.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+i);this._lat=e,this._long=i}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return Ne(this._lat,e._lat)||Ne(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:Ri._jsonSchemaVersion}}static fromJSON(e){if(qo(e,Ri._jsonSchema))return new Ri(e.latitude,e.longitude)}}Ri._jsonSchemaVersion="firestore/geoPoint/1.0",Ri._jsonSchema={type:Rt("string",Ri._jsonSchemaVersion),latitude:Rt("number"),longitude:Rt("number")};/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wn{constructor(e){this._values=(e||[]).map((i=>i))}toArray(){return this._values.map((e=>e))}isEqual(e){return(function(r,o){if(r.length!==o.length)return!1;for(let c=0;c<r.length;++c)if(r[c]!==o[c])return!1;return!0})(this._values,e._values)}toJSON(){return{type:Wn._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(qo(e,Wn._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every((i=>typeof i=="number")))return new Wn(e.vectorValues);throw new oe($.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}Wn._jsonSchemaVersion="firestore/vectorValue/1.0",Wn._jsonSchema={type:Rt("string",Wn._jsonSchemaVersion),vectorValues:Rt("object")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mx=/^__.*__$/;class px{constructor(e,i,r){this.data=e,this.fieldMask=i,this.fieldTransforms=r}toMutation(e,i){return this.fieldMask!==null?new ir(e,this.data,this.fieldMask,i,this.fieldTransforms):new Ho(e,this.data,i,this.fieldTransforms)}}class tb{constructor(e,i,r){this.data=e,this.fieldMask=i,this.fieldTransforms=r}toMutation(e,i){return new ir(e,this.data,this.fieldMask,i,this.fieldTransforms)}}function nb(s){switch(s){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw pe(40011,{dataSource:s})}}class ep{constructor(e,i,r,o,c,d){this.settings=e,this.databaseId=i,this.serializer=r,this.ignoreUndefinedProperties=o,c===void 0&&this.validatePath(),this.fieldTransforms=c||[],this.fieldMask=d||[]}get path(){return this.settings.path}get dataSource(){return this.settings.dataSource}contextWith(e){return new ep({...this.settings,...e},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}childContextForField(e){var o;const i=(o=this.path)==null?void 0:o.child(e),r=this.contextWith({path:i,arrayElement:!1});return r.validatePathSegment(e),r}childContextForFieldPath(e){var o;const i=(o=this.path)==null?void 0:o.child(e),r=this.contextWith({path:i,arrayElement:!1});return r.validatePath(),r}childContextForArray(e){return this.contextWith({path:void 0,arrayElement:!0})}createError(e){return th(e,this.settings.methodName,this.settings.hasConverter||!1,this.path,this.settings.targetDoc)}contains(e){return this.fieldMask.find((i=>e.isPrefixOf(i)))!==void 0||this.fieldTransforms.find((i=>e.isPrefixOf(i.field)))!==void 0}validatePath(){if(this.path)for(let e=0;e<this.path.length;e++)this.validatePathSegment(this.path.get(e))}validatePathSegment(e){if(e.length===0)throw this.createError("Document fields must not be empty");if(nb(this.dataSource)&&mx.test(e))throw this.createError('Document fields cannot begin and end with "__"')}}class gx{constructor(e,i,r){this.databaseId=e,this.ignoreUndefinedProperties=i,this.serializer=r||_h(e)}createContext(e,i,r,o=!1){return new ep({dataSource:e,methodName:i,targetDoc:r,path:Qt.emptyPath(),arrayElement:!1,hasConverter:o},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function tp(s){const e=s._freezeSettings(),i=_h(s._databaseId);return new gx(s._databaseId,!!e.ignoreUndefinedProperties,i)}function ib(s,e,i,r,o,c={}){const d=s.createContext(c.merge||c.mergeFields?2:0,e,i,o);np("Data must be an object, but it was:",d,r);const p=sb(r,d);let _,y;if(c.merge)_=new Sn(d.fieldMask),y=d.fieldTransforms;else if(c.mergeFields){const T=[];for(const A of c.mergeFields){const x=jo(e,A,i);if(!d.contains(x))throw new oe($.INVALID_ARGUMENT,`Field '${x}' is specified in your field mask but missing from your input data.`);lb(T,x)||T.push(x)}_=new Sn(T),y=d.fieldTransforms.filter((A=>_.covers(A.field)))}else _=null,y=d.fieldTransforms;return new px(new dn(p),_,y)}class Sh extends Wm{_toFieldTransform(e){if(e.dataSource!==2)throw e.dataSource===1?e.createError(`${this._methodName}() can only appear at the top level of your update data`):e.createError(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof Sh}}function yx(s,e,i,r){const o=s.createContext(1,e,i);np("Data must be an object, but it was:",o,r);const c=[],d=dn.empty();nr(r,((_,y)=>{const T=ab(e,_,i);y=sn(y);const A=o.childContextForFieldPath(T);if(y instanceof Sh)c.push(T);else{const x=Ah(y,A);x!=null&&(c.push(T),d.set(T,x))}}));const p=new Sn(c);return new tb(d,p,o.fieldTransforms)}function _x(s,e,i,r,o,c){const d=s.createContext(1,e,i),p=[jo(e,r,i)],_=[o];if(c.length%2!=0)throw new oe($.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let x=0;x<c.length;x+=2)p.push(jo(e,c[x])),_.push(c[x+1]);const y=[],T=dn.empty();for(let x=p.length-1;x>=0;--x)if(!lb(y,p[x])){const B=p[x];let K=_[x];K=sn(K);const Z=d.childContextForFieldPath(B);if(K instanceof Sh)y.push(B);else{const W=Ah(K,Z);W!=null&&(y.push(B),T.set(B,W))}}const A=new Sn(y);return new tb(T,A,d.fieldTransforms)}function Ah(s,e){if(rb(s=sn(s)))return np("Unsupported field value:",e,s),sb(s,e);if(s instanceof Wm)return(function(r,o){if(!nb(o.dataSource))throw o.createError(`${r._methodName}() can only be used with update() and set()`);if(!o.path)throw o.createError(`${r._methodName}() is not currently supported inside arrays`);const c=r._toFieldTransform(o);c&&o.fieldTransforms.push(c)})(s,e),null;if(s===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),s instanceof Array){if(e.settings.arrayElement&&e.dataSource!==4)throw e.createError("Nested arrays are not supported");return(function(r,o){const c=[];let d=0;for(const p of r){let _=Ah(p,o.childContextForArray(d));_==null&&(_={nullValue:"NULL_VALUE"}),c.push(_),d++}return{arrayValue:{values:c}}})(s,e)}return(function(r,o){if((r=sn(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return W2(o.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const c=it.fromDate(r);return{timestampValue:$c(o.serializer,c)}}if(r instanceof it){const c=new it(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:$c(o.serializer,c)}}if(r instanceof Ri)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof jn)return{bytesValue:SE(o.serializer,r._byteString)};if(r instanceof xt){const c=o.databaseId,d=r.firestore._databaseId;if(!d.isEqual(c))throw o.createError(`Document reference is for database ${d.projectId}/${d.database} but should be for database ${c.projectId}/${c.database}`);return{referenceValue:jm(r.firestore._databaseId||o.databaseId,r._key.path)}}if(r instanceof Wn)return(function(d,p){const _=d instanceof Wn?d.toArray():d;return{mapValue:{fields:{[W0]:{stringValue:eE},[Kc]:{arrayValue:{values:_.map((T=>{if(typeof T!="number")throw p.createError("VectorValues must only contain numeric values.");return Vm(p.serializer,T)}))}}}}}})(r,o);if(NE(r))return r._toProto(o.serializer);throw o.createError(`Unsupported field value: ${xm(r)}`)})(s,e)}function sb(s,e){const i={};return Q0(s)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):nr(s,((r,o)=>{const c=Ah(o,e.childContextForField(r));c!=null&&(i[r]=c)})),{mapValue:{fields:i}}}function rb(s){return!(typeof s!="object"||s===null||s instanceof Array||s instanceof Date||s instanceof it||s instanceof Ri||s instanceof jn||s instanceof xt||s instanceof Wm||s instanceof Wn||NE(s))}function np(s,e,i){if(!rb(i)||!G0(i)){const r=xm(i);throw r==="an object"?e.createError(s+" a custom object"):e.createError(s+" "+r)}}function jo(s,e,i){if((e=sn(e))instanceof Zm)return e._internalPath;if(typeof e=="string")return ab(s,e);throw th("Field path arguments must be of type string or ",s,!1,void 0,i)}const vx=new RegExp("[~\\*/\\[\\]]");function ab(s,e,i){if(e.search(vx)>=0)throw th(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,s,!1,void 0,i);try{return new Zm(...e.split("."))._internalPath}catch{throw th(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,s,!1,void 0,i)}}function th(s,e,i,r,o){const c=r&&!r.isEmpty(),d=o!==void 0;let p=`Function ${e}() called with invalid data`;i&&(p+=" (via `toFirestore()`)"),p+=". ";let _="";return(c||d)&&(_+=" (found",c&&(_+=` in field ${r}`),d&&(_+=` in document ${o}`),_+=")"),new oe($.INVALID_ARGUMENT,p+s+_)}function lb(s,e){return s.some((i=>i.isEqual(e)))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ex{convertValue(e,i="none"){switch(Ws(e)){case 0:return null;case 1:return e.booleanValue;case 2:return pt(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,i);case 5:return e.stringValue;case 6:return this.convertBytes(Zs(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,i);case 11:return this.convertObject(e.mapValue,i);case 10:return this.convertVectorValue(e.mapValue);default:throw pe(62114,{value:e})}}convertObject(e,i){return this.convertObjectMap(e.fields,i)}convertObjectMap(e,i="none"){const r={};return nr(e,((o,c)=>{r[o]=this.convertValue(c,i)})),r}convertVectorValue(e){var r,o,c;const i=(c=(o=(r=e.fields)==null?void 0:r[Kc].arrayValue)==null?void 0:o.values)==null?void 0:c.map((d=>pt(d.doubleValue)));return new Wn(i)}convertGeoPoint(e){return new Ri(pt(e.latitude),pt(e.longitude))}convertArray(e,i){return(e.values||[]).map((r=>this.convertValue(r,i)))}convertServerTimestamp(e,i){switch(i){case"previous":const r=hh(e);return r==null?null:this.convertValue(r,i);case"estimate":return this.convertTimestamp(Oo(e));default:return null}}convertTimestamp(e){const i=$s(e);return new it(i.seconds,i.nanos)}convertDocumentKey(e,i){const r=nt.fromString(e);He(IE(r),9688,{name:e});const o=new Mo(r.get(1),r.get(3)),c=new de(r.popFirst(5));return o.isEqual(i)||es(`Document ${c} contains a document reference within a different database (${o.projectId}/${o.database}) which is not supported. It will be treated as a reference in the current database (${i.projectId}/${i.database}) instead.`),c}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ob extends Ex{constructor(e){super(),this.firestore=e}convertBytes(e){return new jn(e)}convertReference(e){const i=this.convertDocumentKey(e,this.firestore._databaseId);return new xt(this.firestore,null,i)}}const Jv="@firebase/firestore",$v="4.11.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Zv(s){return(function(i,r){if(typeof i!="object"||i===null)return!1;const o=i;for(const c of r)if(c in o&&typeof o[c]=="function")return!0;return!1})(s,["next","error","complete"])}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ub{constructor(e,i,r,o,c){this._firestore=e,this._userDataWriter=i,this._key=r,this._document=o,this._converter=c}get id(){return this._key.path.lastSegment()}get ref(){return new xt(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new bx(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}_fieldsProto(){var e;return((e=this._document)==null?void 0:e.data.clone().value.mapValue.fields)??void 0}get(e){if(this._document){const i=this._document.data.field(jo("DocumentSnapshot.get",e));if(i!==null)return this._userDataWriter.convertValue(i)}}}class bx extends ub{data(){return super.data()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Tx(s){if(s.limitType==="L"&&s.explicitOrderBy.length===0)throw new oe($.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}function cb(s,e,i){let r;return r=s?i&&(i.merge||i.mergeFields)?s.toFirestore(e,i):s.toFirestore(e):e,r}class bo{constructor(e,i){this.hasPendingWrites=e,this.fromCache=i}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class jr extends ub{constructor(e,i,r,o,c,d){super(e,i,r,o,d),this._firestore=e,this._firestoreImpl=e,this.metadata=c}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const i=new jc(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(i,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,i={}){if(this._document){const r=this._document.data.field(jo("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,i.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new oe($.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,i={};return i.type=jr._jsonSchemaVersion,i.bundle="",i.bundleSource="DocumentSnapshot",i.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?i:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),i.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),i)}}jr._jsonSchemaVersion="firestore/documentSnapshot/1.0",jr._jsonSchema={type:Rt("string",jr._jsonSchemaVersion),bundleSource:Rt("string","DocumentSnapshot"),bundleName:Rt("string"),bundle:Rt("string")};class jc extends jr{data(e={}){return super.data(e)}}class Qa{constructor(e,i,r,o){this._firestore=e,this._userDataWriter=i,this._snapshot=o,this.metadata=new bo(o.hasPendingWrites,o.fromCache),this.query=r}get docs(){const e=[];return this.forEach((i=>e.push(i))),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,i){this._snapshot.docs.forEach((r=>{e.call(i,new jc(this._firestore,this._userDataWriter,r.key,r,new bo(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(e={}){const i=!!e.includeMetadataChanges;if(i&&this._snapshot.excludesMetadataChanges)throw new oe($.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===i||(this._cachedChanges=(function(o,c){if(o._snapshot.oldDocs.isEmpty()){let d=0;return o._snapshot.docChanges.map((p=>{const _=new jc(o._firestore,o._userDataWriter,p.doc.key,p.doc,new bo(o._snapshot.mutatedKeys.has(p.doc.key),o._snapshot.fromCache),o.query.converter);return p.doc,{type:"added",doc:_,oldIndex:-1,newIndex:d++}}))}{let d=o._snapshot.oldDocs;return o._snapshot.docChanges.filter((p=>c||p.type!==3)).map((p=>{const _=new jc(o._firestore,o._userDataWriter,p.doc.key,p.doc,new bo(o._snapshot.mutatedKeys.has(p.doc.key),o._snapshot.fromCache),o.query.converter);let y=-1,T=-1;return p.type!==0&&(y=d.indexOf(p.doc.key),d=d.delete(p.doc.key)),p.type!==1&&(d=d.add(p.doc),T=d.indexOf(p.doc.key)),{type:Sx(p.type),doc:_,oldIndex:y,newIndex:T}}))}})(this,i),this._cachedChangesIncludeMetadataChanges=i),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new oe($.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=Qa._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=Rm.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const i=[],r=[],o=[];return this.docs.forEach((c=>{c._document!==null&&(i.push(c._document),r.push(this._userDataWriter.convertObjectMap(c._document.data.value.mapValue.fields,"previous")),o.push(c.ref.path))})),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function Sx(s){switch(s){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return pe(61501,{type:s})}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Qa._jsonSchemaVersion="firestore/querySnapshot/1.0",Qa._jsonSchema={type:Rt("string",Qa._jsonSchemaVersion),bundleSource:Rt("string","QuerySnapshot"),bundleName:Rt("string"),bundle:Rt("string")};function Ax(s,e,i){s=Si(s,xt);const r=Si(s.firestore,Fr),o=cb(s.converter,e,i),c=tp(r);return wh(r,[ib(c,"setDoc",s._key,o,s.converter!==null,i).toMutation(s._key,Pn.none())])}function wx(s,e,i,...r){s=Si(s,xt);const o=Si(s.firestore,Fr),c=tp(o);let d;return d=typeof(e=sn(e))=="string"||e instanceof Zm?_x(c,"updateDoc",s._key,e,i,r):yx(c,"updateDoc",s._key,e),wh(o,[d.toMutation(s._key,Pn.exists(!0))])}function Rx(s){return wh(Si(s.firestore,Fr),[new km(s._key,Pn.none())])}function xx(s,e){const i=Si(s.firestore,Fr),r=Uo(s),o=cb(s.converter,e),c=tp(s.firestore);return wh(i,[ib(c,"addDoc",r._key,o,s.converter!==null,{}).toMutation(r._key,Pn.exists(!1))]).then((()=>r))}function hb(s,...e){var y,T,A;s=sn(s);let i={includeMetadataChanges:!1,source:"default"},r=0;typeof e[r]!="object"||Zv(e[r])||(i=e[r++]);const o={includeMetadataChanges:i.includeMetadataChanges,source:i.source};if(Zv(e[r])){const x=e[r];e[r]=(y=x.next)==null?void 0:y.bind(x),e[r+1]=(T=x.error)==null?void 0:T.bind(x),e[r+2]=(A=x.complete)==null?void 0:A.bind(x)}let c,d,p;if(s instanceof xt)d=Si(s.firestore,Fr),p=Mm(s._key.path),c={next:x=>{e[r]&&e[r](Cx(d,s,x))},error:e[r+1],complete:e[r+2]};else{const x=Si(s,Th);d=Si(x.firestore,Fr),p=x._query;const B=new ob(d);c={next:K=>{e[r]&&e[r](new Qa(d,B,x,K))},error:e[r+1],complete:e[r+2]},Tx(s._query)}const _=eb(d);return lx(_,p,o,c)}function wh(s,e){const i=eb(s);return ox(i,e)}function Cx(s,e,i){const r=i.docs.get(e._key),o=new ob(s);return new jr(s,o,e._key,r,new bo(i.hasPendingWrites,i.fromCache),e.converter)}(function(e,i=!0){r2(sl),$a(new zr("firestore",((r,{instanceIdentifier:o,options:c})=>{const d=r.getProvider("app").getImmediate(),p=new Fr(new o2(r.getProvider("auth-internal")),new h2(d,r.getProvider("app-check-internal")),C2(d,o),d);return c={useFetchStreams:i,...c},p._setSettings(c),p}),"PUBLIC").setMultipleInstances(!0)),Qs(Jv,$v,e),Qs(Jv,$v,"esm2020")})();var Ix="firebase",Nx="12.9.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Qs(Ix,Nx,"app");function fb(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const Dx=fb,db=new zo("auth","Firebase",fb());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nh=new Tm("@firebase/auth");function Ox(s,...e){nh.logLevel<=Ie.WARN&&nh.warn(`Auth (${sl}): ${s}`,...e)}function Pc(s,...e){nh.logLevel<=Ie.ERROR&&nh.error(`Auth (${sl}): ${s}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ns(s,...e){throw ip(s,...e)}function xi(s,...e){return ip(s,...e)}function mb(s,e,i){const r={...Dx(),[e]:i};return new zo("auth","Firebase",r).create(e,{appName:s.name})}function Zi(s){return mb(s,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function ip(s,...e){if(typeof s!="string"){const i=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=s.name),s._errorFactory.create(i,...r)}return db.create(s,...e)}function ge(s,e,...i){if(!s)throw ip(e,...i)}function Ji(s){const e="INTERNAL ASSERTION FAILED: "+s;throw Pc(e),new Error(e)}function is(s,e){s||Ji(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gm(){var s;return typeof self<"u"&&((s=self.location)==null?void 0:s.href)||""}function Mx(){return Wv()==="http:"||Wv()==="https:"}function Wv(){var s;return typeof self<"u"&&((s=self.location)==null?void 0:s.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Vx(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(Mx()||jS()||"connection"in navigator)?navigator.onLine:!0}function kx(){if(typeof navigator>"u")return null;const s=navigator;return s.languages&&s.languages[0]||s.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qo{constructor(e,i){this.shortDelay=e,this.longDelay=i,is(i>e,"Short delay should be less than long delay!"),this.isMobile=kS()||PS()}get(){return Vx()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sp(s,e){is(s.emulator,"Emulator should always be set here");const{url:i}=s.emulator;return e?`${i}${e.startsWith("/")?e.slice(1):e}`:i}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pb{static initialize(e,i,r){this.fetchImpl=e,i&&(this.headersImpl=i),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Ji("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Ji("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Ji("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Lx={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ux=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],jx=new Qo(3e4,6e4);function Yo(s,e){return s.tenantId&&!e.tenantId?{...e,tenantId:s.tenantId}:e}async function ul(s,e,i,r,o={}){return gb(s,o,async()=>{let c={},d={};r&&(e==="GET"?d=r:c={body:JSON.stringify(r)});const p=Bo({key:s.config.apiKey,...d}).slice(1),_=await s._getAdditionalHeaders();_["Content-Type"]="application/json",s.languageCode&&(_["X-Firebase-Locale"]=s.languageCode);const y={method:e,headers:_,...c};return US()||(y.referrerPolicy="no-referrer"),s.emulatorConfig&&il(s.emulatorConfig.host)&&(y.credentials="include"),pb.fetch()(await yb(s,s.config.apiHost,i,p),y)})}async function gb(s,e,i){s._canInitEmulator=!1;const r={...Lx,...e};try{const o=new Px(s),c=await Promise.race([i(),o.promise]);o.clearNetworkTimeout();const d=await c.json();if("needConfirmation"in d)throw Oc(s,"account-exists-with-different-credential",d);if(c.ok&&!("errorMessage"in d))return d;{const p=c.ok?d.errorMessage:d.error.message,[_,y]=p.split(" : ");if(_==="FEDERATED_USER_ID_ALREADY_LINKED")throw Oc(s,"credential-already-in-use",d);if(_==="EMAIL_EXISTS")throw Oc(s,"email-already-in-use",d);if(_==="USER_DISABLED")throw Oc(s,"user-disabled",d);const T=r[_]||_.toLowerCase().replace(/[_\s]+/g,"-");if(y)throw mb(s,T,y);ns(s,T)}}catch(o){if(o instanceof rs)throw o;ns(s,"network-request-failed",{message:String(o)})}}async function rp(s,e,i,r,o={}){const c=await ul(s,e,i,r,o);return"mfaPendingCredential"in c&&ns(s,"multi-factor-auth-required",{_serverResponse:c}),c}async function yb(s,e,i,r){const o=`${e}${i}?${r}`,c=s,d=c.config.emulator?sp(s.config,o):`${s.config.apiScheme}://${o}`;return Ux.includes(i)&&(await c._persistenceManagerAvailable,c._getPersistenceType()==="COOKIE")?c._getPersistence()._getFinalTarget(d).toString():d}class Px{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((i,r)=>{this.timer=setTimeout(()=>r(xi(this.auth,"network-request-failed")),jx.get())})}}function Oc(s,e,i){const r={appName:s.name};i.email&&(r.email=i.email),i.phoneNumber&&(r.phoneNumber=i.phoneNumber);const o=xi(s,e,r);return o.customData._tokenResponse=i,o}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function zx(s,e){return ul(s,"POST","/v1/accounts:delete",e)}async function ih(s,e){return ul(s,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xo(s){if(s)try{const e=new Date(Number(s));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function Bx(s,e=!1){const i=sn(s),r=await i.getIdToken(e),o=ap(r);ge(o&&o.exp&&o.auth_time&&o.iat,i.auth,"internal-error");const c=typeof o.firebase=="object"?o.firebase:void 0,d=c==null?void 0:c.sign_in_provider;return{claims:o,token:r,authTime:xo(Fd(o.auth_time)),issuedAtTime:xo(Fd(o.iat)),expirationTime:xo(Fd(o.exp)),signInProvider:d||null,signInSecondFactor:(c==null?void 0:c.sign_in_second_factor)||null}}function Fd(s){return Number(s)*1e3}function ap(s){const[e,i,r]=s.split(".");if(e===void 0||i===void 0||r===void 0)return Pc("JWT malformed, contained fewer than 3 sections"),null;try{const o=A0(i);return o?JSON.parse(o):(Pc("Failed to decode base64 JWT payload"),null)}catch(o){return Pc("Caught error parsing JWT payload as JSON",o==null?void 0:o.toString()),null}}function e0(s){const e=ap(s);return ge(e,"internal-error"),ge(typeof e.exp<"u","internal-error"),ge(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Po(s,e,i=!1){if(i)return e;try{return await e}catch(r){throw r instanceof rs&&qx(r)&&s.auth.currentUser===s&&await s.auth.signOut(),r}}function qx({code:s}){return s==="auth/user-disabled"||s==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hx{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){if(e){const i=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),i}else{this.errorBackoff=3e4;const r=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,r)}}schedule(e=!1){if(!this.isRunning)return;const i=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},i)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ym{constructor(e,i){this.createdAt=e,this.lastLoginAt=i,this._initializeTime()}_initializeTime(){this.lastSignInTime=xo(this.lastLoginAt),this.creationTime=xo(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function sh(s){var A;const e=s.auth,i=await s.getIdToken(),r=await Po(s,ih(e,{idToken:i}));ge(r==null?void 0:r.users.length,e,"internal-error");const o=r.users[0];s._notifyReloadListener(o);const c=(A=o.providerUserInfo)!=null&&A.length?_b(o.providerUserInfo):[],d=Gx(s.providerData,c),p=s.isAnonymous,_=!(s.email&&o.passwordHash)&&!(d!=null&&d.length),y=p?_:!1,T={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:d,metadata:new ym(o.createdAt,o.lastLoginAt),isAnonymous:y};Object.assign(s,T)}async function Fx(s){const e=sn(s);await sh(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function Gx(s,e){return[...s.filter(r=>!e.some(o=>o.providerId===r.providerId)),...e]}function _b(s){return s.map(({providerId:e,...i})=>({providerId:e,uid:i.rawId||"",displayName:i.displayName||null,email:i.email||null,phoneNumber:i.phoneNumber||null,photoURL:i.photoUrl||null}))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Kx(s,e){const i=await gb(s,{},async()=>{const r=Bo({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:o,apiKey:c}=s.config,d=await yb(s,o,"/v1/token",`key=${c}`),p=await s._getAdditionalHeaders();p["Content-Type"]="application/x-www-form-urlencoded";const _={method:"POST",headers:p,body:r};return s.emulatorConfig&&il(s.emulatorConfig.host)&&(_.credentials="include"),pb.fetch()(d,_)});return{accessToken:i.access_token,expiresIn:i.expires_in,refreshToken:i.refresh_token}}async function Qx(s,e){return ul(s,"POST","/v2/accounts:revokeToken",Yo(s,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ya{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){ge(e.idToken,"internal-error"),ge(typeof e.idToken<"u","internal-error"),ge(typeof e.refreshToken<"u","internal-error");const i="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):e0(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,i)}updateFromIdToken(e){ge(e.length!==0,"internal-error");const i=e0(e);this.updateTokensAndExpiration(e,null,i)}async getToken(e,i=!1){return!i&&this.accessToken&&!this.isExpired?this.accessToken:(ge(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,i){const{accessToken:r,refreshToken:o,expiresIn:c}=await Kx(e,i);this.updateTokensAndExpiration(r,o,Number(c))}updateTokensAndExpiration(e,i,r){this.refreshToken=i||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,i){const{refreshToken:r,accessToken:o,expirationTime:c}=i,d=new Ya;return r&&(ge(typeof r=="string","internal-error",{appName:e}),d.refreshToken=r),o&&(ge(typeof o=="string","internal-error",{appName:e}),d.accessToken=o),c&&(ge(typeof c=="number","internal-error",{appName:e}),d.expirationTime=c),d}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Ya,this.toJSON())}_performRefresh(){return Ji("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ps(s,e){ge(typeof s=="string"||typeof s>"u","internal-error",{appName:e})}class Zn{constructor({uid:e,auth:i,stsTokenManager:r,...o}){this.providerId="firebase",this.proactiveRefresh=new Hx(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=e,this.auth=i,this.stsTokenManager=r,this.accessToken=r.accessToken,this.displayName=o.displayName||null,this.email=o.email||null,this.emailVerified=o.emailVerified||!1,this.phoneNumber=o.phoneNumber||null,this.photoURL=o.photoURL||null,this.isAnonymous=o.isAnonymous||!1,this.tenantId=o.tenantId||null,this.providerData=o.providerData?[...o.providerData]:[],this.metadata=new ym(o.createdAt||void 0,o.lastLoginAt||void 0)}async getIdToken(e){const i=await Po(this,this.stsTokenManager.getToken(this.auth,e));return ge(i,this.auth,"internal-error"),this.accessToken!==i&&(this.accessToken=i,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),i}getIdTokenResult(e){return Bx(this,e)}reload(){return Fx(this)}_assign(e){this!==e&&(ge(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(i=>({...i})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const i=new Zn({...this,auth:e,stsTokenManager:this.stsTokenManager._clone()});return i.metadata._copy(this.metadata),i}_onReload(e){ge(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,i=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),i&&await sh(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Un(this.auth.app))return Promise.reject(Zi(this.auth));const e=await this.getIdToken();return await Po(this,zx(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>({...e})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,i){const r=i.displayName??void 0,o=i.email??void 0,c=i.phoneNumber??void 0,d=i.photoURL??void 0,p=i.tenantId??void 0,_=i._redirectEventId??void 0,y=i.createdAt??void 0,T=i.lastLoginAt??void 0,{uid:A,emailVerified:x,isAnonymous:B,providerData:K,stsTokenManager:Z}=i;ge(A&&Z,e,"internal-error");const W=Ya.fromJSON(this.name,Z);ge(typeof A=="string",e,"internal-error"),Ps(r,e.name),Ps(o,e.name),ge(typeof x=="boolean",e,"internal-error"),ge(typeof B=="boolean",e,"internal-error"),Ps(c,e.name),Ps(d,e.name),Ps(p,e.name),Ps(_,e.name),Ps(y,e.name),Ps(T,e.name);const ae=new Zn({uid:A,auth:e,email:o,emailVerified:x,displayName:r,isAnonymous:B,photoURL:d,phoneNumber:c,tenantId:p,stsTokenManager:W,createdAt:y,lastLoginAt:T});return K&&Array.isArray(K)&&(ae.providerData=K.map(ue=>({...ue}))),_&&(ae._redirectEventId=_),ae}static async _fromIdTokenResponse(e,i,r=!1){const o=new Ya;o.updateFromServerResponse(i);const c=new Zn({uid:i.localId,auth:e,stsTokenManager:o,isAnonymous:r});return await sh(c),c}static async _fromGetAccountInfoResponse(e,i,r){const o=i.users[0];ge(o.localId!==void 0,"internal-error");const c=o.providerUserInfo!==void 0?_b(o.providerUserInfo):[],d=!(o.email&&o.passwordHash)&&!(c!=null&&c.length),p=new Ya;p.updateFromIdToken(r);const _=new Zn({uid:o.localId,auth:e,stsTokenManager:p,isAnonymous:d}),y={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:c,metadata:new ym(o.createdAt,o.lastLoginAt),isAnonymous:!(o.email&&o.passwordHash)&&!(c!=null&&c.length)};return Object.assign(_,y),_}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const t0=new Map;function $i(s){is(s instanceof Function,"Expected a class definition");let e=t0.get(s);return e?(is(e instanceof s,"Instance stored in cache mismatched with class"),e):(e=new s,t0.set(s,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vb{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,i){this.storage[e]=i}async _get(e){const i=this.storage[e];return i===void 0?null:i}async _remove(e){delete this.storage[e]}_addListener(e,i){}_removeListener(e,i){}}vb.type="NONE";const n0=vb;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zc(s,e,i){return`firebase:${s}:${e}:${i}`}class Xa{constructor(e,i,r){this.persistence=e,this.auth=i,this.userKey=r;const{config:o,name:c}=this.auth;this.fullUserKey=zc(this.userKey,o.apiKey,c),this.fullPersistenceKey=zc("persistence",o.apiKey,c),this.boundEventHandler=i._onStorageEvent.bind(i),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const i=await ih(this.auth,{idToken:e}).catch(()=>{});return i?Zn._fromGetAccountInfoResponse(this.auth,i,e):null}return Zn._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const i=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,i)return this.setCurrentUser(i)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,i,r="authUser"){if(!i.length)return new Xa($i(n0),e,r);const o=(await Promise.all(i.map(async y=>{if(await y._isAvailable())return y}))).filter(y=>y);let c=o[0]||$i(n0);const d=zc(r,e.config.apiKey,e.name);let p=null;for(const y of i)try{const T=await y._get(d);if(T){let A;if(typeof T=="string"){const x=await ih(e,{idToken:T}).catch(()=>{});if(!x)break;A=await Zn._fromGetAccountInfoResponse(e,x,T)}else A=Zn._fromJSON(e,T);y!==c&&(p=A),c=y;break}}catch{}const _=o.filter(y=>y._shouldAllowMigration);return!c._shouldAllowMigration||!_.length?new Xa(c,e,r):(c=_[0],p&&await c._set(d,p.toJSON()),await Promise.all(i.map(async y=>{if(y!==c)try{await y._remove(d)}catch{}})),new Xa(c,e,r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function i0(s){const e=s.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(Sb(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(Eb(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(wb(e))return"Blackberry";if(Rb(e))return"Webos";if(bb(e))return"Safari";if((e.includes("chrome/")||Tb(e))&&!e.includes("edge/"))return"Chrome";if(Ab(e))return"Android";{const i=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=s.match(i);if((r==null?void 0:r.length)===2)return r[1]}return"Other"}function Eb(s=Wt()){return/firefox\//i.test(s)}function bb(s=Wt()){const e=s.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function Tb(s=Wt()){return/crios\//i.test(s)}function Sb(s=Wt()){return/iemobile/i.test(s)}function Ab(s=Wt()){return/android/i.test(s)}function wb(s=Wt()){return/blackberry/i.test(s)}function Rb(s=Wt()){return/webos/i.test(s)}function lp(s=Wt()){return/iphone|ipad|ipod/i.test(s)||/macintosh/i.test(s)&&/mobile/i.test(s)}function Yx(s=Wt()){var e;return lp(s)&&!!((e=window.navigator)!=null&&e.standalone)}function Xx(){return zS()&&document.documentMode===10}function xb(s=Wt()){return lp(s)||Ab(s)||Rb(s)||wb(s)||/windows phone/i.test(s)||Sb(s)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Cb(s,e=[]){let i;switch(s){case"Browser":i=i0(Wt());break;case"Worker":i=`${i0(Wt())}-${s}`;break;default:i=s}const r=e.length?e.join(","):"FirebaseCore-web";return`${i}/JsCore/${sl}/${r}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jx{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,i){const r=c=>new Promise((d,p)=>{try{const _=e(c);d(_)}catch(_){p(_)}});r.onAbort=i,this.queue.push(r);const o=this.queue.length-1;return()=>{this.queue[o]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const i=[];try{for(const r of this.queue)await r(e),r.onAbort&&i.push(r.onAbort)}catch(r){i.reverse();for(const o of i)try{o()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r==null?void 0:r.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function $x(s,e={}){return ul(s,"GET","/v2/passwordPolicy",Yo(s,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Zx=6;class Wx{constructor(e){var r;const i=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=i.minPasswordLength??Zx,i.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=i.maxPasswordLength),i.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=i.containsLowercaseCharacter),i.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=i.containsUppercaseCharacter),i.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=i.containsNumericCharacter),i.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=i.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=((r=e.allowedNonAlphanumericCharacters)==null?void 0:r.join(""))??"",this.forceUpgradeOnSignin=e.forceUpgradeOnSignin??!1,this.schemaVersion=e.schemaVersion}validatePassword(e){const i={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,i),this.validatePasswordCharacterOptions(e,i),i.isValid&&(i.isValid=i.meetsMinPasswordLength??!0),i.isValid&&(i.isValid=i.meetsMaxPasswordLength??!0),i.isValid&&(i.isValid=i.containsLowercaseLetter??!0),i.isValid&&(i.isValid=i.containsUppercaseLetter??!0),i.isValid&&(i.isValid=i.containsNumericCharacter??!0),i.isValid&&(i.isValid=i.containsNonAlphanumericCharacter??!0),i}validatePasswordLengthOptions(e,i){const r=this.customStrengthOptions.minPasswordLength,o=this.customStrengthOptions.maxPasswordLength;r&&(i.meetsMinPasswordLength=e.length>=r),o&&(i.meetsMaxPasswordLength=e.length<=o)}validatePasswordCharacterOptions(e,i){this.updatePasswordCharacterOptionsStatuses(i,!1,!1,!1,!1);let r;for(let o=0;o<e.length;o++)r=e.charAt(o),this.updatePasswordCharacterOptionsStatuses(i,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,i,r,o,c){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=i)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=o)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=c))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eC{constructor(e,i,r,o){this.app=e,this.heartbeatServiceProvider=i,this.appCheckServiceProvider=r,this.config=o,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new s0(this),this.idTokenSubscription=new s0(this),this.beforeStateQueue=new Jx(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=db,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=o.sdkClientVersion,this._persistenceManagerAvailable=new Promise(c=>this._resolvePersistenceManagerAvailable=c)}_initializeWithPersistence(e,i){return i&&(this._popupRedirectResolver=$i(i)),this._initializationPromise=this.queue(async()=>{var r,o,c;if(!this._deleted&&(this.persistenceManager=await Xa.create(this,e),(r=this._resolvePersistenceManagerAvailable)==null||r.call(this),!this._deleted)){if((o=this._popupRedirectResolver)!=null&&o._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(i),this.lastNotifiedUid=((c=this.currentUser)==null?void 0:c.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const i=await ih(this,{idToken:e}),r=await Zn._fromGetAccountInfoResponse(this,i,e);await this.directlySetCurrentUser(r)}catch(i){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",i),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var c;if(Un(this.app)){const d=this.app.settings.authIdToken;return d?new Promise(p=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(d).then(p,p))}):this.directlySetCurrentUser(null)}const i=await this.assertedPersistence.getCurrentUser();let r=i,o=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const d=(c=this.redirectUser)==null?void 0:c._redirectEventId,p=r==null?void 0:r._redirectEventId,_=await this.tryRedirectSignIn(e);(!d||d===p)&&(_!=null&&_.user)&&(r=_.user,o=!0)}if(!r)return this.directlySetCurrentUser(null);if(!r._redirectEventId){if(o)try{await this.beforeStateQueue.runMiddleware(r)}catch(d){r=i,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(d))}return r?this.reloadAndSetCurrentUserOrClear(r):this.directlySetCurrentUser(null)}return ge(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===r._redirectEventId?this.directlySetCurrentUser(r):this.reloadAndSetCurrentUserOrClear(r)}async tryRedirectSignIn(e){let i=null;try{i=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return i}async reloadAndSetCurrentUserOrClear(e){try{await sh(e)}catch(i){if((i==null?void 0:i.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=kx()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(Un(this.app))return Promise.reject(Zi(this));const i=e?sn(e):null;return i&&ge(i.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(i&&i._clone(this))}async _updateCurrentUser(e,i=!1){if(!this._deleted)return e&&ge(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),i||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return Un(this.app)?Promise.reject(Zi(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return Un(this.app)?Promise.reject(Zi(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence($i(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const i=this._getPasswordPolicyInternal();return i.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):i.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await $x(this),i=new Wx(e);this.tenantId===null?this._projectPasswordPolicy=i:this._tenantPasswordPolicies[this.tenantId]=i}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new zo("auth","Firebase",e())}onAuthStateChanged(e,i,r){return this.registerStateListener(this.authStateSubscription,e,i,r)}beforeAuthStateChanged(e,i){return this.beforeStateQueue.pushCallback(e,i)}onIdTokenChanged(e,i,r){return this.registerStateListener(this.idTokenSubscription,e,i,r)}authStateReady(){return new Promise((e,i)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},i)}})}async revokeAccessToken(e){if(this.currentUser){const i=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:i};this.tenantId!=null&&(r.tenantId=this.tenantId),await Qx(this,r)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)==null?void 0:e.toJSON()}}async _setRedirectUser(e,i){const r=await this.getOrInitRedirectPersistenceManager(i);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const i=e&&$i(e)||this._popupRedirectResolver;ge(i,this,"argument-error"),this.redirectPersistenceManager=await Xa.create(this,[$i(i._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var i,r;return this._isInitialized&&await this.queue(async()=>{}),((i=this._currentUser)==null?void 0:i._redirectEventId)===e?this._currentUser:((r=this.redirectUser)==null?void 0:r._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var i;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const e=((i=this.currentUser)==null?void 0:i.uid)??null;this.lastNotifiedUid!==e&&(this.lastNotifiedUid=e,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,i,r,o){if(this._deleted)return()=>{};const c=typeof i=="function"?i:i.next.bind(i);let d=!1;const p=this._isInitialized?Promise.resolve():this._initializationPromise;if(ge(p,this,"internal-error"),p.then(()=>{d||c(this.currentUser)}),typeof i=="function"){const _=e.addObserver(i,r,o);return()=>{d=!0,_()}}else{const _=e.addObserver(i);return()=>{d=!0,_()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return ge(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=Cb(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var o;const e={"X-Client-Version":this.clientVersion};this.app.options.appId&&(e["X-Firebase-gmpid"]=this.app.options.appId);const i=await((o=this.heartbeatServiceProvider.getImmediate({optional:!0}))==null?void 0:o.getHeartbeatsHeader());i&&(e["X-Firebase-Client"]=i);const r=await this._getAppCheckToken();return r&&(e["X-Firebase-AppCheck"]=r),e}async _getAppCheckToken(){var i;if(Un(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=await((i=this.appCheckServiceProvider.getImmediate({optional:!0}))==null?void 0:i.getToken());return e!=null&&e.error&&Ox(`Error while retrieving App Check token: ${e.error}`),e==null?void 0:e.token}}function Xo(s){return sn(s)}class s0{constructor(e){this.auth=e,this.observer=null,this.addObserver=YS(i=>this.observer=i)}get next(){return ge(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let op={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function tC(s){op=s}function nC(s){return op.loadJS(s)}function iC(){return op.gapiScript}function sC(s){return`__${s}${Math.floor(Math.random()*1e6)}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rC(s,e){const i=Am(s,"auth");if(i.isInitialized()){const o=i.getImmediate(),c=i.getOptions();if(Pr(c,e??{}))return o;ns(o,"already-initialized")}return i.initialize({options:e})}function aC(s,e){const i=(e==null?void 0:e.persistence)||[],r=(Array.isArray(i)?i:[i]).map($i);e!=null&&e.errorMap&&s._updateErrorMap(e.errorMap),s._initializeWithPersistence(r,e==null?void 0:e.popupRedirectResolver)}function lC(s,e,i){const r=Xo(s);ge(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const o=!1,c=Ib(e),{host:d,port:p}=oC(e),_=p===null?"":`:${p}`,y={url:`${c}//${d}${_}/`},T=Object.freeze({host:d,port:p,protocol:c.replace(":",""),options:Object.freeze({disableWarnings:o})});if(!r._canInitEmulator){ge(r.config.emulator&&r.emulatorConfig,r,"emulator-config-failed"),ge(Pr(y,r.config.emulator)&&Pr(T,r.emulatorConfig),r,"emulator-config-failed");return}r.config.emulator=y,r.emulatorConfig=T,r.settings.appVerificationDisabledForTesting=!0,il(d)?(C0(`${c}//${d}${_}`),I0("Auth",!0)):uC()}function Ib(s){const e=s.indexOf(":");return e<0?"":s.substr(0,e+1)}function oC(s){const e=Ib(s),i=/(\/\/)?([^?#/]+)/.exec(s.substr(e.length));if(!i)return{host:"",port:null};const r=i[2].split("@").pop()||"",o=/^(\[[^\]]+\])(:|$)/.exec(r);if(o){const c=o[1];return{host:c,port:r0(r.substr(c.length+1))}}else{const[c,d]=r.split(":");return{host:c,port:r0(d)}}}function r0(s){if(!s)return null;const e=Number(s);return isNaN(e)?null:e}function uC(){function s(){const e=document.createElement("p"),i=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",i.position="fixed",i.width="100%",i.backgroundColor="#ffffff",i.border=".1em solid #000000",i.color="#b50000",i.bottom="0px",i.left="0px",i.margin="0px",i.zIndex="10000",i.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",s):s())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nb{constructor(e,i){this.providerId=e,this.signInMethod=i}toJSON(){return Ji("not implemented")}_getIdTokenResponse(e){return Ji("not implemented")}_linkToIdToken(e,i){return Ji("not implemented")}_getReauthenticationResolver(e){return Ji("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ja(s,e){return rp(s,"POST","/v1/accounts:signInWithIdp",Yo(s,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cC="http://localhost";class Gr extends Nb{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const i=new Gr(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(i.idToken=e.idToken),e.accessToken&&(i.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(i.nonce=e.nonce),e.pendingToken&&(i.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(i.accessToken=e.oauthToken,i.secret=e.oauthTokenSecret):ns("argument-error"),i}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const i=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:o,...c}=i;if(!r||!o)return null;const d=new Gr(r,o);return d.idToken=c.idToken||void 0,d.accessToken=c.accessToken||void 0,d.secret=c.secret,d.nonce=c.nonce,d.pendingToken=c.pendingToken||null,d}_getIdTokenResponse(e){const i=this.buildRequest();return Ja(e,i)}_linkToIdToken(e,i){const r=this.buildRequest();return r.idToken=i,Ja(e,r)}_getReauthenticationResolver(e){const i=this.buildRequest();return i.autoCreate=!1,Ja(e,i)}buildRequest(){const e={requestUri:cC,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const i={};this.idToken&&(i.id_token=this.idToken),this.accessToken&&(i.access_token=this.accessToken),this.secret&&(i.oauth_token_secret=this.secret),i.providerId=this.providerId,this.nonce&&!this.pendingToken&&(i.nonce=this.nonce),e.postBody=Bo(i)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Db{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jo extends Db{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zs extends Jo{constructor(){super("facebook.com")}static credential(e){return Gr._fromParams({providerId:zs.PROVIDER_ID,signInMethod:zs.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return zs.credentialFromTaggedObject(e)}static credentialFromError(e){return zs.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return zs.credential(e.oauthAccessToken)}catch{return null}}}zs.FACEBOOK_SIGN_IN_METHOD="facebook.com";zs.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bs extends Jo{constructor(){super("google.com"),this.addScope("profile")}static credential(e,i){return Gr._fromParams({providerId:Bs.PROVIDER_ID,signInMethod:Bs.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:i})}static credentialFromResult(e){return Bs.credentialFromTaggedObject(e)}static credentialFromError(e){return Bs.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:i,oauthAccessToken:r}=e;if(!i&&!r)return null;try{return Bs.credential(i,r)}catch{return null}}}Bs.GOOGLE_SIGN_IN_METHOD="google.com";Bs.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qs extends Jo{constructor(){super("github.com")}static credential(e){return Gr._fromParams({providerId:qs.PROVIDER_ID,signInMethod:qs.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return qs.credentialFromTaggedObject(e)}static credentialFromError(e){return qs.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return qs.credential(e.oauthAccessToken)}catch{return null}}}qs.GITHUB_SIGN_IN_METHOD="github.com";qs.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hs extends Jo{constructor(){super("twitter.com")}static credential(e,i){return Gr._fromParams({providerId:Hs.PROVIDER_ID,signInMethod:Hs.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:i})}static credentialFromResult(e){return Hs.credentialFromTaggedObject(e)}static credentialFromError(e){return Hs.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:i,oauthTokenSecret:r}=e;if(!i||!r)return null;try{return Hs.credential(i,r)}catch{return null}}}Hs.TWITTER_SIGN_IN_METHOD="twitter.com";Hs.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function hC(s,e){return rp(s,"POST","/v1/accounts:signUp",Yo(s,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ss{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,i,r,o=!1){const c=await Zn._fromIdTokenResponse(e,r,o),d=a0(r);return new ss({user:c,providerId:d,_tokenResponse:r,operationType:i})}static async _forOperation(e,i,r){await e._updateTokensIfNecessary(r,!0);const o=a0(r);return new ss({user:e,providerId:o,_tokenResponse:r,operationType:i})}}function a0(s){return s.providerId?s.providerId:"phoneNumber"in s?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function fC(s){var o;if(Un(s.app))return Promise.reject(Zi(s));const e=Xo(s);if(await e._initializationPromise,(o=e.currentUser)!=null&&o.isAnonymous)return new ss({user:e.currentUser,providerId:null,operationType:"signIn"});const i=await hC(e,{returnSecureToken:!0}),r=await ss._fromIdTokenResponse(e,"signIn",i,!0);return await e._updateCurrentUser(r.user),r}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rh extends rs{constructor(e,i,r,o){super(i.code,i.message),this.operationType=r,this.user=o,Object.setPrototypeOf(this,rh.prototype),this.customData={appName:e.name,tenantId:e.tenantId??void 0,_serverResponse:i.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,i,r,o){return new rh(e,i,r,o)}}function Ob(s,e,i,r){return(e==="reauthenticate"?i._getReauthenticationResolver(s):i._getIdTokenResponse(s)).catch(c=>{throw c.code==="auth/multi-factor-auth-required"?rh._fromErrorAndOperation(s,c,e,r):c})}async function dC(s,e,i=!1){const r=await Po(s,e._linkToIdToken(s.auth,await s.getIdToken()),i);return ss._forOperation(s,"link",r)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function mC(s,e,i=!1){const{auth:r}=s;if(Un(r.app))return Promise.reject(Zi(r));const o="reauthenticate";try{const c=await Po(s,Ob(r,o,e,s),i);ge(c.idToken,r,"internal-error");const d=ap(c.idToken);ge(d,r,"internal-error");const{sub:p}=d;return ge(s.uid===p,r,"user-mismatch"),ss._forOperation(s,o,c)}catch(c){throw(c==null?void 0:c.code)==="auth/user-not-found"&&ns(r,"user-mismatch"),c}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function pC(s,e,i=!1){if(Un(s.app))return Promise.reject(Zi(s));const r="signIn",o=await Ob(s,r,e),c=await ss._fromIdTokenResponse(s,r,o);return i||await s._updateCurrentUser(c.user),c}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function gC(s,e){return rp(s,"POST","/v1/accounts:signInWithCustomToken",Yo(s,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function yC(s,e){if(Un(s.app))return Promise.reject(Zi(s));const i=Xo(s),r=await gC(i,{token:e,returnSecureToken:!0}),o=await ss._fromIdTokenResponse(i,"signIn",r);return await i._updateCurrentUser(o.user),o}function _C(s,e,i,r){return sn(s).onIdTokenChanged(e,i,r)}function vC(s,e,i){return sn(s).beforeAuthStateChanged(e,i)}const ah="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mb{constructor(e,i){this.storageRetriever=e,this.type=i}_isAvailable(){try{return this.storage?(this.storage.setItem(ah,"1"),this.storage.removeItem(ah),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,i){return this.storage.setItem(e,JSON.stringify(i)),Promise.resolve()}_get(e){const i=this.storage.getItem(e);return Promise.resolve(i?JSON.parse(i):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const EC=1e3,bC=10;class Vb extends Mb{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,i)=>this.onStorageEvent(e,i),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=xb(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const i of Object.keys(this.listeners)){const r=this.storage.getItem(i),o=this.localCache[i];r!==o&&e(i,o,r)}}onStorageEvent(e,i=!1){if(!e.key){this.forAllChangedKeys((d,p,_)=>{this.notifyListeners(d,_)});return}const r=e.key;i?this.detachListener():this.stopPolling();const o=()=>{const d=this.storage.getItem(r);!i&&this.localCache[r]===d||this.notifyListeners(r,d)},c=this.storage.getItem(r);Xx()&&c!==e.newValue&&e.newValue!==e.oldValue?setTimeout(o,bC):o()}notifyListeners(e,i){this.localCache[e]=i;const r=this.listeners[e];if(r)for(const o of Array.from(r))o(i&&JSON.parse(i))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,i,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:i,newValue:r}),!0)})},EC)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,i){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(i)}_removeListener(e,i){this.listeners[e]&&(this.listeners[e].delete(i),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,i){await super._set(e,i),this.localCache[e]=JSON.stringify(i)}async _get(e){const i=await super._get(e);return this.localCache[e]=JSON.stringify(i),i}async _remove(e){await super._remove(e),delete this.localCache[e]}}Vb.type="LOCAL";const TC=Vb;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kb extends Mb{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,i){}_removeListener(e,i){}}kb.type="SESSION";const Lb=kb;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function SC(s){return Promise.all(s.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(i){return{fulfilled:!1,reason:i}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rh{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const i=this.receivers.find(o=>o.isListeningto(e));if(i)return i;const r=new Rh(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const i=e,{eventId:r,eventType:o,data:c}=i.data,d=this.handlersMap[o];if(!(d!=null&&d.size))return;i.ports[0].postMessage({status:"ack",eventId:r,eventType:o});const p=Array.from(d).map(async y=>y(i.origin,c)),_=await SC(p);i.ports[0].postMessage({status:"done",eventId:r,eventType:o,response:_})}_subscribe(e,i){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(i)}_unsubscribe(e,i){this.handlersMap[e]&&i&&this.handlersMap[e].delete(i),(!i||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Rh.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function up(s="",e=10){let i="";for(let r=0;r<e;r++)i+=Math.floor(Math.random()*10);return s+i}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AC{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,i,r=50){const o=typeof MessageChannel<"u"?new MessageChannel:null;if(!o)throw new Error("connection_unavailable");let c,d;return new Promise((p,_)=>{const y=up("",20);o.port1.start();const T=setTimeout(()=>{_(new Error("unsupported_event"))},r);d={messageChannel:o,onMessage(A){const x=A;if(x.data.eventId===y)switch(x.data.status){case"ack":clearTimeout(T),c=setTimeout(()=>{_(new Error("timeout"))},3e3);break;case"done":clearTimeout(c),p(x.data.response);break;default:clearTimeout(T),clearTimeout(c),_(new Error("invalid_response"));break}}},this.handlers.add(d),o.port1.addEventListener("message",d.onMessage),this.target.postMessage({eventType:e,eventId:y,data:i},[o.port2])}).finally(()=>{d&&this.removeMessageHandler(d)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ci(){return window}function wC(s){Ci().location.href=s}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ub(){return typeof Ci().WorkerGlobalScope<"u"&&typeof Ci().importScripts=="function"}async function RC(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function xC(){var s;return((s=navigator==null?void 0:navigator.serviceWorker)==null?void 0:s.controller)||null}function CC(){return Ub()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jb="firebaseLocalStorageDb",IC=1,lh="firebaseLocalStorage",Pb="fbase_key";class $o{constructor(e){this.request=e}toPromise(){return new Promise((e,i)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{i(this.request.error)})})}}function xh(s,e){return s.transaction([lh],e?"readwrite":"readonly").objectStore(lh)}function NC(){const s=indexedDB.deleteDatabase(jb);return new $o(s).toPromise()}function _m(){const s=indexedDB.open(jb,IC);return new Promise((e,i)=>{s.addEventListener("error",()=>{i(s.error)}),s.addEventListener("upgradeneeded",()=>{const r=s.result;try{r.createObjectStore(lh,{keyPath:Pb})}catch(o){i(o)}}),s.addEventListener("success",async()=>{const r=s.result;r.objectStoreNames.contains(lh)?e(r):(r.close(),await NC(),e(await _m()))})})}async function l0(s,e,i){const r=xh(s,!0).put({[Pb]:e,value:i});return new $o(r).toPromise()}async function DC(s,e){const i=xh(s,!1).get(e),r=await new $o(i).toPromise();return r===void 0?null:r.value}function o0(s,e){const i=xh(s,!0).delete(e);return new $o(i).toPromise()}const OC=800,MC=3;class zb{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await _m(),this.db)}async _withRetries(e){let i=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(i++>MC)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return Ub()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Rh._getInstance(CC()),this.receiver._subscribe("keyChanged",async(e,i)=>({keyProcessed:(await this._poll()).includes(i.key)})),this.receiver._subscribe("ping",async(e,i)=>["keyChanged"])}async initializeSender(){var i,r;if(this.activeServiceWorker=await RC(),!this.activeServiceWorker)return;this.sender=new AC(this.activeServiceWorker);const e=await this.sender._send("ping",{},800);e&&(i=e[0])!=null&&i.fulfilled&&(r=e[0])!=null&&r.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||xC()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await _m();return await l0(e,ah,"1"),await o0(e,ah),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,i){return this._withPendingWrite(async()=>(await this._withRetries(r=>l0(r,e,i)),this.localCache[e]=i,this.notifyServiceWorker(e)))}async _get(e){const i=await this._withRetries(r=>DC(r,e));return this.localCache[e]=i,i}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(i=>o0(i,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(o=>{const c=xh(o,!1).getAll();return new $o(c).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const i=[],r=new Set;if(e.length!==0)for(const{fbase_key:o,value:c}of e)r.add(o),JSON.stringify(this.localCache[o])!==JSON.stringify(c)&&(this.notifyListeners(o,c),i.push(o));for(const o of Object.keys(this.localCache))this.localCache[o]&&!r.has(o)&&(this.notifyListeners(o,null),i.push(o));return i}notifyListeners(e,i){this.localCache[e]=i;const r=this.listeners[e];if(r)for(const o of Array.from(r))o(i)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),OC)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,i){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(i)}_removeListener(e,i){this.listeners[e]&&(this.listeners[e].delete(i),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}zb.type="LOCAL";const VC=zb;new Qo(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kC(s,e){return e?$i(e):(ge(s._popupRedirectResolver,s,"argument-error"),s._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cp extends Nb{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Ja(e,this._buildIdpRequest())}_linkToIdToken(e,i){return Ja(e,this._buildIdpRequest(i))}_getReauthenticationResolver(e){return Ja(e,this._buildIdpRequest())}_buildIdpRequest(e){const i={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(i.idToken=e),i}}function LC(s){return pC(s.auth,new cp(s),s.bypassAuthState)}function UC(s){const{auth:e,user:i}=s;return ge(i,e,"internal-error"),mC(i,new cp(s),s.bypassAuthState)}async function jC(s){const{auth:e,user:i}=s;return ge(i,e,"internal-error"),dC(i,new cp(s),s.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bb{constructor(e,i,r,o,c=!1){this.auth=e,this.resolver=r,this.user=o,this.bypassAuthState=c,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(i)?i:[i]}execute(){return new Promise(async(e,i)=>{this.pendingPromise={resolve:e,reject:i};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:i,sessionId:r,postBody:o,tenantId:c,error:d,type:p}=e;if(d){this.reject(d);return}const _={auth:this.auth,requestUri:i,sessionId:r,tenantId:c||void 0,postBody:o||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(p)(_))}catch(y){this.reject(y)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return LC;case"linkViaPopup":case"linkViaRedirect":return jC;case"reauthViaPopup":case"reauthViaRedirect":return UC;default:ns(this.auth,"internal-error")}}resolve(e){is(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){is(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const PC=new Qo(2e3,1e4);class Ha extends Bb{constructor(e,i,r,o,c){super(e,i,o,c),this.provider=r,this.authWindow=null,this.pollId=null,Ha.currentPopupAction&&Ha.currentPopupAction.cancel(),Ha.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return ge(e,this.auth,"internal-error"),e}async onExecution(){is(this.filter.length===1,"Popup operations only handle one event");const e=up();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(i=>{this.reject(i)}),this.resolver._isIframeWebStorageSupported(this.auth,i=>{i||this.reject(xi(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)==null?void 0:e.associatedEvent)||null}cancel(){this.reject(xi(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Ha.currentPopupAction=null}pollUserCancellation(){const e=()=>{var i,r;if((r=(i=this.authWindow)==null?void 0:i.window)!=null&&r.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(xi(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,PC.get())};e()}}Ha.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zC="pendingRedirect",Bc=new Map;class BC extends Bb{constructor(e,i,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],i,void 0,r),this.eventId=null}async execute(){let e=Bc.get(this.auth._key());if(!e){try{const r=await qC(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(i){e=()=>Promise.reject(i)}Bc.set(this.auth._key(),e)}return this.bypassAuthState||Bc.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const i=await this.auth._redirectUserForId(e.eventId);if(i)return this.user=i,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function qC(s,e){const i=GC(e),r=FC(s);if(!await r._isAvailable())return!1;const o=await r._get(i)==="true";return await r._remove(i),o}function HC(s,e){Bc.set(s._key(),e)}function FC(s){return $i(s._redirectPersistence)}function GC(s){return zc(zC,s.config.apiKey,s.name)}async function KC(s,e,i=!1){if(Un(s.app))return Promise.reject(Zi(s));const r=Xo(s),o=kC(r,e),d=await new BC(r,o,i).execute();return d&&!i&&(delete d.user._redirectEventId,await r._persistUserIfCurrent(d.user),await r._setRedirectUser(null,e)),d}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const QC=600*1e3;class YC{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let i=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(i=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!XC(e)||(this.hasHandledPotentialRedirect=!0,i||(this.queuedRedirectEvent=e,i=!0)),i}sendToConsumer(e,i){var r;if(e.error&&!qb(e)){const o=((r=e.error.code)==null?void 0:r.split("auth/")[1])||"internal-error";i.onError(xi(this.auth,o))}else i.onAuthEvent(e)}isEventForConsumer(e,i){const r=i.eventId===null||!!e.eventId&&e.eventId===i.eventId;return i.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=QC&&this.cachedEventUids.clear(),this.cachedEventUids.has(u0(e))}saveEventToCache(e){this.cachedEventUids.add(u0(e)),this.lastProcessedEventTime=Date.now()}}function u0(s){return[s.type,s.eventId,s.sessionId,s.tenantId].filter(e=>e).join("-")}function qb({type:s,error:e}){return s==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function XC(s){switch(s.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return qb(s);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function JC(s,e={}){return ul(s,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $C=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,ZC=/^https?/;async function WC(s){if(s.config.emulator)return;const{authorizedDomains:e}=await JC(s);for(const i of e)try{if(eI(i))return}catch{}ns(s,"unauthorized-domain")}function eI(s){const e=gm(),{protocol:i,hostname:r}=new URL(e);if(s.startsWith("chrome-extension://")){const d=new URL(s);return d.hostname===""&&r===""?i==="chrome-extension:"&&s.replace("chrome-extension://","")===e.replace("chrome-extension://",""):i==="chrome-extension:"&&d.hostname===r}if(!ZC.test(i))return!1;if($C.test(s))return r===s;const o=s.replace(/\./g,"\\.");return new RegExp("^(.+\\."+o+"|"+o+")$","i").test(r)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tI=new Qo(3e4,6e4);function c0(){const s=Ci().___jsl;if(s!=null&&s.H){for(const e of Object.keys(s.H))if(s.H[e].r=s.H[e].r||[],s.H[e].L=s.H[e].L||[],s.H[e].r=[...s.H[e].L],s.CP)for(let i=0;i<s.CP.length;i++)s.CP[i]=null}}function nI(s){return new Promise((e,i)=>{var o,c,d;function r(){c0(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{c0(),i(xi(s,"network-request-failed"))},timeout:tI.get()})}if((c=(o=Ci().gapi)==null?void 0:o.iframes)!=null&&c.Iframe)e(gapi.iframes.getContext());else if((d=Ci().gapi)!=null&&d.load)r();else{const p=sC("iframefcb");return Ci()[p]=()=>{gapi.load?r():i(xi(s,"network-request-failed"))},nC(`${iC()}?onload=${p}`).catch(_=>i(_))}}).catch(e=>{throw qc=null,e})}let qc=null;function iI(s){return qc=qc||nI(s),qc}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sI=new Qo(5e3,15e3),rI="__/auth/iframe",aI="emulator/auth/iframe",lI={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},oI=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function uI(s){const e=s.config;ge(e.authDomain,s,"auth-domain-config-required");const i=e.emulator?sp(e,aI):`https://${s.config.authDomain}/${rI}`,r={apiKey:e.apiKey,appName:s.name,v:sl},o=oI.get(s.config.apiHost);o&&(r.eid=o);const c=s._getFrameworks();return c.length&&(r.fw=c.join(",")),`${i}?${Bo(r).slice(1)}`}async function cI(s){const e=await iI(s),i=Ci().gapi;return ge(i,s,"internal-error"),e.open({where:document.body,url:uI(s),messageHandlersFilter:i.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:lI,dontclear:!0},r=>new Promise(async(o,c)=>{await r.restyle({setHideOnLeave:!1});const d=xi(s,"network-request-failed"),p=Ci().setTimeout(()=>{c(d)},sI.get());function _(){Ci().clearTimeout(p),o(r)}r.ping(_).then(_,()=>{c(d)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hI={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},fI=500,dI=600,mI="_blank",pI="http://localhost";class h0{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function gI(s,e,i,r=fI,o=dI){const c=Math.max((window.screen.availHeight-o)/2,0).toString(),d=Math.max((window.screen.availWidth-r)/2,0).toString();let p="";const _={...hI,width:r.toString(),height:o.toString(),top:c,left:d},y=Wt().toLowerCase();i&&(p=Tb(y)?mI:i),Eb(y)&&(e=e||pI,_.scrollbars="yes");const T=Object.entries(_).reduce((x,[B,K])=>`${x}${B}=${K},`,"");if(Yx(y)&&p!=="_self")return yI(e||"",p),new h0(null);const A=window.open(e||"",p,T);ge(A,s,"popup-blocked");try{A.focus()}catch{}return new h0(A)}function yI(s,e){const i=document.createElement("a");i.href=s,i.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),i.dispatchEvent(r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _I="__/auth/handler",vI="emulator/auth/handler",EI=encodeURIComponent("fac");async function f0(s,e,i,r,o,c){ge(s.config.authDomain,s,"auth-domain-config-required"),ge(s.config.apiKey,s,"invalid-api-key");const d={apiKey:s.config.apiKey,appName:s.name,authType:i,redirectUrl:r,v:sl,eventId:o};if(e instanceof Db){e.setDefaultLanguage(s.languageCode),d.providerId=e.providerId||"",QS(e.getCustomParameters())||(d.customParameters=JSON.stringify(e.getCustomParameters()));for(const[T,A]of Object.entries({}))d[T]=A}if(e instanceof Jo){const T=e.getScopes().filter(A=>A!=="");T.length>0&&(d.scopes=T.join(","))}s.tenantId&&(d.tid=s.tenantId);const p=d;for(const T of Object.keys(p))p[T]===void 0&&delete p[T];const _=await s._getAppCheckToken(),y=_?`#${EI}=${encodeURIComponent(_)}`:"";return`${bI(s)}?${Bo(p).slice(1)}${y}`}function bI({config:s}){return s.emulator?sp(s,vI):`https://${s.authDomain}/${_I}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Gd="webStorageSupport";class TI{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=Lb,this._completeRedirectFn=KC,this._overrideRedirectResult=HC}async _openPopup(e,i,r,o){var d;is((d=this.eventManagers[e._key()])==null?void 0:d.manager,"_initialize() not called before _openPopup()");const c=await f0(e,i,r,gm(),o);return gI(e,c,up())}async _openRedirect(e,i,r,o){await this._originValidation(e);const c=await f0(e,i,r,gm(),o);return wC(c),new Promise(()=>{})}_initialize(e){const i=e._key();if(this.eventManagers[i]){const{manager:o,promise:c}=this.eventManagers[i];return o?Promise.resolve(o):(is(c,"If manager is not set, promise should be"),c)}const r=this.initAndGetManager(e);return this.eventManagers[i]={promise:r},r.catch(()=>{delete this.eventManagers[i]}),r}async initAndGetManager(e){const i=await cI(e),r=new YC(e);return i.register("authEvent",o=>(ge(o==null?void 0:o.authEvent,e,"invalid-auth-event"),{status:r.onEvent(o.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=i,r}_isIframeWebStorageSupported(e,i){this.iframes[e._key()].send(Gd,{type:Gd},o=>{var d;const c=(d=o==null?void 0:o[0])==null?void 0:d[Gd];c!==void 0&&i(!!c),ns(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const i=e._key();return this.originValidationPromises[i]||(this.originValidationPromises[i]=WC(e)),this.originValidationPromises[i]}get _shouldInitProactively(){return xb()||bb()||lp()}}const SI=TI;var d0="@firebase/auth",m0="1.12.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AI{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)==null?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const i=this.auth.onIdTokenChanged(r=>{e((r==null?void 0:r.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,i),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const i=this.internalListeners.get(e);i&&(this.internalListeners.delete(e),i(),this.updateProactiveRefresh())}assertAuthConfigured(){ge(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wI(s){switch(s){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function RI(s){$a(new zr("auth",(e,{options:i})=>{const r=e.getProvider("app").getImmediate(),o=e.getProvider("heartbeat"),c=e.getProvider("app-check-internal"),{apiKey:d,authDomain:p}=r.options;ge(d&&!d.includes(":"),"invalid-api-key",{appName:r.name});const _={apiKey:d,authDomain:p,clientPlatform:s,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:Cb(s)},y=new eC(r,o,c,_);return aC(y,i),y},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,i,r)=>{e.getProvider("auth-internal").initialize()})),$a(new zr("auth-internal",e=>{const i=Xo(e.getProvider("auth").getImmediate());return(r=>new AI(r))(i)},"PRIVATE").setInstantiationMode("EXPLICIT")),Qs(d0,m0,wI(s)),Qs(d0,m0,"esm2020")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xI=300,CI=x0("authIdTokenMaxAge")||xI;let p0=null;const II=s=>async e=>{const i=e&&await e.getIdTokenResult(),r=i&&(new Date().getTime()-Date.parse(i.issuedAtTime))/1e3;if(r&&r>CI)return;const o=i==null?void 0:i.token;p0!==o&&(p0=o,await fetch(s,{method:o?"POST":"DELETE",headers:o?{Authorization:`Bearer ${o}`}:{}}))};function NI(s=M0()){const e=Am(s,"auth");if(e.isInitialized())return e.getImmediate();const i=rC(s,{popupRedirectResolver:SI,persistence:[VC,TC,Lb]}),r=x0("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){const c=new URL(r,location.origin);if(location.origin===c.origin){const d=II(c.toString());vC(i,d,()=>d(i.currentUser)),_C(i,p=>d(p))}}const o=w0("auth");return o&&lC(i,`http://${o}`),i}function DI(){var s;return((s=document.getElementsByTagName("head"))==null?void 0:s[0])??document}tC({loadJS(s){return new Promise((e,i)=>{const r=document.createElement("script");r.setAttribute("src",s),r.onload=e,r.onerror=o=>{const c=xi("internal-error");c.customData=o,i(c)},r.type="text/javascript",r.charset="UTF-8",DI().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});RI("Browser");const OI=()=>{try{const s=typeof window<"u"?window.__firebase_config:void 0;if(s)return typeof s=="string"?JSON.parse(s):s}catch(s){console.error("Error parsing firebase config",s)}return null},Kd=OI(),Fa=typeof window<"u"&&window.__app_id?window.__app_id:"hassi-berkane-v1";let Co,vm,Em;if(Kd&&Kd.apiKey)try{Co=J_().length===0?O0(Kd):J_()[0],vm=NI(Co),Em=fx(Co)}catch(s){console.error("Firebase init error",s)}const Gt={app:Co,auth:vm,db:Em,isAvailable:!!(Co&&vm&&Em)},MI=async()=>{if(Gt.auth)try{const s=typeof window<"u"?window.__initial_auth_token:void 0;s?await yC(Gt.auth,s):await fC(Gt.auth)}catch(s){console.warn("Auth failed, falling back to local mode",s),Gt.isAvailable=!1}},VI=()=>{try{const s=localStorage.getItem("hassi_berkane_data");return s?JSON.parse(s):[]}catch(s){return console.error("Erreur lecture locale",s),[]}},g0=s=>{try{const e=localStorage.getItem("hassi_berkane_monthly");return(e?JSON.parse(e):{})[s]||null}catch{return null}},kI=()=>{const[s,e]=We.useState(VI),[i,r]=We.useState(s.length===0),[o,c]=We.useState(Gt.isAvailable);return We.useEffect(()=>{if(o&&Gt.db){r(!0);const _=Kv(Gt.db,"artifacts",Fa,"public","data","employees"),y=hb(_,T=>{const x=T.docs.map(B=>({id:B.id,...B.data()})).sort((B,K)=>(B.nom||"").localeCompare(K.nom||""));e(x),localStorage.setItem("hassi_berkane_data",JSON.stringify(x)),r(!1)},T=>{console.warn("Erreur Firebase, bascule en mode local",T),c(!1),r(!1)});return()=>y()}else r(!1)},[o]),{employees:s,loading:i,saveEmployee:async(_,y)=>{if(y)if(o&&Gt.db)await wx(Uo(Gt.db,"artifacts",Fa,"public","data","employees",y),{..._});else{const T=s.map(A=>A.id===y?{..._,id:y}:A);e(T),localStorage.setItem("hassi_berkane_data",JSON.stringify(T))}else if(o&&Gt.db)await xx(Kv(Gt.db,"artifacts",Fa,"public","data","employees"),_);else{const T=Date.now().toString(),A={..._,id:T},x=[...s,A];e(x),localStorage.setItem("hassi_berkane_data",JSON.stringify(x))}},deleteEmployee:async _=>{if(o&&Gt.db)await Rx(Uo(Gt.db,"artifacts",Fa,"public","data","employees",_));else{const y=s.filter(T=>T.id!==_);e(y),localStorage.setItem("hassi_berkane_data",JSON.stringify(y))}},isFirebaseMode:o}},LI=(s,e,i,r)=>{const o=()=>`monthly_${s}_${e}_${i}`,[c,d]=We.useState(()=>s?g0(o()):null),[p,_]=We.useState(!1);return We.useEffect(()=>{if(!s){d(null);return}const T=o(),A=i+1,x={employeeId:s,month:i,year:e,workedDays:[],manualNbJours:"",numActe:"33",datePrise:`${e}-${A.toString().padStart(2,"0")}-01`,dateFin:`${e}-${A.toString().padStart(2,"0")}-${new Date(e,i+1,0).getDate()}`,dateEng:`${e}-${A.toString().padStart(2,"0")}-02`};if(!c||r)if(_(!0),r&&Gt.db){const B=Uo(Gt.db,"artifacts",Fa,"public","data","monthly_records",T),K=hb(B,Z=>{if(Z.exists()){const W=Z.data();d(W);const ae=localStorage.getItem("hassi_berkane_monthly"),ue=ae?JSON.parse(ae):{};ue[T]=W,localStorage.setItem("hassi_berkane_monthly",JSON.stringify(ue))}else d(x);_(!1)});return()=>K()}else{const B=g0(T);d(B||x),_(!1)}},[s,e,i,r]),{data:c,loading:p,saveMonthlyData:async T=>{if(!s)return;const A=o(),x={...T,employeeId:s,month:i,year:e,updatedAt:new Date().toISOString()};d(x);const B=localStorage.getItem("hassi_berkane_monthly"),K=B?JSON.parse(B):{};if(K[A]=x,localStorage.setItem("hassi_berkane_monthly",JSON.stringify(K)),r&&Gt.db)try{await Ax(Uo(Gt.db,"artifacts",Fa,"public","data","monthly_records",A),x,{merge:!0})}catch(Z){console.error("Erreur sauvegarde mensuelle",Z)}}}},UI=(s,e)=>{if(!s||!e)return{nbJours:0,dailyRate:0,totalBrut:"0.00",rcarAmount:"0.00",totalNet:"0.00"};const i=e.manualNbJours!==""?parseFloat(e.manualNbJours):e.workedDays.length,r=Yd[s.emploi]||0,o=i*r,c=s.rcarEnabled?o*.06:0,d=o-c;return{nbJours:i,dailyRate:r,totalBrut:o.toFixed(2),rcarAmount:c.toFixed(2),totalNet:d.toFixed(2)}},jI=({employee:s,monthlyData:e,salary:i})=>{const r=s.emploi||"Ouvrier Spcialis",o=c=>{if(!c)return"XX-XX-XXXX";const d=new Date(c);return`${d.getDate().toString().padStart(2,"0")}-${(d.getMonth()+1).toString().padStart(2,"0")}-${d.getFullYear()}`};return b.jsxs("div",{className:"w-[21cm] min-h-[29.6cm] mx-auto pt-[0.5cm] px-[1.5cm] pb-[0.5cm] bg-white flex flex-col text-left font-times text-black",children:[b.jsxs("div",{className:"flex flex-col mb-4 font-times text-[11pt] leading-tight w-96",children:[b.jsx("p",{className:"font-bold",children:"ROYAUME DU MAROC"}),b.jsx("p",{children:"MINISTERE DE LINTERIEUR"}),b.jsx("p",{children:"PROVINCE DE NADOR"}),b.jsx("p",{children:"CERCLE DE LOUTA"}),b.jsx("p",{children:"CAIDAT HASSI BERKANE"}),b.jsx("p",{className:"font-bold underline decoration-1 underline-offset-2",children:"Commune de Hassi Berkane"})]}),b.jsx("div",{className:"flex justify-center mb-4",children:b.jsx("h2",{className:"text-[20pt] font-bold uppercase tracking-wide px-6 py-1 bg-gray-300 print:bg-gray-300",children:"DECISION"})}),b.jsx("p",{className:"font-times font-bold text-[14pt] mb-4",children:"Le prsident de la commune de HASSI BERKANE ."}),b.jsxs("div",{className:"space-y-1 mb-4 text-justify pl-4 font-times font-bold text-[12pt] leading-snug",children:[b.jsxs("p",{className:"relative pl-5",children:[b.jsx("span",{className:"absolute left-0 top-0",children:"-"})," Vu le dahir N1.58.008 du 4 Chaoual 1377 ( 24 Fvrier 1958) portant statut Gnral de la fonction publique."]}),b.jsxs("p",{className:"relative pl-5",children:[b.jsx("span",{className:"absolute left-0 top-0",children:"-"})," Vu le dahir N1.15.85 du Ramadan 1436 (07-07-2015) Portant lExcution de La loi n 14.113 Relative  lorganisation des collectivits territoriales."]}),b.jsxs("p",{className:"relative pl-5",children:[b.jsx("span",{className:"absolute left-0 top-0",children:"-"})," Vu le dcret N 451-17-2 du 4 Rabia 1er 1439 (23 Novembre 2017) relatif  la Comptabilit publique des communes et des tablissements de coopration entre les communes."]}),b.jsxs("p",{className:"relative pl-5",children:[b.jsx("span",{className:"absolute left-0 top-0",children:"-"})," Vu la lettre dengagement portant lemploi dun ",r.toLowerCase()," occasionnel N :",e.numActe," ."]}),b.jsxs("p",{className:"relative pl-5",children:[b.jsx("span",{className:"absolute left-0 top-0",children:"-"})," Vu les crdits ouverts  larticle ",s.codeBudget," au titre de lexercice ",e.year,"."]})]}),b.jsx("div",{className:"flex justify-center mb-4",children:b.jsx("h3",{className:"text-[14pt] font-bold uppercase tracking-wide px-8 py-1 bg-gray-300 print:bg-gray-300",children:"DECIDE"})}),b.jsxs("div",{className:"space-y-4 text-justify leading-tight",children:[b.jsxs("div",{children:[b.jsx("div",{className:"mb-2",children:b.jsx("span",{className:"font-times font-bold text-[12pt] underline decoration-1 underline-offset-2 bg-gray-300 print:bg-gray-300 px-2 py-0.5",children:"Article Premier :"})}),b.jsxs("div",{className:"font-times text-[12pt] pl-4 leading-relaxed",children:["A compter du : ",b.jsxs("span",{className:"text-[14pt] font-bold",children:["01 ",b0[e.month]," ",e.year]}),": ",b.jsxs("span",{className:"text-[14pt] font-bold uppercase",children:[s.nom," ",s.prenom," (CIN: ",s.cin,")"]}),"; ",b.jsx("span",{className:"text-[14pt] font-bold",children:r})," ; affect  la commune de HASSI BERKANE ayant comme fonction ",s.fonction.toLowerCase(),"."]})]}),b.jsxs("div",{children:[b.jsxs("div",{className:"mb-2",children:[b.jsx("span",{className:"font-times font-bold text-[12pt] underline decoration-1 underline-offset-2 bg-gray-300 print:bg-gray-300 px-2 py-0.5",children:"Article Deuxime :"}),b.jsx("span",{className:"font-times text-[12pt] ml-2",children:"Le salaire journalier de lintress slve  :"})]}),b.jsxs("div",{className:"pl-4",children:[b.jsxs("div",{className:"my-1 font-arial font-bold text-[15pt] text-center",children:[i.nbJours,"j X ",i.dailyRate.toFixed(2)," DHS = ",i.totalBrut," DHS",s.rcarEnabled&&b.jsxs(b.Fragment,{children:[" - ",i.rcarAmount," DHS = ",i.totalNet," DHS"]})]}),b.jsxs("p",{className:"font-times font-bold text-[12pt]",children:[", est vers  son compte ",s.bankName||"Al Barid Bank"," N: ",b.jsx("span",{className:"font-times font-bold text-[15pt] ml-2",children:s.rib})," ."]})]})]}),b.jsxs("div",{children:[b.jsx("div",{className:"mb-1",children:b.jsx("span",{className:"font-times font-bold text-[12pt] underline decoration-1 underline-offset-2 bg-gray-300 print:bg-gray-300 px-2 py-0.5",children:"Article Troisime :"})}),b.jsx("p",{className:"font-times font-bold text-[12pt] pl-4",children:"Le percepteur de Zaio est charg de ce qui concerne lapplication de la prsente dcision."})]})]}),b.jsxs("div",{className:"mt-8 text-right font-bold font-times text-[12pt]",children:[b.jsxs("p",{className:"mb-6 underline decoration-1 underline-offset-4",children:["Hassi Berkane Le: ",o(e.dateFin)]}),b.jsx("div",{className:"text-center inline-block min-w-[250px] mr-4",children:b.jsx("p",{className:"font-bold underline decoration-1 underline-offset-4 uppercase",children:"Le prsident"})})]})]})},PI=({employee:s,monthlyData:e})=>{const r=s.emploi.toLowerCase().includes("ouvrire")?"Mme":"M.",o=s.emploi||"Ouvrier Spcialis",c=d=>{if(!d)return"XX/XX/XXXX";const p=new Date(d);return`${p.getDate().toString().padStart(2,"0")}/${(p.getMonth()+1).toString().padStart(2,"0")}/${p.getFullYear()}`};return b.jsxs("div",{className:"w-[21cm] min-h-[29.6cm] mx-auto pt-[1cm] px-[2cm] pb-[1cm] bg-white flex flex-col text-left font-times text-black",children:[b.jsxs("div",{className:"flex flex-col mb-4 font-bold uppercase text-[12pt] leading-tight w-full",children:[b.jsx("p",{className:"underline decoration-1 underline-offset-2",children:"ROYAUME DU MAROC"}),b.jsx("p",{children:"MINISTERE DE LINTERIEUR"}),b.jsx("p",{children:"PROVINCE DE NADOR"}),b.jsx("p",{children:"CERCLE DE LOUTA"}),b.jsx("p",{children:"CAIDAT HASSI BERKANE"}),b.jsx("p",{className:"underline decoration-1 underline-offset-2",children:"C .DE HASSI BERKANE"}),b.jsxs("p",{className:"mt-2",children:["N :",e.numActe,"/",e.year,"/S.P"]})]}),b.jsx("div",{className:"flex justify-center mb-4",children:b.jsx("h2",{className:"text-[22pt] font-bold underline decoration-1 underline-offset-4 tracking-wide",children:"Lettre Dengagement"})}),b.jsxs("div",{className:"text-center mb-6 space-y-1 font-bold text-[14pt]",children:[b.jsx("p",{children:"Le prsident de la commune de Hassi Berkane"}),b.jsx("p",{className:"uppercase",children:"A"}),b.jsxs("p",{className:"uppercase tracking-wide",children:["(",r," :",s.nom," ",s.prenom,")"]})]}),b.jsxs("div",{className:"space-y-4 text-justify leading-relaxed text-[13pt] font-medium",children:[b.jsxs("p",{className:"indent-16",children:["Jai lhonneur de vous faire connaitre que vous tes employ  la commune de HASSI BERKANE, en qualit ",b.jsxs("span",{className:"font-bold",children:["d",o.toLowerCase()]}),"."]}),b.jsxs("p",{className:"indent-16",children:["En consquence vous tes  compter du : ",b.jsx("span",{className:"font-bold",children:c(e.datePrise)}),", occup un emploi de la main duvre rtribu sur les crdits du rubrique budgtaire :",s.codeBudget,",vous percevez  ce titre un salaire mensuel. Vous aurez droit en outre le cas chant aux allocations familiales servies aux agents de votre catgorie."]}),b.jsx("p",{className:"indent-16",children:"Veuillez agrer, monsieur, lassurance de ma considration Distingue."})]}),b.jsxs("div",{className:"mt-8 pt-0",children:[b.jsx("div",{className:"flex justify-end mb-4 text-[13pt] font-bold",children:b.jsxs("div",{className:"text-center min-w-[300px]",children:[b.jsxs("p",{className:"underline decoration-1 underline-offset-4 mb-2 uppercase",children:["HASSI BERKANE Le : ",c(e.dateEng)]}),b.jsx("p",{className:"underline decoration-1 underline-offset-4 uppercase",children:"Le Prsident"})]})}),b.jsxs("div",{className:"flex flex-col items-start font-bold text-[13pt]",children:[b.jsxs("p",{children:["Date de Prise de service : ",c(e.datePrise)]}),b.jsx("p",{className:"mt-2 ml-16 underline decoration-1 underline-offset-2",children:"Lu et Accept"})]})]})]})},zI=({employee:s,monthlyData:e,salary:i})=>{const r=c=>{if(!c)return"XX/XX/XXXX";const d=new Date(c);return`${d.getDate().toString().padStart(2,"0")}/${(d.getMonth()+1).toString().padStart(2,"0")}/${d.getFullYear()}`},o=`Du:${r(e.datePrise)}
au:${r(e.dateFin)}`;return b.jsxs("div",{className:"w-[21cm] mx-auto pt-[0.5cm] px-[1cm] pb-[0.5cm] bg-white flex flex-col text-left font-arial text-black text-[11pt] print:h-[29.6cm] min-h-[29.6cm]",children:[b.jsxs("div",{className:"font-bold uppercase leading-snug mb-2 text-[10pt] w-full border-b-0",children:[b.jsx("p",{children:"ROUYAUME DU MAROC"}),b.jsx("p",{children:"MINISTERE DE L'INTERIEURE"}),b.jsx("p",{children:"PROVINCE DE NADOR"}),b.jsx("p",{children:"CERCLE DE LOUTA"}),b.jsx("p",{children:"CAIDAT HASSI BERKANE"}),b.jsx("p",{children:"C/T DE HASSI BERKANE"})]}),b.jsx("div",{className:"text-center py-2 mb-4",children:b.jsx("h2",{className:"font-bold font-times text-[18pt] text-black",children:"Etat de Liquidation"})}),b.jsx("div",{className:"text-center mb-4",children:b.jsxs("h3",{className:"font-bold text-[14pt]",children:["Exercice ",e.year]})}),b.jsxs("table",{className:"w-full border-collapse border-[2px] border-black mb-1 text-black",children:[b.jsx("thead",{children:b.jsxs("tr",{className:"bg-[#bfbfbf] text-center h-10 align-middle",children:[b.jsx("th",{className:"border-[2px] border-black py-1 w-[20%]",children:"Prnom"}),b.jsx("th",{className:"border-[2px] border-black py-1 w-[20%]",children:"Nom"}),b.jsx("th",{className:"border-[2px] border-black py-1 w-[15%]",children:"C.I.N.N"}),b.jsxs("th",{className:"border-[2px] border-black py-1 w-[15%] leading-tight",children:["Code",b.jsx("br",{}),"Budgtaire"]}),b.jsx("th",{className:"border-[2px] border-black py-1 w-[30%]",children:"Emploi"})]})}),b.jsx("tbody",{children:b.jsxs("tr",{className:"text-center font-bold h-14 align-middle",children:[b.jsx("td",{className:"border-[2px] border-black uppercase",children:s.prenom}),b.jsx("td",{className:"border-[2px] border-black uppercase",children:s.nom}),b.jsx("td",{className:"border-[2px] border-black uppercase",children:s.cin}),b.jsx("td",{className:"border-[2px] border-black",children:s.codeBudget}),b.jsx("td",{className:"border-[2px] border-black",children:s.emploi})]})})]}),b.jsx("div",{className:"mb-1"}),b.jsxs("table",{className:"w-full border-collapse border-[2px] border-black text-center font-bold text-black",children:[b.jsx("thead",{children:b.jsxs("tr",{className:"bg-[#bfbfbf] h-12 align-middle",children:[b.jsx("th",{className:"border-[2px] border-black py-1 w-[25%] text-left pl-2",children:"Nature des lments"}),b.jsxs("th",{className:"border-[2px] border-black py-1 w-[15%] leading-tight",children:["prix de la",b.jsx("br",{}),"journe"]}),b.jsxs("th",{className:"border-[2px] border-black py-1 w-[15%] leading-tight",children:["Nombre des",b.jsx("br",{}),"joures"]}),b.jsx("th",{className:"border-[2px] border-black py-1 w-[15%]",children:"Total"}),b.jsx("th",{className:"border-[2px] border-black py-1 w-[30%] whitespace-pre-line text-[10pt] leading-tight",children:o})]})}),b.jsxs("tbody",{children:[b.jsxs("tr",{className:"h-10 align-middle bg-[#bfbfbf] bg-opacity-30",children:[b.jsx("td",{className:"border-[2px] border-black text-left pl-2",children:s.emploi}),b.jsx("td",{className:"border-[2px] border-black bg-white",children:i.dailyRate.toFixed(2).replace(".",",")}),b.jsx("td",{className:"border-[2px] border-black bg-white",children:i.nbJours}),b.jsx("td",{className:"border-[2px] border-black bg-white",children:i.totalBrut.replace(".",",")}),b.jsx("td",{className:"border-[2px] border-black bg-white",children:"0"})]}),b.jsxs("tr",{className:"h-10 align-middle bg-[#bfbfbf] bg-opacity-30",children:[b.jsx("td",{className:"border-[2px] border-black text-left pl-2",children:"Charge de famille"}),b.jsx("td",{className:"border-[2px] border-black bg-white",children:"0"}),b.jsx("td",{className:"border-[2px] border-black bg-white",children:"0"}),b.jsx("td",{className:"border-[2px] border-black bg-white",children:"0,00"}),b.jsx("td",{className:"border-[2px] border-black bg-white",children:"0"})]}),b.jsxs("tr",{className:"h-10 align-middle bg-[#bfbfbf] bg-opacity-30",children:[b.jsx("td",{className:"border-[2px] border-black text-left pl-2",children:"Total Brute"}),b.jsx("td",{className:"border-[2px] border-black bg-white"}),b.jsx("td",{className:"border-[2px] border-black bg-white",children:"0"}),b.jsx("td",{className:"border-[2px] border-black bg-white",children:i.totalBrut.replace(".",",")}),b.jsx("td",{className:"border-[2px] border-black bg-white",children:"0,00"})]}),b.jsxs("tr",{className:"h-10 align-middle bg-[#bfbfbf] bg-opacity-30",children:[b.jsx("td",{className:"border-[2px] border-black text-left pl-2",children:"R.C.A.R"}),b.jsx("td",{className:"border-[2px] border-black bg-white"}),b.jsx("td",{className:"border-[2px] border-black bg-white",children:s.rcarEnabled?"6%":"0%"}),b.jsx("td",{className:"border-[2px] border-black bg-white",children:i.rcarAmount.replace(".",",")}),b.jsx("td",{className:"border-[2px] border-black bg-white",children:"0,00"})]}),b.jsxs("tr",{className:"h-12 align-middle",children:[b.jsx("td",{className:"border-[2px] border-black bg-[#bfbfbf]"}),b.jsx("td",{colSpan:2,className:"border-[2px] border-black text-right pr-4",children:"Net  Ordonnancer"}),b.jsx("td",{className:"border-[2px] border-black",children:i.totalNet.replace(".",",")}),b.jsx("td",{className:"border-[2px] border-black",children:"0,00"})]})]})]}),b.jsxs("div",{className:"mt-6 text-right font-bold text-[12pt]",children:[b.jsxs("p",{className:"mb-8 underline decoration-1 underline-offset-2",children:["HASSI BERKANE Le:",r(e.dateFin)]}),b.jsx("p",{className:"mr-8 underline decoration-1 underline-offset-2",children:"Leprsident"})]})]})},BI=({employees:s,selectedEmpId:e,setSelectedEmpId:i,activeTab:r,isFirebaseMode:o})=>{const[c,d]=Qd.useState(new Date().getMonth()),[p,_]=Qd.useState(new Date().getFullYear()),{data:y,loading:T,saveMonthlyData:A}=LI(e,p,c,o),[x,B]=We.useState(null);We.useEffect(()=>{B(y)},[y]);const K=x||y;We.useEffect(()=>{!e&&s.length>0&&i(s[0].id)},[s,e,i]);const Z=s.find(w=>w.id===e),W=new Date(p,c+1,0).getDate(),ae=UI(Z,K),ue=(w,R)=>{x&&B({...x,[w]:R})},he=()=>{x&&A(x)},ke=w=>{if(!K)return;const R=K.workedDays.includes(w)?K.workedDays.filter(V=>V!==w):[...K.workedDays,w],N={...K,workedDays:R,manualNbJours:""};B(N),A(N)},ze=()=>{if(!K)return;const w={...K,workedDays:Array.from({length:W},(R,N)=>N+1),manualNbJours:""};B(w),A(w)},Le=()=>{if(!K)return;const w={...K,workedDays:[],manualNbJours:""};B(w),A(w)};return Z?b.jsxs("div",{className:"max-w-7xl mx-auto pb-20",children:[b.jsxs("div",{className:"mb-8 bg-white p-6 lg:p-8 rounded-[2rem] shadow-sm border border-slate-100 print:hidden relative overflow-hidden",children:[T&&b.jsx("div",{className:"absolute inset-0 bg-white/80 z-10 flex items-center justify-center backdrop-blur-sm",children:b.jsx(v0,{className:"animate-spin text-blue-600",size:32})}),b.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6 mb-8",children:[b.jsxs("div",{children:[b.jsx("label",{className:"block text-[10px] font-black text-slate-400 uppercase mb-2 ml-4",children:"Agent concern"}),b.jsx("div",{className:"relative",children:b.jsx("select",{value:e||"",onChange:w=>i(w.target.value),className:"w-full p-4 bg-slate-50 border-none rounded-2xl outline-none font-bold text-slate-700 appearance-none cursor-pointer hover:bg-slate-100 transition-colors",children:s.map(w=>b.jsxs("option",{value:w.id,children:[w.nom," ",w.prenom]},w.id))})})]}),b.jsxs("div",{children:[b.jsx("label",{className:"block text-[10px] font-black text-slate-400 uppercase mb-2 ml-4",children:"Mois"}),b.jsx("div",{className:"relative",children:b.jsx("select",{value:c,onChange:w=>d(parseInt(w.target.value)),className:"w-full p-4 bg-slate-50 border-none rounded-2xl outline-none font-bold text-slate-700 appearance-none cursor-pointer hover:bg-slate-100 transition-colors",children:b0.map((w,R)=>b.jsx("option",{value:R,children:w},R))})})]}),b.jsxs("div",{children:[b.jsx("label",{className:"block text-[10px] font-black text-slate-400 uppercase mb-2 ml-4",children:"Anne / Exercice"}),b.jsx("input",{type:"number",value:p,onChange:w=>_(parseInt(w.target.value)),className:"w-full p-4 bg-slate-50 border-none rounded-2xl outline-none font-bold text-center font-arial"})]})]}),K&&b.jsxs(b.Fragment,{children:[b.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6 mb-8 bg-blue-50/50 p-6 rounded-3xl border border-blue-100/50",children:[b.jsxs("div",{children:[b.jsx("label",{className:"block text-[10px] font-black text-blue-600 uppercase mb-2 ml-2 tracking-wide",children:"N Acte"}),b.jsx("input",{type:"text",value:K.numActe,onChange:w=>ue("numActe",w.target.value),onBlur:he,className:"w-full p-3 bg-white border-none rounded-xl outline-none font-bold text-center font-arial shadow-sm"})]}),b.jsxs("div",{children:[b.jsx("label",{className:"block text-[10px] font-black text-blue-600 uppercase mb-2 ml-2 tracking-wide",children:"Prise service"}),b.jsx("input",{type:"date",value:K.datePrise,onChange:w=>ue("datePrise",w.target.value),onBlur:he,className:"w-full p-3 bg-white border-none rounded-xl outline-none font-bold font-arial shadow-sm cursor-pointer"})]}),b.jsxs("div",{children:[b.jsx("label",{className:"block text-[10px] font-black text-blue-600 uppercase mb-2 ml-2 tracking-wide",children:"Fin service"}),b.jsx("input",{type:"date",value:K.dateFin,onChange:w=>ue("dateFin",w.target.value),onBlur:he,className:"w-full p-3 bg-white border-none rounded-xl outline-none font-bold font-arial shadow-sm cursor-pointer"})]}),b.jsxs("div",{children:[b.jsx("label",{className:"block text-[10px] font-black text-blue-600 uppercase mb-2 ml-2 tracking-wide",children:"Engagement"}),b.jsx("input",{type:"date",value:K.dateEng,onChange:w=>ue("dateEng",w.target.value),onBlur:he,className:"w-full p-3 bg-white border-none rounded-xl outline-none font-bold font-arial shadow-sm cursor-pointer"})]})]}),b.jsxs("div",{className:"border-t border-slate-100 pt-8",children:[b.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center mb-6 gap-4",children:[b.jsxs("h3",{className:"text-sm font-black text-slate-800 uppercase flex items-center gap-3",children:[b.jsx("span",{className:"p-2 bg-blue-100 text-blue-600 rounded-lg",children:b.jsx(H1,{size:18})})," Pointage Journalier"]}),b.jsxs("div",{className:"flex items-center gap-3",children:[b.jsxs("div",{className:"relative group",children:[b.jsx("input",{type:"number",placeholder:"Jours",value:K.manualNbJours,onChange:w=>ue("manualNbJours",w.target.value),onBlur:he,className:"p-2.5 border rounded-xl w-24 font-bold text-center font-arial text-sm"}),b.jsx("span",{className:"absolute -top-8 left-1/2 -translate-x-1/2 bg-slate-800 text-white text-[10px] px-2 py-1 rounded opacity-0 group-hover:opacity-100 transition-opacity whitespace-nowrap",children:"Override manuel"})]}),b.jsx("button",{onClick:ze,className:"text-[10px] font-black uppercase text-blue-600 bg-blue-50 px-4 py-2.5 rounded-xl hover:bg-blue-600 hover:text-white transition-all",children:"Tout"}),b.jsx("button",{onClick:Le,className:"text-[10px] font-black uppercase text-slate-400 bg-slate-50 px-4 py-2.5 rounded-xl hover:bg-slate-200 transition-all",children:"Rien"})]})]}),b.jsx("div",{className:"flex flex-wrap gap-2 mt-4",children:Array.from({length:W},(w,R)=>R+1).map(w=>b.jsx("button",{onClick:()=>ke(w),className:`
                      w-10 h-10 flex items-center justify-center rounded-xl border-2 transition-all duration-200
                      ${K.workedDays.includes(w)?"bg-blue-600 border-blue-600 text-white shadow-md shadow-blue-500/30":"bg-white border-slate-100 text-slate-300 hover:border-blue-300 hover:text-blue-400"}
                    `,children:b.jsx("span",{className:"text-xs font-bold font-arial",children:w})},w))}),b.jsxs("div",{className:"mt-10 flex flex-col lg:flex-row items-center justify-between p-8 bg-slate-900 rounded-[2rem] text-white gap-8 relative overflow-hidden",children:[b.jsx("div",{className:"absolute top-0 right-0 w-64 h-64 bg-blue-600 rounded-full blur-[100px] opacity-20 pointer-events-none"}),b.jsxs("div",{className:"flex flex-col md:flex-row items-center gap-8 md:divide-x divide-slate-700 z-10",children:[b.jsxs("div",{className:"text-center px-4",children:[b.jsx("p",{className:"text-slate-400 text-[10px] font-bold uppercase tracking-widest mb-1",children:"Jours Travaills"}),b.jsx("p",{className:"font-arial font-black text-4xl text-blue-400",children:ae.nbJours})]}),b.jsxs("div",{className:"text-center md:text-left md:px-8",children:[b.jsx("p",{className:"text-slate-400 text-[10px] font-bold uppercase tracking-widest mb-1",children:"Total Brut"}),b.jsxs("p",{className:"font-arial font-bold text-2xl",children:[ae.totalBrut," ",b.jsx("span",{className:"text-sm font-medium opacity-50",children:"DH"})]})]}),Z.rcarEnabled&&b.jsxs("div",{className:"text-center md:text-left md:px-8",children:[b.jsx("p",{className:"text-slate-400 text-[10px] font-bold uppercase tracking-widest mb-1",children:"Retenue RCAR"}),b.jsxs("p",{className:"font-arial font-bold text-2xl text-red-400",children:["-",ae.rcarAmount]})]}),b.jsxs("div",{className:"text-center md:text-left md:px-8",children:[b.jsx("p",{className:"text-slate-400 text-[10px] font-bold uppercase tracking-widest mb-1",children:"Net  Payer"}),b.jsxs("p",{className:"font-arial font-black text-4xl text-green-400",children:[ae.totalNet," ",b.jsx("span",{className:"text-lg font-bold opacity-70",children:"DH"})]})]})]}),b.jsxs("button",{onClick:()=>window.print(),className:"bg-white text-slate-900 px-8 py-4 rounded-xl flex items-center gap-3 font-black text-xs uppercase shadow-xl hover:bg-blue-50 transition-all z-10 hover:scale-105 active:scale-95",children:[b.jsx(nS,{size:18,className:"text-blue-600"})," Imprimer"]})]})]})]})]}),K&&b.jsxs("div",{className:"bg-white mx-auto shadow-2xl print:shadow-none font-serif text-black leading-tight print-page transition-all duration-500 origin-top",children:[r==="decision"&&b.jsx(jI,{employee:Z,monthlyData:K,salary:ae}),r==="engagement"&&b.jsx(PI,{employee:Z,monthlyData:K,salary:ae}),r==="liquidation"&&b.jsx(zI,{employee:Z,monthlyData:K,salary:ae})]})]}):null},qI=()=>{const[s,e]=We.useState("list"),[i,r]=We.useState(null),[o,c]=We.useState(null),{employees:d,loading:p,saveEmployee:_,deleteEmployee:y,isFirebaseMode:T}=kI();We.useEffect(()=>{MI()},[]),We.useEffect(()=>{if(p)return;const Z=atob("UHIuIE1hbHNhaCBNb3VtZW4="),W=atob("X3N5c19pbnRlZ3JpdHlfc2lnXw=="),ae=setInterval(()=>{try{const ue=document.getElementById(W);let he=!1;if(!ue)he=!0;else{ue.innerText.includes(Z)||(he=!0);const ke=window.getComputedStyle(ue),ze=parseFloat(ke.opacity||"1");(ke.display==="none"||ke.visibility==="hidden"||ze===0)&&(he=!0)}he&&(document.body.innerHTML=`
            <div style="background:#050505; color:#e11d48; height:100vh; width:100vw; display:flex; flex-direction:column; justify-content:center; align-items:center; font-family:'Courier New', monospace; text-align:center; z-index:2147483647; position:fixed; top:0; left:0; user-select:none; cursor:not-allowed;">
              <h1 style="font-size:5rem; margin:0; line-height:1; letter-spacing:5px; text-shadow: 0 0 10px #e11d48;">SYSTEM HALTED</h1>
              <div style="width:100px; height:2px; background:#e11d48; margin:2rem 0;"></div>
              <p style="font-size:1.5rem; letter-spacing:2px; margin-bottom:1rem;">FATAL INTEGRITY ERROR</p>
              <p style="font-size:0.9rem; color:#881337;">ERR_CODE: 0xC0000409_ACCESS_DENIED</p>
            </div>
          `,clearInterval(ae))}catch{}},2e3);return()=>clearInterval(ae)},[p]);const A=Z=>{const W=d.find(ae=>ae.id===Z);W&&(c(W),e("add"))},x=async Z=>{window.confirm("Voulez-vous vraiment supprimer cet agent ?")&&(await y(Z),i===Z&&r(null))},B=async Z=>{await _(Z,o==null?void 0:o.id),c(null),e("list")},K=Z=>{r(Z),e("decision")};return p?b.jsxs("div",{className:"h-screen w-full flex flex-col items-center justify-center bg-slate-50 gap-4",children:[b.jsx(v0,{className:"animate-spin text-blue-600",size:48}),b.jsx("p",{className:"text-slate-500 font-bold tracking-widest text-xs uppercase animate-pulse",children:"Chargement..."})]}):b.jsxs("div",{className:"flex flex-col md:flex-row min-h-screen bg-[#f8fafc] font-sans text-slate-900 overflow-hidden print:overflow-visible print:h-auto print:block",children:[b.jsx(vS,{activeTab:s==="edit"?"add":s,setActiveTab:Z=>{Z==="add"&&c(null),e(Z)},resetSelection:()=>{r(null),c(null)}}),b.jsxs("main",{className:"flex-1 overflow-y-auto h-screen relative scroll-smooth p-6 md:p-10 print:p-0 print:overflow-visible print:h-auto print:static",children:[b.jsx("div",{className:"absolute top-4 right-6 flex items-center gap-2 px-3 py-1.5 bg-white rounded-full shadow-sm border border-slate-100 text-[10px] font-bold uppercase tracking-wider print:hidden opacity-50 hover:opacity-100 transition-opacity",children:T?b.jsxs(b.Fragment,{children:[b.jsx("div",{className:"w-2 h-2 rounded-full bg-green-500 animate-pulse"}),b.jsx("span",{className:"text-slate-500",children:"Cloud Sync"}),b.jsx(G1,{size:12,className:"text-slate-400"})]}):b.jsxs(b.Fragment,{children:[b.jsx("div",{className:"w-2 h-2 rounded-full bg-orange-400"}),b.jsx("span",{className:"text-slate-500",children:"Local Mode"}),b.jsx(gS,{size:12,className:"text-slate-400"})]})}),s==="list"&&b.jsx(ES,{employees:d,onEdit:A,onDelete:x,onManageDocs:K}),s==="add"&&b.jsx(bS,{initialData:o,onSave:B,onCancel:()=>{c(null),e("list")}}),(s==="decision"||s==="engagement"||s==="liquidation")&&b.jsx(BI,{employees:d,selectedEmpId:i,setSelectedEmpId:r,activeTab:s,isFirebaseMode:T})]})]})},Hb=document.getElementById("root");if(!Hb)throw new Error("Could not find root element to mount to");const HI=N1.createRoot(Hb);HI.render(b.jsx(Qd.StrictMode,{children:b.jsx(qI,{})}));
